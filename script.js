const _0x14d2ea=_0x5236;(function(_0x49c87f,_0x2b0088){const _0x9e4acb=_0x5236,_0x571696=_0x49c87f();while(!![]){try{const _0x242074=-parseInt(_0x9e4acb(0x1e9))/0x1+parseInt(_0x9e4acb(0x174))/0x2+parseInt(_0x9e4acb(0x239))/0x3*(-parseInt(_0x9e4acb(0x323))/0x4)+-parseInt(_0x9e4acb(0x2d8))/0x5*(-parseInt(_0x9e4acb(0x290))/0x6)+-parseInt(_0x9e4acb(0x15d))/0x7+parseInt(_0x9e4acb(0x2e1))/0x8+-parseInt(_0x9e4acb(0x16c))/0x9*(-parseInt(_0x9e4acb(0x199))/0xa);if(_0x242074===_0x2b0088)break;else _0x571696['push'](_0x571696['shift']());}catch(_0xceff3c){_0x571696['push'](_0x571696['shift']());}}}(_0xc24d,0x67125));const API_KEY=_0x14d2ea(0x140),API_BASE_URL=_0x14d2ea(0x31d);let currentUser=null,pinnedFiles=[],currentConversation=[],conversations={},currentApiKeyIndex=0x0,userScrolling=![],lastScrollTop=0x0,scrollTimeout;const FREE_CREDITS_PER_DAY=0x3,FREE_CREDITS_REGISTER=0xa,FREE_MODEL_MAX_WORDS=0xc350,FREE_MODEL_MAX_RESPONSE=0x7d0,RETRY_CONFIG={'maxAttempts':0x3,'retryDelay':0x3e8},SYSTEM_INSTRUCTION=_0x14d2ea(0x2a0),firebaseConfig={'apiKey':'AIzaSyCvizcYorGDPN3GXqma0opp7wAiMkaCt64','authDomain':'gemini-bb56e.firebaseapp.com','databaseURL':'https://gemini-bb56e-default-rtdb.firebaseio.com','projectId':_0x14d2ea(0x16a),'storageBucket':'gemini-bb56e.appspot.com','messagingSenderId':_0x14d2ea(0x27d),'appId':_0x14d2ea(0x2f9),'measurementId':'G-CSN292219J'};firebase[_0x14d2ea(0x2a2)](firebaseConfig);const db=firebase[_0x14d2ea(0x278)]();let prompts={},pinnedPrompt=null,pinnedResponses=[],genAI;const API_KEY_LIST_REF=db[_0x14d2ea(0xf7)]('API');let apiKeyList=[];class GeminiApiManager{constructor(){const _0x1925df=_0x14d2ea;this['db']=firebase[_0x1925df(0x278)](),this[_0x1925df(0x129)]=[],this['currentKeyIndex']=0x0,this[_0x1925df(0x143)]={'maxAttempts':0x3,'baseDelay':0x3e8,'maxDelay':0x1388},this[_0x1925df(0x2ab)]=new Map();}async['initialize'](){const _0x4604a2=_0x14d2ea;try{return await this[_0x4604a2(0x2c5)](),this[_0x4604a2(0x343)](),!![];}catch(_0x56cb9d){return console[_0x4604a2(0x134)]('Erreur\x20lors\x20de\x20l\x27initialisation\x20du\x20gestionnaire\x20API:',_0x56cb9d),![];}}async[_0x14d2ea(0x2c5)](){const _0x4cb414=_0x14d2ea,_0x588434=await this['db'][_0x4cb414(0xf7)](_0x4cb414(0x20e))[_0x4cb414(0x1d3)](_0x4cb414(0x2e6)),_0x4a4a87=_0x588434[_0x4cb414(0x231)]();if(!_0x4a4a87)throw new Error(_0x4cb414(0x14a));this['apiKeyList']=Object[_0x4cb414(0x32e)](_0x4a4a87);if(this[_0x4cb414(0x129)][_0x4cb414(0x1aa)]===0x0)throw new Error(_0x4cb414(0x2c2));}[_0x14d2ea(0x1ca)](){const _0x56fea1=_0x14d2ea,_0x81653=this['apiKeyList'][this[_0x56fea1(0x1c4)]];return new GoogleGenerativeAI(_0x81653);}['startKeyRotation'](){setInterval(()=>{const _0x283642=_0x5236;this[_0x283642(0x2fc)]();},0x1388);}[_0x14d2ea(0x2fc)](){const _0x450f5b=_0x14d2ea;this[_0x450f5b(0x1c4)]=(this[_0x450f5b(0x1c4)]+0x1)%this['apiKeyList'][_0x450f5b(0x1aa)];const _0x3fb120=this[_0x450f5b(0x129)][this['currentKeyIndex']];try{genAI=new GoogleGenerativeAI(_0x3fb120),model=genAI[_0x450f5b(0x2c0)]({'model':document['getElementById']('modelSelect')[_0x450f5b(0x2e6)],'systemInstruction':SYSTEM_INSTRUCTION}),console['log'](_0x450f5b(0x338));}catch(_0x4f3567){console[_0x450f5b(0x134)]('Erreur\x20lors\x20de\x20la\x20rotation\x20de\x20clé:',_0x4f3567),this[_0x450f5b(0x308)](this[_0x450f5b(0x1c4)]);}}[_0x14d2ea(0x308)](_0x1b7bf8){const _0x581baf=_0x14d2ea,_0xbd26a6=this[_0x581baf(0x129)][_0x1b7bf8];!this[_0x581baf(0x2ab)]['has'](_0xbd26a6)&&this[_0x581baf(0x2ab)]['set'](_0xbd26a6,{'count':0x0,'lastError':Date['now']()});const _0x50541e=this[_0x581baf(0x2ab)][_0x581baf(0x2ff)](_0xbd26a6);_0x50541e[_0x581baf(0x2d9)]++,_0x50541e[_0x581baf(0xf9)]=Date[_0x581baf(0x243)](),_0x50541e[_0x581baf(0x2d9)]>=0x5&&this['disableKey'](_0x1b7bf8);}async[_0x14d2ea(0x347)](_0x59176c){const _0xd9bb6c=_0x14d2ea,_0x5dec1c=this[_0xd9bb6c(0x129)][_0x59176c];console[_0xd9bb6c(0x305)]('Désactivation\x20temporaire\x20de\x20la\x20clé\x20API:\x20'+_0x5dec1c[_0xd9bb6c(0x19c)](0x0,0x8)+_0xd9bb6c(0x1ab));try{await this['db'][_0xd9bb6c(0xf7)](_0xd9bb6c(0x2de)+_0x59176c+_0xd9bb6c(0x1e7))[_0xd9bb6c(0x34e)]({'timestamp':Date['now'](),'reason':'Trop\x20d\x27erreurs\x20consécutives'});}catch(_0x4ea2ec){console['error'](_0xd9bb6c(0x285),_0x4ea2ec);}setTimeout(()=>{const _0x4cece5=_0xd9bb6c;this[_0x4cece5(0x2cf)](_0x59176c);},0x36ee80);}async[_0x14d2ea(0x2cf)](_0x26446f){const _0x4fab7b=_0x14d2ea;try{await this['db'][_0x4fab7b(0xf7)](_0x4fab7b(0x2de)+_0x26446f+_0x4fab7b(0x1e7))[_0x4fab7b(0x151)](),this[_0x4fab7b(0x2ab)]['delete'](this[_0x4fab7b(0x129)][_0x26446f]),console[_0x4fab7b(0x314)](_0x4fab7b(0x155)+this[_0x4fab7b(0x129)][_0x26446f][_0x4fab7b(0x19c)](0x0,0x8)+'...');}catch(_0x3e7ae8){console['error']('Erreur\x20lors\x20de\x20la\x20réactivation\x20de\x20la\x20clé:',_0x3e7ae8);}}async[_0x14d2ea(0x2fa)](_0x5d36c4){const _0x46717c=_0x14d2ea;let _0x3c18b9=0x0,_0x2ef252=null;while(_0x3c18b9<this['retryConfig'][_0x46717c(0x327)]){try{genAI=this[_0x46717c(0x1ca)](),model=genAI[_0x46717c(0x2c0)]({'model':document[_0x46717c(0x210)](_0x46717c(0x102))[_0x46717c(0x2e6)],'systemInstruction':SYSTEM_INSTRUCTION});const _0x341091=await _0x5d36c4();return _0x341091;}catch(_0x536177){_0x2ef252=_0x536177,_0x3c18b9++;if(!this[_0x46717c(0x331)](_0x536177)||_0x3c18b9>=this[_0x46717c(0x143)][_0x46717c(0x327)])throw _0x536177;const _0x5bba2d=this['calculateRetryDelay'](_0x3c18b9);console[_0x46717c(0x314)](_0x46717c(0x1ec)+_0x3c18b9+'/'+this[_0x46717c(0x143)][_0x46717c(0x327)]+_0x46717c(0x348)+_0x5bba2d+'ms'),this[_0x46717c(0x2fc)](),await new Promise(_0x25b5ff=>setTimeout(_0x25b5ff,_0x5bba2d));}}throw new Error('Échec\x20après\x20'+_0x3c18b9+_0x46717c(0xec)+_0x2ef252[_0x46717c(0x23d)]);}[_0x14d2ea(0x331)](_0x4d2102){const _0x3c911a=_0x14d2ea,_0xce9ca7=[_0x3c911a(0x2ec),_0x3c911a(0x2b7),_0x3c911a(0x13c),_0x3c911a(0x317),_0x3c911a(0x1d9)];return _0xce9ca7[_0x3c911a(0x156)](_0x4d2102[_0x3c911a(0x1b7)])||_0x4d2102[_0x3c911a(0x23d)][_0x3c911a(0x156)](_0x3c911a(0x2f2))||_0x4d2102[_0x3c911a(0x23d)]['includes']('rate\x20limit')||_0x4d2102['status']===0x1ad||_0x4d2102['status']>=0x1f4;}[_0x14d2ea(0x122)](_0x4ce308){const _0x289bd1=_0x14d2ea,_0x28266f=Math['min'](this[_0x289bd1(0x143)][_0x289bd1(0x190)],this[_0x289bd1(0x143)][_0x289bd1(0x245)]*Math[_0x289bd1(0x28a)](0x2,_0x4ce308-0x1));return _0x28266f+Math[_0x289bd1(0x26f)]()*0x3e8;}['startPerformanceMonitoring'](){setInterval(()=>{this['analyzeApiPerformance']();},0x493e0);}async[_0x14d2ea(0x28b)](){const _0x574a7e=_0x14d2ea,_0x575c6c=Array[_0x574a7e(0x1e3)](this['errorTracker']['entries']())[_0x574a7e(0x26b)](([_0x2948b6,_0x29eef8])=>({'key':_0x2948b6[_0x574a7e(0x19c)](0x0,0x8),'errors':_0x29eef8[_0x574a7e(0x2d9)],'lastError':new Date(_0x29eef8[_0x574a7e(0xf9)])[_0x574a7e(0x2f5)]()}));console[_0x574a7e(0x345)](_0x575c6c);try{await this['db'][_0x574a7e(0xf7)](_0x574a7e(0x11d))[_0x574a7e(0x179)]({'timestamp':Date[_0x574a7e(0x243)](),'stats':_0x575c6c});}catch(_0x269022){console[_0x574a7e(0x134)](_0x574a7e(0x136),_0x269022);}}}async function loadApiKeyList(){const _0x3f04b9=_0x14d2ea;try{const _0x437a92=await API_KEY_LIST_REF[_0x3f04b9(0x1d3)](_0x3f04b9(0x2e6)),_0x86b95c=_0x437a92['val']();_0x86b95c?apiKeyList=Object[_0x3f04b9(0x32e)](_0x86b95c):console[_0x3f04b9(0x305)](_0x3f04b9(0x133));}catch(_0x5ea9ff){console[_0x3f04b9(0x134)](_0x3f04b9(0x302),_0x5ea9ff);}}function getRandomApiKey(){const _0xc5be5b=_0x14d2ea;if(apiKeyList[_0xc5be5b(0x1aa)]===0x0)return console[_0xc5be5b(0x134)](_0xc5be5b(0x104)),null;const _0x51bd65=Math[_0xc5be5b(0x2b1)](Math['random']()*apiKeyList['length']);return apiKeyList[_0x51bd65];}function getNextApiKey(){const _0x787b3a=_0x14d2ea;if(apiKeyList['length']===0x0)return console[_0x787b3a(0x134)](_0x787b3a(0x104)),null;const _0x54a181=apiKeyList[currentApiKeyIndex];return currentApiKeyIndex=(currentApiKeyIndex+0x1)%apiKeyList['length'],_0x54a181;}function initializeApiKeyRotation(){apiKeyList['length']>0x0&&(genAI=new GoogleGenerativeAI(getNextApiKey())),setInterval(()=>{const _0x3f1edb=_0x5236,_0xcf0f02=getNextApiKey();_0xcf0f02&&(genAI=new GoogleGenerativeAI(_0xcf0f02),console[_0x3f1edb(0x314)](_0x3f1edb(0x127)),model=genAI[_0x3f1edb(0x2c0)]({'model':document['getElementById'](_0x3f1edb(0x102))['value'],'systemInstruction':SYSTEM_INSTRUCTION}));},0x1388);}function initializeGeminiAPI(){const _0x25f420=_0x14d2ea,_0x36121c=getNextApiKey();_0x36121c?(genAI=new GoogleGenerativeAI(_0x36121c),model=genAI['getGenerativeModel']({'model':document[_0x25f420(0x210)](_0x25f420(0x102))[_0x25f420(0x2e6)],'systemInstruction':SYSTEM_INSTRUCTION})):showNotification(_0x25f420(0x235),_0x25f420(0x134));}class ApiError extends Error{constructor(_0x25838e,_0x246ce8){const _0x31e547=_0x14d2ea;super(_0x25838e),this[_0x31e547(0x273)]=_0x246ce8,this[_0x31e547(0x2c6)]=_0x31e547(0x153);}}class ApiKeyManager{constructor(_0x170cfb){const _0x42ca67=_0x14d2ea;this[_0x42ca67(0x2e9)]=_0x170cfb,this['currentIndex']=0x0,this[_0x42ca67(0x176)]=new Set();}[_0x14d2ea(0x255)](){const _0xb3eea9=_0x14d2ea,_0x5bba69=this['currentIndex'];do{this[_0xb3eea9(0x1c9)]=(this[_0xb3eea9(0x1c9)]+0x1)%this['apiKeys']['length'];if(!this[_0xb3eea9(0x176)][_0xb3eea9(0x187)](this[_0xb3eea9(0x2e9)][this[_0xb3eea9(0x1c9)]]))return this[_0xb3eea9(0x2e9)][this[_0xb3eea9(0x1c9)]];}while(this[_0xb3eea9(0x1c9)]!==_0x5bba69);return null;}[_0x14d2ea(0x21e)](){const _0x484dad=_0x14d2ea;this[_0x484dad(0x176)]['clear']();}[_0x14d2ea(0x2da)](_0x5481fe){const _0x247054=_0x14d2ea;this[_0x247054(0x176)][_0x247054(0x217)](_0x5481fe);}}async function executeWithRetry(_0x4a898a){const _0x3af704=_0x14d2ea,_0x148b5f=new ApiKeyManager(apiKeyList);let _0x5cb6c1=null,_0x183b64=0x0;while(_0x183b64<RETRY_CONFIG[_0x3af704(0x327)]){const _0xbdad29=_0x148b5f[_0x3af704(0x255)]();if(!_0xbdad29)throw new Error(_0x3af704(0x339));try{genAI=new GoogleGenerativeAI(_0xbdad29),model=genAI[_0x3af704(0x2c0)]({'model':document[_0x3af704(0x210)](_0x3af704(0x102))['value'],'systemInstruction':SYSTEM_INSTRUCTION});const _0x46e282=await _0x4a898a();return console['log'](_0x3af704(0x11e)+_0xbdad29),_0x46e282;}catch(_0x4d3416){_0x5cb6c1=_0x4d3416,_0x148b5f[_0x3af704(0x2da)](_0xbdad29),_0x183b64++,console['log'](_0x3af704(0x324)+_0xbdad29+_0x3af704(0x1fd)+_0x183b64+'/'+RETRY_CONFIG[_0x3af704(0x327)]),_0x183b64<RETRY_CONFIG[_0x3af704(0x327)]&&await new Promise(_0x2d18d6=>setTimeout(_0x2d18d6,RETRY_CONFIG[_0x3af704(0x2b5)]));}}throw new Error(_0x3af704(0x335)+_0x183b64+_0x3af704(0xec)+_0x5cb6c1['message']);}function shouldRetry(_0x5dc657){const _0x25bb48=_0x14d2ea,_0x46a106=[_0x25bb48(0x2ec),_0x25bb48(0x2b7),'DEADLINE_EXCEEDED',_0x25bb48(0x317),_0x25bb48(0x1d9)];return _0x46a106['includes'](_0x5dc657['code'])||_0x5dc657[_0x25bb48(0x23d)][_0x25bb48(0x156)](_0x25bb48(0x2f2))||_0x5dc657['message'][_0x25bb48(0x156)](_0x25bb48(0x2f8))||_0x5dc657[_0x25bb48(0x273)]===0x1ad||_0x5dc657[_0x25bb48(0x273)]>=0x1f4;}function createPointer(){const _0x1b3bed=_0x14d2ea,_0xa1bb1e=document['createElement'](_0x1b3bed(0x11a));return _0xa1bb1e[_0x1b3bed(0x1be)][_0x1b3bed(0x217)](_0x1b3bed(0x132)),_0xa1bb1e[_0x1b3bed(0x2e3)]='👆',_0xa1bb1e[_0x1b3bed(0x2df)][_0x1b3bed(0x11c)]=_0x1b3bed(0x34c),_0xa1bb1e[_0x1b3bed(0x2df)][_0x1b3bed(0x22f)]='none',document[_0x1b3bed(0x311)]['appendChild'](_0xa1bb1e),_0xa1bb1e;}function positionPointer(_0x4e4500,_0xc89baf){const _0x5d1fd0=_0x14d2ea,_0x4d06f7=_0xc89baf['getBoundingClientRect']();_0x4e4500['style'][_0x5d1fd0(0x1d0)]=_0x4d06f7[_0x5d1fd0(0x1d0)]+_0x4d06f7[_0x5d1fd0(0x1b2)]/0x2+'px',_0x4e4500['style']['top']=_0x4d06f7[_0x5d1fd0(0x114)]+_0x4d06f7[_0x5d1fd0(0x193)]/0x2+'px',_0x4e4500[_0x5d1fd0(0x2df)][_0x5d1fd0(0x22f)]=_0x5d1fd0(0x1df);}function highlightElement(_0x14e77c){const _0x30f343=_0x14d2ea;_0x14e77c[_0x30f343(0x1be)][_0x30f343(0x217)](_0x30f343(0x1c7));}function removeHighlight(_0x5507cf){const _0x3363b1=_0x14d2ea;_0x5507cf[_0x3363b1(0x1be)][_0x3363b1(0x151)]('tour-highlight');}function startGuidedTour(){const _0x8631be=_0x14d2ea,_0x221251=createPointer(),_0xe7e667=new Shepherd[(_0x8631be(0x178))]({'defaultStepOptions':{'cancelIcon':{'enabled':!![]},'classes':_0x8631be(0x266),'scrollTo':{'behavior':_0x8631be(0x25d),'block':_0x8631be(0x234)}}}),_0x5e5ded=[{'id':_0x8631be(0x12e),'text':_0x8631be(0x2d1),'attachTo':{'element':_0x8631be(0x195),'on':'bottom'}},{'id':_0x8631be(0x1d7),'text':_0x8631be(0x288),'attachTo':{'element':_0x8631be(0x1dc),'on':_0x8631be(0x270)},'beforeShow':()=>{const _0x170bca=_0x8631be,_0x2e6d47=document[_0x170bca(0x15f)](_0x170bca(0x1dc));highlightElement(_0x2e6d47);const _0x48c628=document[_0x170bca(0x15f)](_0x170bca(0x269));!_0x48c628['classList'][_0x170bca(0x2dd)]('visible')&&_0x2e6d47[_0x170bca(0x1f0)]();},'beforeHide':()=>{const _0x361bf1=_0x8631be,_0x387998=document[_0x361bf1(0x15f)]('.toggle-sidebar');removeHighlight(_0x387998);}},{'id':_0x8631be(0x248),'text':'Voici\x20la\x20zone\x20de\x20saisie.\x20C\x27est\x20ici\x20que\x20vous\x20poserez\x20vos\x20questions.','attachTo':{'element':_0x8631be(0x29a),'on':_0x8631be(0x114)}},{'id':_0x8631be(0x2e7),'text':_0x8631be(0x238),'attachTo':{'element':_0x8631be(0x32a),'on':_0x8631be(0x114)}},{'id':_0x8631be(0x21a),'text':_0x8631be(0x1f6),'attachTo':{'element':_0x8631be(0x1b8),'on':_0x8631be(0x114)}},{'id':'send-button','text':_0x8631be(0x2e8),'attachTo':{'element':_0x8631be(0x23f),'on':'top'}},{'id':_0x8631be(0x326),'text':_0x8631be(0x24c),'attachTo':{'element':_0x8631be(0x105),'on':_0x8631be(0xfe)}}];_0x5e5ded[_0x8631be(0x2f3)]((_0x1d3b0f,_0xde198e)=>{const _0x139a74=_0x8631be;_0xe7e667['addStep']({..._0x1d3b0f,'buttons':[{'text':_0xde198e===_0x5e5ded[_0x139a74(0x1aa)]-0x1?'Terminer':'Suivant','action':_0xde198e===_0x5e5ded[_0x139a74(0x1aa)]-0x1?_0xe7e667['complete']:_0xe7e667[_0x139a74(0x172)]}],'beforeShow':()=>{const _0x34fb78=_0x139a74,_0x3e0118=document[_0x34fb78(0x15f)](_0x1d3b0f[_0x34fb78(0x23a)][_0x34fb78(0x292)]);_0x3e0118&&positionPointer(_0x221251,_0x3e0118),_0x1d3b0f['beforeShow']&&_0x1d3b0f[_0x34fb78(0x106)]();},'beforeHide':()=>{const _0x23e409=_0x139a74;_0x221251[_0x23e409(0x2df)][_0x23e409(0x22f)]=_0x23e409(0x253);}});}),_0xe7e667['on'](_0x8631be(0x2a7),()=>{const _0x515abb=_0x8631be;_0x221251[_0x515abb(0x151)]();const _0x150eae=document['querySelector']('.sidebar');_0x150eae[_0x515abb(0x1be)][_0x515abb(0x2dd)](_0x515abb(0x268))&&document[_0x515abb(0x15f)](_0x515abb(0x1dc))['click']();}),_0xe7e667[_0x8631be(0x304)]();}async function checkGuidedTourStatus(_0x4e8e69){const _0x3261cf=_0x14d2ea,_0x4aa2cb=db[_0x3261cf(0xf7)](_0x3261cf(0x20f)+_0x4e8e69),_0x45c6d9=await _0x4aa2cb[_0x3261cf(0x1d3)](_0x3261cf(0x2e6)),_0x499783=_0x45c6d9[_0x3261cf(0x231)]();return _0x499783&&_0x499783[_0x3261cf(0x135)];}async function markGuidedTourAsSeen(_0x38fe78){const _0x49f676=_0x14d2ea,_0x21cda1=db[_0x49f676(0xf7)](_0x49f676(0x20f)+_0x38fe78);await _0x21cda1[_0x49f676(0x152)]({'hasSeenGuidedTour':!![]});}async function checkSubscriptionStatus(){const _0x591ee7=_0x14d2ea;if(!currentUser||!currentUser['subscriptionEndDate'])return;const _0x168fa2=new Date(),_0x157685=new Date(currentUser['subscriptionEndDate']);if(_0x168fa2>_0x157685)currentUser[_0x591ee7(0x109)]=null,currentUser[_0x591ee7(0x1c0)]=null,await syncUserData(),showNotification('Votre\x20abonnement\x20a\x20expiré.','info'),updateUIForLoggedInUser();else{if(_0x168fa2>new Date(_0x157685[_0x591ee7(0x1dd)]()-0x3*0x18*0x3c*0x3c*0x3e8)){const _0x7254dd=Math[_0x591ee7(0x21b)]((_0x157685-_0x168fa2)/(0x18*0x3c*0x3c*0x3e8));showNotification(_0x591ee7(0x351)+_0x7254dd+_0x591ee7(0x340)+(_0x7254dd>0x1?'s':'')+'.',_0x591ee7(0x18e));}}}function generateInvoicePDF(_0x3246e8){const _0x2cd753=_0x14d2ea,{jsPDF:_0x21d690}=window['jspdf'],_0x28329c=new _0x21d690();return _0x28329c[_0x2cd753(0x16d)](0x12),_0x28329c[_0x2cd753(0x1fb)](_0x2cd753(0x180),0x69,0x14,null,null,_0x2cd753(0x234)),_0x28329c[_0x2cd753(0x16d)](0xc),_0x28329c[_0x2cd753(0x1fb)](_0x2cd753(0x1b4)+currentUser['username'],0x14,0x28),_0x28329c[_0x2cd753(0x1fb)](_0x2cd753(0x281)+new Date()[_0x2cd753(0x2f7)](),0x14,0x32),_0x28329c[_0x2cd753(0x1fb)](_0x2cd753(0x2ae)+_0x3246e8['description'],0x14,0x3c),_0x28329c['text'](_0x2cd753(0x2a4)+_0x3246e8['amount']+_0x2cd753(0x2dc),0x14,0x46),_0x28329c['text']('Numéro\x20de\x20transaction\x20:\x20'+_0x3246e8['id'],0x14,0x50),_0x28329c;}function showInvoiceDetails(_0x4fc35c){const _0x22c166=_0x14d2ea,_0x2d0b4a=document[_0x22c166(0x22a)](_0x22c166(0x11a));_0x2d0b4a[_0x22c166(0x1eb)]=_0x22c166(0x2af),_0x2d0b4a[_0x22c166(0x2e3)]=_0x22c166(0x349)+new Date()[_0x22c166(0x2f7)]()+_0x22c166(0x2b0)+_0x4fc35c[_0x22c166(0x30e)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Montant:</strong>\x20'+_0x4fc35c['amount']+_0x22c166(0x18a)+_0x4fc35c['id']+_0x22c166(0x341),document['body']['appendChild'](_0x2d0b4a),document['getElementById'](_0x22c166(0xfb))[_0x22c166(0x168)](_0x22c166(0x1f0),()=>{const _0x4c5ef1=_0x22c166,_0x46202a=generateInvoicePDF(_0x4fc35c);_0x46202a['save'](_0x4c5ef1(0x165)+_0x4fc35c['id']+_0x4c5ef1(0x30c));}),document[_0x22c166(0x210)](_0x22c166(0x2c1))[_0x22c166(0x168)]('click',()=>{const _0x5e3d67=_0x22c166;document['body'][_0x5e3d67(0x1bb)](_0x2d0b4a);});}function initializeNewDiscussion(){const _0x1294fc=_0x14d2ea;currentConversation=[];const _0x5b6ffa=document[_0x1294fc(0x210)]('messageContainer');_0x5b6ffa[_0x1294fc(0x2e3)]='',addMessageToChat('ai',_0x1294fc(0x128)),updateConversationHistory();}function showLoginModal(){const _0x3e303e=_0x14d2ea;document[_0x3e303e(0x210)](_0x3e303e(0x2f4))[_0x3e303e(0x2df)][_0x3e303e(0x22f)]='block';}function showRegisterModal(){const _0x39cb57=_0x14d2ea;document[_0x39cb57(0x210)](_0x39cb57(0x123))['style'][_0x39cb57(0x22f)]=_0x39cb57(0x1df);}function closeModal(_0x512118){const _0x32864f=_0x14d2ea;document[_0x32864f(0x210)](_0x512118)[_0x32864f(0x2df)][_0x32864f(0x22f)]='none';}function updateUIForLoggedInUser(){const _0x4ff41b=_0x14d2ea;document['getElementById'](_0x4ff41b(0x289))[_0x4ff41b(0x1be)][_0x4ff41b(0x217)]('hidden'),document[_0x4ff41b(0x210)]('registerBtn')[_0x4ff41b(0x1be)][_0x4ff41b(0x217)](_0x4ff41b(0x1ef)),document[_0x4ff41b(0x210)](_0x4ff41b(0x1a9))[_0x4ff41b(0x1be)]['remove'](_0x4ff41b(0x1ef)),document['getElementById'](_0x4ff41b(0x120))[_0x4ff41b(0x1be)][_0x4ff41b(0x151)](_0x4ff41b(0x1ef)),document[_0x4ff41b(0x210)](_0x4ff41b(0x14b))[_0x4ff41b(0x117)]=currentUser[_0x4ff41b(0x14b)],document['getElementById'](_0x4ff41b(0x30f))[_0x4ff41b(0x117)]=currentUser[_0x4ff41b(0x30f)],document[_0x4ff41b(0x210)](_0x4ff41b(0x2cb))[_0x4ff41b(0x117)]=currentUser[_0x4ff41b(0x2cb)],document[_0x4ff41b(0x210)]('subscription')['textContent']=currentUser[_0x4ff41b(0x109)]||'Aucun',loadConversationHistory();}function updateUIForLoggedOutUser(){const _0x103e2e=_0x14d2ea;document[_0x103e2e(0x210)](_0x103e2e(0x289))[_0x103e2e(0x1be)][_0x103e2e(0x151)](_0x103e2e(0x1ef)),document[_0x103e2e(0x210)](_0x103e2e(0x1f9))[_0x103e2e(0x1be)][_0x103e2e(0x151)](_0x103e2e(0x1ef)),document[_0x103e2e(0x210)](_0x103e2e(0x1a9))['classList']['add']('hidden'),document[_0x103e2e(0x210)](_0x103e2e(0x120))[_0x103e2e(0x1be)][_0x103e2e(0x217)](_0x103e2e(0x1ef)),document['getElementById'](_0x103e2e(0x2a6))[_0x103e2e(0x2e3)]=_0x103e2e(0x16b);}function storeLoginInfo(_0x3351b2,_0x2761a8){const _0x1dc919=_0x14d2ea;localStorage[_0x1dc919(0x171)]('eduqueMoiUsername',_0x3351b2),localStorage[_0x1dc919(0x171)](_0x1dc919(0x18d),_0x2761a8);}function getStoredLoginInfo(){const _0x3a2c71=_0x14d2ea;return{'username':localStorage[_0x3a2c71(0x21d)](_0x3a2c71(0x126)),'password':localStorage[_0x3a2c71(0x21d)](_0x3a2c71(0x18d))};}function clearLoginInfo(){const _0x322c6f=_0x14d2ea;localStorage[_0x322c6f(0x33c)](_0x322c6f(0x126)),localStorage[_0x322c6f(0x33c)]('eduqueMoiPassword');}async function register(){const _0x38f161=_0x14d2ea,_0x44391c=document['getElementById']('registerUsername')[_0x38f161(0x2e6)],_0x133844=document[_0x38f161(0x210)](_0x38f161(0x315))[_0x38f161(0x2e6)],_0x3387f2=new URLSearchParams(window['location']['search'])['get'](_0x38f161(0xf7));if(!_0x44391c||!_0x133844){showNotification('Veuillez\x20remplir\x20tous\x20les\x20champs.',_0x38f161(0x134));return;}try{const _0x489419=db['ref'](_0x38f161(0x20f)+_0x44391c),_0x56ce20=await _0x489419['once'](_0x38f161(0x2e6));if(_0x56ce20[_0x38f161(0x32d)]()){showNotification('Ce\x20nom\x20d\x27utilisateur\x20existe\x20déjà.',_0x38f161(0x134));return;}const _0x3bae13=new Date(),_0x2e9106={'password':_0x133844,'freeCredits':FREE_CREDITS_REGISTER,'paidCredits':0x0,'subscription':null,'subscriptionEndDate':null,'lastFreeCreditsReset':_0x3bae13[_0x38f161(0x139)](),'referredBy':_0x3387f2||null,'firstPurchase':![],'totalReferrals':0x0,'activeReferrals':0x0,'hasSeenGuidedTour':![]};await _0x489419[_0x38f161(0x34e)](_0x2e9106);if(_0x3387f2){const _0x1b7d29=await db[_0x38f161(0xf7)]('users')['orderByChild'](_0x38f161(0x1b1))[_0x38f161(0x15e)](_0x3387f2)['once'](_0x38f161(0x2e6)),_0xe04ecb=_0x1b7d29[_0x38f161(0x231)]();if(_0xe04ecb){const _0x26d370=Object['keys'](_0xe04ecb)[0x0];await db[_0x38f161(0xf7)](_0x38f161(0x20f)+_0x26d370+_0x38f161(0x350)+_0x44391c)['set']({'date':_0x3bae13[_0x38f161(0x139)](),'isActive':![]});const _0x2a9be2=db[_0x38f161(0xf7)](_0x38f161(0x20f)+_0x26d370);await _0x2a9be2[_0x38f161(0x2d3)](_0x40003c=>{const _0x4e0f2e=_0x38f161;return _0x40003c&&(_0x40003c[_0x4e0f2e(0x225)]=(_0x40003c[_0x4e0f2e(0x225)]||0x0)+0x1),_0x40003c;}),currentUser&&currentUser[_0x38f161(0x14b)]===_0x26d370&&(document[_0x38f161(0x210)](_0x38f161(0x225))['textContent']=(parseInt(document['getElementById'](_0x38f161(0x225))['textContent'])||0x0)+0x1);}}currentUser={'username':_0x44391c,..._0x2e9106},updateUIForLoggedInUser(),showNotification('Inscription\x20réussie\x20!\x20Vous\x20avez\x20reçu\x2010\x20crédits\x20gratuits.',_0x38f161(0x184)),closeModal(_0x38f161(0x123)),storeLoginInfo(_0x44391c,_0x133844),startGuidedTour(),await markGuidedTourAsSeen(_0x44391c);}catch(_0x1b5b39){console[_0x38f161(0x134)]('Erreur\x20lors\x20de\x20l\x27inscription:',_0x1b5b39),showNotification('Erreur\x20lors\x20de\x20l\x27inscription.\x20Veuillez\x20réessayer.',_0x38f161(0x134));}}async function login(_0x5761f5,_0x4cf26a){const _0x203a8f=_0x14d2ea;(!_0x5761f5||!_0x4cf26a)&&(_0x5761f5=document[_0x203a8f(0x210)]('loginUsername')[_0x203a8f(0x2e6)],_0x4cf26a=document[_0x203a8f(0x210)](_0x203a8f(0x22c))[_0x203a8f(0x2e6)]);if(!_0x5761f5||!_0x4cf26a){showNotification('Veuillez\x20remplir\x20tous\x20les\x20champs.',_0x203a8f(0x134));return;}try{const _0x57b39b=db[_0x203a8f(0xf7)]('users/'+_0x5761f5),_0x16662f=await _0x57b39b['once'](_0x203a8f(0x2e6));if(_0x16662f[_0x203a8f(0x32d)]()&&_0x16662f['val']()[_0x203a8f(0x32c)]===_0x4cf26a){const _0x1d4b31=_0x16662f[_0x203a8f(0x231)]();currentUser={'username':_0x5761f5,'freeCredits':_0x1d4b31[_0x203a8f(0x30f)]||0x0,'paidCredits':_0x1d4b31[_0x203a8f(0x2cb)]||0x0,'subscription':_0x1d4b31[_0x203a8f(0x109)]||null,'subscriptionEndDate':_0x1d4b31[_0x203a8f(0x1c0)]||null,'lastFreeCreditsReset':_0x1d4b31[_0x203a8f(0x2b6)]||new Date()[_0x203a8f(0x139)](),'referralCode':_0x1d4b31[_0x203a8f(0x1b1)]||null,'totalReferrals':_0x1d4b31['totalReferrals']||0x0,'activeReferrals':_0x1d4b31['activeReferrals']||0x0},await resetFreeCreditsIfNeeded(),await checkSubscriptionStatus(),await initializeImageGenerationTracking(_0x5761f5),updateUIForLoggedInUser(),storeLoginInfo(_0x5761f5,_0x4cf26a),loadConversationHistory();const _0x5e6d81=await checkGuidedTourStatus(_0x5761f5);!_0x5e6d81&&(startGuidedTour(),await markGuidedTourAsSeen(_0x5761f5)),_0x1d4b31[_0x203a8f(0x198)]&&await updateReferralStats(_0x5761f5),importedFilesCount=_0x1d4b31[_0x203a8f(0x250)]||0x0,lastImportReset=new Date(_0x1d4b31[_0x203a8f(0x14f)]||new Date()),await syncUserData(),showNotification(_0x203a8f(0x20c),_0x203a8f(0x184)),closeModal(_0x203a8f(0x2f4)),_0x1d4b31[_0x203a8f(0x272)]&&loadCustomPrompts(_0x1d4b31[_0x203a8f(0x272)]),checkPendingNotifications(),initializeGeminiAPI(),createNewConversation();}else showNotification(_0x203a8f(0x251),_0x203a8f(0x134));}catch(_0x381507){console[_0x203a8f(0x134)]('Erreur\x20lors\x20de\x20la\x20connexion:',_0x381507),showNotification(_0x203a8f(0x221),_0x203a8f(0x134));}}async function checkPendingNotifications(){const _0x2d9d54=_0x14d2ea;if(currentUser['subscription']){const _0x2b8541=new Date(currentUser[_0x2d9d54(0x1c0)]),_0x1acb0a=new Date(),_0x1d11f1=Math['ceil']((_0x2b8541-_0x1acb0a)/(0x3e8*0x3c*0x3c*0x18));_0x1d11f1<=0x3&&_0x1d11f1>0x0&&showNotification(_0x2d9d54(0x351)+_0x1d11f1+_0x2d9d54(0x340)+(_0x1d11f1>0x1?'s':'')+'.',_0x2d9d54(0x18e));}!currentUser[_0x2d9d54(0x109)]&&currentUser[_0x2d9d54(0x2cb)]<0xa&&currentUser[_0x2d9d54(0x30f)]<0x3&&showNotification(_0x2d9d54(0x321),_0x2d9d54(0x18e));}function loadCustomPrompts(_0x25f4ef){const _0x31c7a5=_0x14d2ea;Array[_0x31c7a5(0x262)](_0x25f4ef)&&_0x25f4ef[_0x31c7a5(0x2f3)](_0x2228b0=>{!prompts[_0x2228b0['id']]&&(prompts[_0x2228b0['id']]=_0x2228b0);});}function logout(){const _0x23b267=_0x14d2ea;currentUser&&syncUserData(),currentUser=null,updateUIForLoggedOutUser(),showNotification(_0x23b267(0x240),_0x23b267(0x184)),clearLoginInfo();}async function resetFreeCreditsIfNeeded(){const _0x3fec26=_0x14d2ea,_0x5ab182=new Date(),_0x3e1161=new Date(currentUser[_0x3fec26(0x2b6)]);if(_0x5ab182[_0x3fec26(0x1dd)]()-_0x3e1161[_0x3fec26(0x1dd)]()>=0x18*0x3c*0x3c*0x3e8){const _0x21a777=currentUser['freeCredits'];currentUser['freeCredits']=FREE_CREDITS_PER_DAY,currentUser[_0x3fec26(0x2b6)]=_0x5ab182[_0x3fec26(0x139)](),await syncUserData(),document[_0x3fec26(0x210)]('freeCredits')[_0x3fec26(0x117)]=currentUser[_0x3fec26(0x30f)];const _0x212010=currentUser[_0x3fec26(0x30f)]-_0x21a777;_0x212010>0x0&&showNotification(_0x212010+_0x3fec26(0x23e),_0x3fec26(0x184));}}async function checkModelAccess(){const _0xac8d7f=_0x14d2ea,_0x5a67cc=document[_0xac8d7f(0x210)](_0xac8d7f(0x102))[_0xac8d7f(0x2e6)],_0x189106=document[_0xac8d7f(0x210)](_0xac8d7f(0x150));_0x189106[_0xac8d7f(0x2df)][_0xac8d7f(0x22f)]=isImageGenerationModel(_0x5a67cc)?_0xac8d7f(0x1df):_0xac8d7f(0x253);if(isImageGenerationModel(_0x5a67cc)){if(!hasValidSubscription()&&currentUser[_0xac8d7f(0x2cb)]<0x5&&currentUser[_0xac8d7f(0x30f)]<0x5){showPaymentNotification('La\x20génération\x20d\x27images\x20nécessite\x205\x20crédits.'),document[_0xac8d7f(0x210)]('modelSelect')['value']=_0xac8d7f(0x30d),_0x189106['style'][_0xac8d7f(0x22f)]='none';return;}}else![_0xac8d7f(0x30d),_0xac8d7f(0x27f)][_0xac8d7f(0x156)](_0x5a67cc)&&!hasValidSubscription()&&currentUser[_0xac8d7f(0x2cb)]<=0x0&&(showPaymentNotification(_0xac8d7f(0x211)),document[_0xac8d7f(0x210)](_0xac8d7f(0x102))[_0xac8d7f(0x2e6)]=_0xac8d7f(0x30d));}async function handleFileUpload(_0x3429bd){const _0x21278a=_0x14d2ea,_0x7454c3=_0x3429bd['target'][_0x21278a(0x258)];for(let _0x5877cb=0x0;_0x5877cb<_0x7454c3[_0x21278a(0x1aa)];_0x5877cb++){const _0x1ed2e1=_0x7454c3[_0x5877cb];if(_0x1ed2e1[_0x21278a(0x29c)]===_0x21278a(0x177)||_0x1ed2e1['type']===_0x21278a(0x2eb))try{const _0x59aaa5=await convertWordToText(_0x1ed2e1);pinnedFiles[_0x21278a(0x179)]({'name':_0x1ed2e1['name']['replace'](/\.[^/.]+$/,'')+_0x21278a(0x1de),'type':_0x21278a(0x263),'content':_0x59aaa5}),updatePinnedFiles(),importedFilesCount++,await db['ref'](_0x21278a(0x20f)+currentUser[_0x21278a(0x14b)])[_0x21278a(0x152)]({'importedFilesCount':importedFilesCount});}catch(_0x16f54e){console[_0x21278a(0x134)](_0x21278a(0x2ce),_0x16f54e),showNotification(_0x21278a(0x31a),'error');}else(_0x1ed2e1[_0x21278a(0x29c)][_0x21278a(0x31e)]('image/')||_0x1ed2e1[_0x21278a(0x29c)]==='application/pdf')&&(pinnedFiles[_0x21278a(0x179)](_0x1ed2e1),updatePinnedFiles());}}function convertWordToText(_0x15953b){return new Promise((_0x41ae0c,_0x570de4)=>{const _0x32005e=_0x5236,_0x1ff831=new FileReader();_0x1ff831['onload']=function(_0x2b0c41){const _0x91cf8d=_0x5236,_0x155923=_0x2b0c41[_0x91cf8d(0x2b3)][_0x91cf8d(0x202)];mammoth[_0x91cf8d(0x1b9)]({'arrayBuffer':_0x155923})['then'](function(_0x2c052c){const _0x3e6d59=_0x91cf8d;_0x41ae0c(_0x2c052c[_0x3e6d59(0x2e6)]);})[_0x91cf8d(0x32f)](function(_0x44412b){_0x570de4(_0x44412b);});},_0x1ff831[_0x32005e(0x2cd)](_0x15953b);});}function updatePinnedFiles(){const _0x3beba6=_0x14d2ea,_0x5b4477=document[_0x3beba6(0x210)]('pinnedItems');_0x5b4477[_0x3beba6(0x2e3)]='',pinnedFiles[_0x3beba6(0x2f3)]((_0x538e42,_0x4b2365)=>{const _0x1b5a53=_0x3beba6,_0x1e56cb=document[_0x1b5a53(0x22a)](_0x1b5a53(0x11a));_0x1e56cb[_0x1b5a53(0x1eb)]=_0x1b5a53(0x205),_0x1e56cb[_0x1b5a53(0x2e3)]=_0x1b5a53(0x1cd)+(_0x538e42[_0x1b5a53(0x29c)][_0x1b5a53(0x31e)](_0x1b5a53(0x2ee))?_0x1b5a53(0x342):'📄')+_0x1b5a53(0x1bf)+_0x538e42[_0x1b5a53(0x2c6)]+'\x22>'+_0x538e42['name']+_0x1b5a53(0xfd)+_0x4b2365+_0x1b5a53(0x27e),_0x5b4477[_0x1b5a53(0x1e6)](_0x1e56cb);});}function removePinnedFile(_0x192c7f){const _0x37b6f5=_0x14d2ea;pinnedFiles[_0x37b6f5(0x2ba)](_0x192c7f,0x1),updatePinnedFiles();}function createPinnedFilesElement(_0x52f2df){const _0x23451b=_0x14d2ea,_0x5206f0=document[_0x23451b(0x22a)](_0x23451b(0x11a));return _0x5206f0[_0x23451b(0x1eb)]=_0x23451b(0x1f3),_0x52f2df[_0x23451b(0x2f3)](_0x4d3a4f=>{const _0x35d86a=_0x23451b,_0x10bf35=document[_0x35d86a(0x22a)](_0x35d86a(0x11a));_0x10bf35[_0x35d86a(0x1eb)]='pinned-file';if(_0x4d3a4f[_0x35d86a(0x29c)][_0x35d86a(0x31e)](_0x35d86a(0x2ee))){const _0x3e6466=document[_0x35d86a(0x22a)](_0x35d86a(0x1cf));_0x3e6466[_0x35d86a(0x194)]=URL[_0x35d86a(0x1d2)](_0x4d3a4f),_0x3e6466['alt']=_0x4d3a4f[_0x35d86a(0x2c6)],_0x3e6466[_0x35d86a(0x1eb)]=_0x35d86a(0x246),_0x10bf35[_0x35d86a(0x1e6)](_0x3e6466);}else{const _0x14c304=document[_0x35d86a(0x22a)]('span');_0x14c304[_0x35d86a(0x1eb)]='file-icon',_0x14c304[_0x35d86a(0x117)]=_0x4d3a4f[_0x35d86a(0x29c)][_0x35d86a(0x31e)](_0x35d86a(0x25f))?'📄':'📎',_0x10bf35[_0x35d86a(0x1e6)](_0x14c304);}const _0x439908=document[_0x35d86a(0x22a)]('span');_0x439908[_0x35d86a(0x1eb)]=_0x35d86a(0x1cb),_0x439908[_0x35d86a(0x117)]=_0x4d3a4f[_0x35d86a(0x2c6)],_0x10bf35[_0x35d86a(0x1e6)](_0x439908),_0x5206f0[_0x35d86a(0x1e6)](_0x10bf35);}),_0x5206f0;}function createPinnedResponsesElement(_0x3ad8cd){const _0xc34aed=_0x14d2ea,_0x4dc1a0=document[_0xc34aed(0x22a)]('div');return _0x4dc1a0['className']='pinned-responses-message',_0x3ad8cd[_0xc34aed(0x2f3)](_0x4f7971=>{const _0x3d7eda=_0xc34aed,_0x2b03a0=document[_0x3d7eda(0x22a)](_0x3d7eda(0x11a));_0x2b03a0['className']=_0x3d7eda(0x2a3);const _0x47511f=document[_0x3d7eda(0x22a)](_0x3d7eda(0x318));_0x47511f[_0x3d7eda(0x1eb)]=_0x3d7eda(0x1a1),_0x47511f[_0x3d7eda(0x117)]='💬';const _0x4149dd=document[_0x3d7eda(0x22a)](_0x3d7eda(0x318));_0x4149dd[_0x3d7eda(0x1eb)]=_0x3d7eda(0x1ea),_0x4149dd[_0x3d7eda(0x117)]=_0x4f7971[_0x3d7eda(0x29b)],_0x2b03a0[_0x3d7eda(0x1e6)](_0x47511f),_0x2b03a0['appendChild'](_0x4149dd),_0x4dc1a0[_0x3d7eda(0x1e6)](_0x2b03a0);}),_0x4dc1a0;}function createPinnedPromptElement(_0x169889){const _0x37f973=_0x14d2ea,_0x39d024=document[_0x37f973(0x22a)](_0x37f973(0x11a));_0x39d024[_0x37f973(0x1eb)]='pinned-prompt-message';const _0x168d85=document['createElement']('div');_0x168d85[_0x37f973(0x1eb)]='pinned-prompt';const _0x36c6ca=document['createElement'](_0x37f973(0x318));_0x36c6ca[_0x37f973(0x1eb)]='prompt-icon',_0x36c6ca[_0x37f973(0x117)]='🤖';const _0x338f82=document[_0x37f973(0x22a)](_0x37f973(0x318));return _0x338f82[_0x37f973(0x1eb)]='prompt-title',_0x338f82[_0x37f973(0x117)]=_0x169889[_0x37f973(0x19d)],_0x168d85[_0x37f973(0x1e6)](_0x36c6ca),_0x168d85[_0x37f973(0x1e6)](_0x338f82),_0x39d024[_0x37f973(0x1e6)](_0x168d85),_0x39d024;}function createModelHeader(_0x50b504){const _0x3657d8=_0x14d2ea,_0x34eebc={'gemini-1.5-flash':_0x3657d8(0x2c4),'gemini-1.5-pro':'Gemini\x201.5\x20Pro','gemini-1.5-pro-latest':_0x3657d8(0x1d1),'gemini-1.0-pro':_0x3657d8(0x2bf),'recraft-realistic':'Image\x20Réaliste','recraft-digital':_0x3657d8(0x2ca),'recraft-vector':'Illustration\x20Vectorielle'},_0x3e21db=_0x34eebc[_0x50b504]||_0x50b504;return _0x3657d8(0x1f7)+(isImageGenerationModel(_0x50b504)?_0x3657d8(0x275):_0x3657d8(0x252))+_0x3657d8(0x254)+_0x3e21db+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}async function sendMessage(){const _0x2e623c=_0x14d2ea;if(!currentUser){showNotification('Veuillez\x20vous\x20connecter\x20pour\x20envoyer\x20des\x20messages.',_0x2e623c(0x134));return;}const _0x31ef14=document[_0x2e623c(0x210)](_0x2e623c(0x33f))['value'][_0x2e623c(0x119)](),_0x1efb99=document[_0x2e623c(0x210)](_0x2e623c(0x102))['value'];if(!_0x31ef14&&pinnedFiles[_0x2e623c(0x1aa)]===0x0&&pinnedResponses['length']===0x0&&!pinnedPrompt){showNotification(_0x2e623c(0x1fe),_0x2e623c(0x134));return;}let _0x3c8b90=_0x31ef14;pinnedPrompt&&(_0x3c8b90=pinnedPrompt[_0x2e623c(0x29c)]===_0x2e623c(0x27a)?pinnedPrompt[_0x2e623c(0x146)]+'\x0aDétails\x20spécifiques:\x20'+_0x31ef14:pinnedPrompt[_0x2e623c(0x146)]+'\x0a\x0a'+_0x31ef14);if(isImageGenerationModel(_0x1efb99)){try{const _0x80eeea=await canGenerateImage();if(!_0x80eeea[_0x2e623c(0x118)]){showPaymentNotification(_0x80eeea[_0x2e623c(0x23d)]);return;}const _0x43731c=document[_0x2e623c(0x22a)](_0x2e623c(0x11a));_0x43731c[_0x2e623c(0x1eb)]='message\x20ai-message',_0x43731c[_0x2e623c(0x2e3)]=_0x2e623c(0x286)+createModelHeader(_0x1efb99)+_0x2e623c(0x12d),document[_0x2e623c(0x210)](_0x2e623c(0x144))[_0x2e623c(0x1e6)](_0x43731c);const _0x5053f8=document[_0x2e623c(0x210)](_0x2e623c(0x150))[_0x2e623c(0x2e6)],_0x2aa744=getRecraftStyle(_0x1efb99),_0xa5ac7c=await fetch(_0x2e623c(0x101),{'method':_0x2e623c(0x2be),'headers':{'Content-Type':'application/json','Authorization':_0x2e623c(0x279)+RECRAFT_API_KEY},'body':JSON[_0x2e623c(0x1c3)]({'prompt':_0x3c8b90,'style':_0x2aa744,'size':_0x5053f8})});if(!_0xa5ac7c['ok'])throw new Error('Erreur\x20lors\x20de\x20la\x20génération\x20de\x20l\x27image');const _0x330f82=await _0xa5ac7c[_0x2e623c(0x1f5)](),_0x50ad17=_0x330f82[_0x2e623c(0x1ad)][0x0][_0x2e623c(0x17f)];_0x43731c[_0x2e623c(0x2e3)]=_0x2e623c(0x286)+createModelHeader(_0x1efb99)+_0x2e623c(0x2d0)+_0x50ad17+_0x2e623c(0x24e)+_0x3c8b90+'\x22</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-metadata\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>Style:\x20'+_0x2aa744[_0x2e623c(0x25e)]('_','\x20')[_0x2e623c(0x201)]()+_0x2e623c(0x189)+_0x5053f8+_0x2e623c(0x218)+(_0x80eeea[_0x2e623c(0x183)]?_0x2e623c(0xf3):_0x2e623c(0x2aa))+_0x2e623c(0x220)+_0x50ad17+_0x2e623c(0x1e1)+_0x50ad17+_0x2e623c(0x2d7)+_0x50ad17+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-share-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(_0x80eeea[_0x2e623c(0x183)]){await incrementImageGenerationCount(currentUser[_0x2e623c(0x14b)]);const _0x2333f0=await getImageGenerationCount(currentUser['username']);showNotification('Image\x20générée\x20avec\x20succès!\x20Il\x20vous\x20reste\x20'+(0x5-_0x2333f0)+'\x20générations\x20gratuites\x20aujourd\x27hui.',_0x2e623c(0x184));}else await updateCredits(_0x1efb99,0x5),showNotification('Image\x20générée\x20avec\x20succès!\x205\x20crédits\x20ont\x20été\x20déduits.','success');}catch(_0x39a865){console[_0x2e623c(0x134)](_0x2e623c(0x13d),_0x39a865),showNotification(_0x2e623c(0x1f8),_0x2e623c(0x134));}finally{document[_0x2e623c(0x210)]('userInput')['value']='',resetTextareaHeight(),pinnedPrompt=null,updatePinnedItems();}return;}let _0x157989=0x1;_0x157989+=pinnedFiles[_0x2e623c(0x283)](_0x380265=>_0x380265[_0x2e623c(0x29c)]!==_0x2e623c(0x263))[_0x2e623c(0x1aa)],_0x157989+=pinnedResponses['length'];if(!hasValidSubscription()){if(_0x1efb99===_0x2e623c(0x30d)){if(currentUser['paidCredits']<_0x157989&&currentUser[_0x2e623c(0x30f)]<_0x157989){showPaymentNotification(_0x2e623c(0x1e8));return;}}else{if(![_0x2e623c(0x27f)][_0x2e623c(0x156)](_0x1efb99)&&currentUser[_0x2e623c(0x2cb)]<_0x157989){showPaymentNotification('Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20payants\x20pour\x20ce\x20modèle\x20avancé.');return;}}}const _0x624173=[...pinnedFiles],_0x119308=[...pinnedResponses],_0x394272=pinnedPrompt;pinnedFiles=[],pinnedResponses=[],pinnedPrompt=null,updatePinnedItems();const _0x455217=addMessageToChat(_0x2e623c(0x1ee),_0x31ef14,_0x624173,_0x119308,_0x394272),_0x27c194=document['createElement'](_0x2e623c(0x11a));_0x27c194['className']=_0x2e623c(0x19e),_0x27c194[_0x2e623c(0x2e3)]=_0x2e623c(0x17b)+createModelHeader(_0x1efb99)+_0x2e623c(0xea),document[_0x2e623c(0x210)](_0x2e623c(0x144))[_0x2e623c(0x1e6)](_0x27c194);try{const _0x3c17a0=[];let _0x1ead27=buildConversationContext();await addFilesToParts(_0x3c17a0,_0x624173),_0x119308[_0x2e623c(0x2f3)](_0x2ad153=>{const _0xd983ec=_0x2e623c;_0x1ead27+=_0xd983ec(0x25c)+_0x2ad153[_0xd983ec(0x29b)]+']\x0a';});_0x394272?(_0x1ead27+='[Prompt\x20épinglé:\x20'+_0x394272[_0x2e623c(0x19d)]+']\x0a',_0x394272[_0x2e623c(0x29c)]===_0x2e623c(0x27a)?_0x1ead27+=_0x2e623c(0x301)+_0x31ef14+'\x0a':_0x1ead27+=_0x394272['content']+'\x0a\x0a'+_0x31ef14+'\x0a'):_0x1ead27+=_0x31ef14+'\x0a';_0x3c8b90=_0x1ead27,_0x3c17a0['push']({'text':_0x3c8b90});let _0x1613f8,_0x1e61bc=0x0;const _0x1b813d=0x3;while(_0x1e61bc<_0x1b813d){try{const _0xb55350=getNextApiKey();if(!_0xb55350)throw new Error(_0x2e623c(0x224));genAI=new GoogleGenerativeAI(_0xb55350),model=genAI[_0x2e623c(0x2c0)]({'model':_0x1efb99,'systemInstruction':SYSTEM_INSTRUCTION});const _0x4814bb=await model['generateContent'](_0x3c17a0);_0x1613f8=await _0x4814bb['response'];break;}catch(_0x3a50d9){_0x1e61bc++,console[_0x2e623c(0x134)](_0x2e623c(0x1ec)+_0x1e61bc+'/'+_0x1b813d+'\x20échouée:',_0x3a50d9);if(_0x1e61bc===_0x1b813d)throw new Error(_0x2e623c(0x24a));const _0x5ef68a=Math['min'](0x3e8*Math[_0x2e623c(0x28a)](0x2,_0x1e61bc),0x1388);await new Promise(_0x4c5af4=>setTimeout(_0x4c5af4,_0x5ef68a));}}let _0x360d65=_0x1613f8[_0x2e623c(0x1fb)]();if(_0x1efb99===_0x2e623c(0x27f)||_0x1efb99==='gemini-1.5-flash'&&currentUser[_0x2e623c(0x2cb)]<_0x157989){const _0x3aa426=_0x360d65[_0x2e623c(0x17a)](/\s+/);_0x3aa426[_0x2e623c(0x1aa)]>FREE_MODEL_MAX_RESPONSE&&(_0x360d65=_0x3aa426[_0x2e623c(0x300)](0x0,FREE_MODEL_MAX_RESPONSE)[_0x2e623c(0x116)]('\x20')+_0x2e623c(0x215),showNotification('La\x20réponse\x20a\x20été\x20tronquée\x20à\x20'+FREE_MODEL_MAX_RESPONSE+_0x2e623c(0xf6),_0x2e623c(0x1cc)));}await animateText(_0x27c194,_0x360d65),currentConversation[_0x2e623c(0x179)]({'sender':'ai','content':_0x360d65}),await updateCredits(_0x1efb99,_0x157989),saveConversation();}catch(_0x3d7b07){console[_0x2e623c(0x134)]('Erreur\x20lors\x20de\x20la\x20génération\x20de\x20la\x20réponse:',_0x3d7b07),_0x27c194[_0x2e623c(0x151)](),showNotification(_0x2e623c(0x25a)+_0x3d7b07[_0x2e623c(0x23d)]+_0x2e623c(0x260),_0x2e623c(0x134));}finally{document['getElementById'](_0x2e623c(0x33f))['value']='',resetTextareaHeight(),resetScrollState();}}document[_0x14d2ea(0x168)]('DOMContentLoaded',initializeScrollListener);function resetPinnedItems(){pinnedFiles=[],pinnedResponses=[],pinnedPrompt=null,updatePinnedItems();}function buildConversationContext(){const _0x1e896f=_0x14d2ea;let _0x3299a1='';const _0x478fec=currentConversation[_0x1e896f(0x300)](-0x5);return _0x478fec[_0x1e896f(0x2f3)](_0x1f6a2e=>{const _0x191701=_0x1e896f;_0x3299a1+=(_0x1f6a2e[_0x191701(0x16f)]===_0x191701(0x1ee)?'user':_0x191701(0x111))+':\x20'+_0x1f6a2e[_0x191701(0x146)]+'\x0a',_0x1f6a2e[_0x191701(0x258)]&&_0x1f6a2e[_0x191701(0x258)]['forEach'](_0x5b9363=>{const _0x1ad0d7=_0x191701;_0x3299a1+=_0x1ad0d7(0x2db)+_0x5b9363['name']+']\x0a';}),_0x1f6a2e[_0x191701(0x17c)]&&_0x1f6a2e[_0x191701(0x17c)][_0x191701(0x2f3)](_0x1c4b0a=>{const _0x520314=_0x191701;_0x3299a1+=_0x520314(0x25c)+_0x1c4b0a[_0x520314(0x29b)]+']\x0a';}),_0x1f6a2e['prompt']&&(_0x3299a1+=_0x191701(0x173)+_0x1f6a2e[_0x191701(0x13e)]['title']+']\x0a');}),_0x3299a1;}async function addFilesToParts(_0x24c25c,_0x3927a7){const _0x2d6ceb=_0x14d2ea;for(const _0x4a2dca of _0x3927a7){if(_0x4a2dca['type']===_0x2d6ceb(0x263))_0x24c25c[_0x2d6ceb(0x179)]({'text':_0x2d6ceb(0x1f4)+_0x4a2dca['content']});else{const _0x553583=await readFileAsBase64(_0x4a2dca);_0x24c25c[_0x2d6ceb(0x179)]({'inlineData':{'data':_0x553583,'mimeType':_0x4a2dca[_0x2d6ceb(0x29c)]}}),_0x24c25c[_0x2d6ceb(0x179)]({'text':_0x2d6ceb(0x13a)+_0x4a2dca[_0x2d6ceb(0x2c6)]+'\x20('+_0x4a2dca[_0x2d6ceb(0x29c)]+_0x2d6ceb(0x20b)});}}}async function validateCreditsAndModel(_0x5723a4,_0x1b6b20){const _0x2b4225=_0x14d2ea;if(_0x5723a4===_0x2b4225(0x30d)){if(currentUser[_0x2b4225(0x2cb)]>=_0x1b6b20)return showNotification(_0x2b4225(0x1ac),'info'),!![];else{if(currentUser['freeCredits']>=_0x1b6b20)return showNotification(_0x2b4225(0x2ea),_0x2b4225(0x1cc)),!![];}}else{if(![_0x2b4225(0x27f)]['includes'](_0x5723a4)){if(currentUser[_0x2b4225(0x2cb)]<_0x1b6b20)return showPaymentNotification(_0x2b4225(0x29d)),![];}else{if(currentUser[_0x2b4225(0x30f)]<_0x1b6b20&&currentUser['paidCredits']<_0x1b6b20)return showPaymentNotification('Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20pour\x20envoyer\x20ce\x20message.'),![];}}return!![];}async function processAndDisplayAIResponse(_0x5327f8,_0x30b6cb,_0x5ac8fd){const _0x5c5826=_0x14d2ea;let _0x58d68d;if(_0x30b6cb===_0x5c5826(0x27f)||_0x30b6cb===_0x5c5826(0x30d)&&currentUser[_0x5c5826(0x2cb)]<_0x5ac8fd){const _0x4acfef=_0x5327f8[_0x5c5826(0x17a)](/\s+/);_0x4acfef[_0x5c5826(0x1aa)]>FREE_MODEL_MAX_RESPONSE?(_0x5327f8=_0x4acfef[_0x5c5826(0x300)](0x0,FREE_MODEL_MAX_RESPONSE)[_0x5c5826(0x116)]('\x20')+_0x5c5826(0x215),showNotification('La\x20réponse\x20a\x20été\x20tronquée\x20à\x20'+FREE_MODEL_MAX_RESPONSE+_0x5c5826(0xf6),_0x5c5826(0x1cc)),_0x58d68d=addMessageToChat('ai',_0x5327f8),showUpgradeButton(_0x58d68d)):_0x58d68d=addMessageToChat('ai',_0x5327f8);}else _0x58d68d=addMessageToChat('ai',_0x5327f8);return _0x58d68d;}function updateConversation(_0x24a65c,_0x464341){const _0x3de725=_0x14d2ea;currentConversation[_0x3de725(0x179)]({'sender':_0x3de725(0x1ee),'content':_0x24a65c}),currentConversation['push']({'sender':'ai','content':_0x464341});}async function handleImageGeneration(_0x4f9637,_0x191739,_0x2ca31a){const _0x572bf9=_0x14d2ea;try{if(!_0x2ca31a[_0x572bf9(0x118)]){showPaymentNotification(_0x2ca31a['message']);return;}const _0x51278e=document[_0x572bf9(0x210)](_0x572bf9(0x150))[_0x572bf9(0x2e6)],_0x5299ac=getRecraftStyle(_0x191739),_0x1e9b94=addLoadingMessage(_0x572bf9(0x325)),_0x5d478c=await fetch(_0x572bf9(0x101),{'method':_0x572bf9(0x2be),'headers':{'Content-Type':_0x572bf9(0x2bb),'Authorization':_0x572bf9(0x279)+RECRAFT_API_KEY},'body':JSON[_0x572bf9(0x1c3)]({'prompt':_0x4f9637,'style':_0x5299ac,'size':_0x51278e,'n':0x1})});_0x1e9b94['remove']();if(!_0x5d478c['ok'])throw new Error(_0x572bf9(0x2a5)+_0x5d478c[_0x572bf9(0x273)]);const _0x5d7864=await _0x5d478c[_0x572bf9(0x1f5)]();if(!_0x5d7864['data']||!_0x5d7864[_0x572bf9(0x1ad)][0x0]||!_0x5d7864[_0x572bf9(0x1ad)][0x0][_0x572bf9(0x17f)])throw new Error(_0x572bf9(0x130));const _0x42681d=_0x5d7864[_0x572bf9(0x1ad)][0x0][_0x572bf9(0x17f)],_0x158522=document[_0x572bf9(0x22a)](_0x572bf9(0x11a));_0x158522['className']=_0x572bf9(0x19e),_0x158522[_0x572bf9(0x2e3)]=_0x572bf9(0x2d0)+_0x42681d+_0x572bf9(0x24e)+_0x4f9637+_0x572bf9(0x124)+_0x5299ac[_0x572bf9(0x25e)]('_','\x20')[_0x572bf9(0x201)]()+_0x572bf9(0x189)+_0x51278e+_0x572bf9(0x218)+(_0x2ca31a[_0x572bf9(0x183)]?_0x572bf9(0xf3):_0x572bf9(0x2aa))+_0x572bf9(0x220)+_0x42681d+_0x572bf9(0x1e1)+_0x42681d+_0x572bf9(0x2d7)+_0x42681d+_0x572bf9(0xef),document[_0x572bf9(0x210)](_0x572bf9(0x144))[_0x572bf9(0x1e6)](_0x158522);if(_0x2ca31a[_0x572bf9(0x183)]){await incrementImageGenerationCount(currentUser[_0x572bf9(0x14b)]);const _0x6c30d9=await getImageGenerationCount(currentUser['username']);showNotification('Image\x20générée\x20avec\x20succès!\x20Il\x20vous\x20reste\x20'+(0x5-_0x6c30d9)+_0x572bf9(0x233),_0x572bf9(0x184));}else await updateCredits(_0x191739,0x5),showNotification(_0x572bf9(0x1b0),'success');document[_0x572bf9(0x210)]('userInput')[_0x572bf9(0x2e6)]='',resetTextareaHeight();}catch(_0x3b641f){console[_0x572bf9(0x134)](_0x572bf9(0x1a4),_0x3b641f),showNotification(_0x572bf9(0x1f8),_0x572bf9(0x134));}}function createUserMessageElement(_0x22c33e,_0x5b9edc,_0x68cf97,_0x54ae1b){const _0x25a1af=_0x14d2ea,_0x3c69c5=document[_0x25a1af(0x22a)](_0x25a1af(0x11a));_0x3c69c5[_0x25a1af(0x1eb)]='message\x20user-message';_0x5b9edc[_0x25a1af(0x1aa)]>0x0&&_0x3c69c5['appendChild'](createPinnedFilesElement(_0x5b9edc));_0x68cf97[_0x25a1af(0x1aa)]>0x0&&_0x3c69c5[_0x25a1af(0x1e6)](createPinnedResponsesElement(_0x68cf97));_0x54ae1b&&_0x3c69c5[_0x25a1af(0x1e6)](createPinnedPromptElement(_0x54ae1b));if(_0x22c33e){const _0x276002=document[_0x25a1af(0x22a)]('p');_0x276002[_0x25a1af(0x117)]=_0x22c33e,_0x3c69c5[_0x25a1af(0x1e6)](_0x276002);}return _0x3c69c5;}function addLoadingMessage(_0x2cb64d){const _0x1e88d7=_0x14d2ea,_0x1fe851=document[_0x1e88d7(0x22a)](_0x1e88d7(0x11a));return _0x1fe851[_0x1e88d7(0x1eb)]='message\x20ai-message\x20loading-message',_0x1fe851[_0x1e88d7(0x2e3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loading-spinner\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x2cb64d+_0x1e88d7(0x256),document[_0x1e88d7(0x210)](_0x1e88d7(0x144))[_0x1e88d7(0x1e6)](_0x1fe851),_0x1fe851;}async function downloadImage(_0xed15f4,_0x3ac5d9){const _0x32fbcf=_0x14d2ea;try{const _0x58d29a=await fetch(_0xed15f4),_0x335ea1=await _0x58d29a['blob'](),_0x1ec0b0=window['URL'][_0x32fbcf(0x1d2)](_0x335ea1),_0x4ad8c4=document['createElement']('a');_0x4ad8c4[_0x32fbcf(0x31b)]=_0x1ec0b0,_0x4ad8c4[_0x32fbcf(0x148)]=_0x3ac5d9,document[_0x32fbcf(0x311)]['appendChild'](_0x4ad8c4),_0x4ad8c4[_0x32fbcf(0x1f0)](),document[_0x32fbcf(0x311)][_0x32fbcf(0x1bb)](_0x4ad8c4),window[_0x32fbcf(0x32b)][_0x32fbcf(0x2b8)](_0x1ec0b0);}catch(_0x449140){showNotification('Erreur\x20lors\x20du\x20téléchargement\x20de\x20l\x27image.','error');}}function copyImage(_0x4e2018){const _0x491b2f=_0x14d2ea;navigator[_0x491b2f(0x112)][_0x491b2f(0x131)](_0x4e2018)[_0x491b2f(0x280)](()=>showNotification('Lien\x20de\x20l\x27image\x20copié\x20dans\x20le\x20presse-papiers!',_0x491b2f(0x184)))[_0x491b2f(0x32f)](()=>showNotification(_0x491b2f(0x18f),_0x491b2f(0x134)));}function shareImage(_0x20a64a){const _0xd73363=_0x14d2ea;navigator[_0xd73363(0x236)]?navigator['share']({'title':_0xd73363(0x10e),'text':_0xd73363(0x10f),'url':_0x20a64a})['then'](()=>showNotification('Image\x20partagée\x20avec\x20succès!',_0xd73363(0x184)))['catch'](_0x10209b=>{const _0x105ad1=_0xd73363;console[_0x105ad1(0x134)](_0x105ad1(0x137),_0x10209b),showNotification(_0x105ad1(0x16e),'error');}):copyImage(_0x20a64a);}function pinResponse(_0x2dcf34){const _0x3ffd4a=_0x14d2ea,_0x300ed5=_0x2dcf34['querySelector'](_0x3ffd4a(0x10d))['textContent'],_0x56b6cd=_0x300ed5[_0x3ffd4a(0x1aa)]>0x32?_0x300ed5[_0x3ffd4a(0x19c)](0x0,0x32)+_0x3ffd4a(0x1ab):_0x300ed5;pinnedResponses[_0x3ffd4a(0x179)]({'text':_0x300ed5,'displayText':_0x56b6cd}),updatePinnedItems();}function updatePinnedItems(){const _0x369776=_0x14d2ea,_0x46047c=document[_0x369776(0x210)](_0x369776(0x113));_0x46047c['innerHTML']='',pinnedFiles[_0x369776(0x2f3)]((_0x2e75de,_0x21122d)=>{const _0x121334=_0x369776,_0x6d82f7=document[_0x121334(0x22a)]('div');_0x6d82f7['className']=_0x121334(0x205),_0x6d82f7[_0x121334(0x13b)](_0x121334(0x26e),_0x121334(0x17d)),_0x6d82f7['innerHTML']=_0x121334(0x1cd)+(_0x2e75de[_0x121334(0x29c)]['startsWith']('image/')?_0x121334(0x342):'📄')+_0x121334(0x1bf)+_0x2e75de[_0x121334(0x2c6)]+'\x22>'+_0x2e75de[_0x121334(0x2c6)]+_0x121334(0x226)+_0x21122d+_0x121334(0x27e),_0x46047c[_0x121334(0x1e6)](_0x6d82f7);}),pinnedResponses[_0x369776(0x2f3)]((_0x308dad,_0x1a3189)=>{const _0x3c1a6e=_0x369776,_0x197126=document[_0x3c1a6e(0x22a)](_0x3c1a6e(0x11a));_0x197126[_0x3c1a6e(0x1eb)]=_0x3c1a6e(0x205),_0x197126[_0x3c1a6e(0x13b)](_0x3c1a6e(0x26e),'response'),_0x197126[_0x3c1a6e(0x2e3)]=_0x3c1a6e(0x2f6)+_0x308dad[_0x3c1a6e(0x1fb)]+'\x22>'+_0x308dad[_0x3c1a6e(0x29b)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27response\x27,\x20'+_0x1a3189+')\x22>❌</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x46047c[_0x3c1a6e(0x1e6)](_0x197126);});if(pinnedPrompt){const _0x19c969=document[_0x369776(0x22a)](_0x369776(0x11a));_0x19c969[_0x369776(0x1eb)]='pinned-item',_0x19c969[_0x369776(0x13b)](_0x369776(0x26e),_0x369776(0x13e)),_0x19c969[_0x369776(0x2e3)]=_0x369776(0x2bd)+pinnedPrompt[_0x369776(0x19d)]+'\x22>'+pinnedPrompt[_0x369776(0x19d)]+_0x369776(0x192),_0x46047c[_0x369776(0x1e6)](_0x19c969);}}function removePinnedItem(_0x3230af,_0xbfe36c){const _0x441f97=_0x14d2ea;if(_0x3230af==='file')pinnedFiles[_0x441f97(0x2ba)](_0xbfe36c,0x1);else{if(_0x3230af===_0x441f97(0xf8))pinnedResponses[_0x441f97(0x2ba)](_0xbfe36c,0x1);else _0x3230af===_0x441f97(0x13e)&&(pinnedPrompt=null);}updatePinnedItems();}function replyToMessage(_0x54a8b1){const _0x271d68=_0x14d2ea,_0x2c2c6a=_0x54a8b1[_0x271d68(0x15f)](_0x271d68(0x10d))[_0x271d68(0x117)],_0x1de354=document[_0x271d68(0x210)]('userInput');_0x1de354[_0x271d68(0x2e6)]='>\x20'+_0x2c2c6a+'\x0a\x0a',_0x1de354[_0x271d68(0x23c)](),_0x1de354[_0x271d68(0x14d)](_0x1de354['value'][_0x271d68(0x1aa)],_0x1de354['value'][_0x271d68(0x1aa)]);}function readFileAsBase64(_0x2cdc65){return new Promise((_0x198d61,_0x599585)=>{const _0x1a24f8=_0x5236,_0x162b63=new FileReader();_0x162b63[_0x1a24f8(0x271)]=()=>_0x198d61(_0x162b63[_0x1a24f8(0x202)][_0x1a24f8(0x17a)](',')[0x1]),_0x162b63[_0x1a24f8(0x1b5)]=_0x599585,_0x162b63[_0x1a24f8(0x10b)](_0x2cdc65);});}function hasEnoughCredits(_0x1b77f3,_0x414272){const _0x321a4a=_0x14d2ea,_0x5eaf2a=_0x414272>0x0?_0x414272:0x1;return _0x1b77f3==='gemini-1.5-flash'||_0x1b77f3===_0x321a4a(0x27f)?currentUser[_0x321a4a(0x30f)]>=_0x5eaf2a||currentUser[_0x321a4a(0x2cb)]>=_0x5eaf2a||hasValidSubscription():currentUser[_0x321a4a(0x2cb)]>=_0x5eaf2a||hasValidSubscription();}async function updateCredits(_0x4774ec,_0x142362){const _0x945324=_0x14d2ea;if(hasValidSubscription()&&!isImageGenerationModel(_0x4774ec))return;const _0x142681=db[_0x945324(0xf7)](_0x945324(0x20f)+currentUser['username']);try{await _0x142681[_0x945324(0x2d3)](_0x1598de=>{const _0x15411b=_0x945324;if(_0x1598de){if(isImageGenerationModel(_0x4774ec)){if(hasValidSubscription()){const _0x411002=_0x1598de[_0x15411b(0x149)]?.[_0x15411b(0x181)]||0x0;_0x411002>=0x5&&(_0x1598de['paidCredits']>=0x5?_0x1598de[_0x15411b(0x2cb)]-=0x5:_0x1598de[_0x15411b(0x30f)]=Math[_0x15411b(0xfa)](0x0,_0x1598de[_0x15411b(0x30f)]-0x5));}else _0x1598de['paidCredits']>=0x5?_0x1598de[_0x15411b(0x2cb)]-=0x5:_0x1598de[_0x15411b(0x30f)]=Math[_0x15411b(0xfa)](0x0,_0x1598de['freeCredits']-0x5);}else{if(!hasValidSubscription()){if(_0x4774ec==='gemini-1.5-flash')_0x1598de[_0x15411b(0x2cb)]>=_0x142362?_0x1598de[_0x15411b(0x2cb)]-=_0x142362:_0x1598de['freeCredits']-=_0x142362;else{if(_0x4774ec===_0x15411b(0x27f)){if(_0x1598de[_0x15411b(0x30f)]>=_0x142362)_0x1598de[_0x15411b(0x30f)]-=_0x142362;else{const _0x350eee=_0x142362-_0x1598de[_0x15411b(0x30f)];_0x1598de[_0x15411b(0x30f)]=0x0,_0x1598de[_0x15411b(0x2cb)]=Math[_0x15411b(0xfa)](0x0,_0x1598de[_0x15411b(0x2cb)]-_0x350eee);}}else _0x1598de[_0x15411b(0x2cb)]=Math['max'](0x0,_0x1598de[_0x15411b(0x2cb)]-_0x142362);}}}_0x1598de['freeCredits']=Math['max'](0x0,_0x1598de[_0x15411b(0x30f)]),_0x1598de[_0x15411b(0x2cb)]=Math[_0x15411b(0xfa)](0x0,_0x1598de[_0x15411b(0x2cb)]);}return _0x1598de;});const _0xc2d42d=await _0x142681[_0x945324(0x1d3)](_0x945324(0x2e6)),_0x297845=_0xc2d42d[_0x945324(0x231)]();_0x297845&&(currentUser[_0x945324(0x30f)]=_0x297845[_0x945324(0x30f)],currentUser[_0x945324(0x2cb)]=_0x297845['paidCredits'],document[_0x945324(0x210)](_0x945324(0x30f))['textContent']=currentUser['freeCredits'],document[_0x945324(0x210)](_0x945324(0x2cb))[_0x945324(0x117)]=currentUser['paidCredits'],currentUser[_0x945324(0x30f)]===0x0&&currentUser[_0x945324(0x2cb)]<0x5&&showNotification(_0x945324(0x30b),_0x945324(0x18e)));}catch(_0x3d3d38){console['error'](_0x945324(0x1bc),_0x3d3d38),showNotification(_0x945324(0x284),'error');}}async function addCreditsToUser(_0x183d71){const _0x18d9a3=_0x14d2ea,_0x2c223b=db[_0x18d9a3(0xf7)](_0x18d9a3(0x20f)+currentUser[_0x18d9a3(0x14b)]);await _0x2c223b[_0x18d9a3(0x2d3)](_0x56b095=>{const _0x3f78b5=_0x18d9a3;return _0x56b095&&(_0x56b095[_0x3f78b5(0x2cb)]+=_0x183d71),_0x56b095;}),currentUser[_0x18d9a3(0x2cb)]=(await _0x2c223b['child']('paidCredits')[_0x18d9a3(0x1d3)](_0x18d9a3(0x2e6)))['val'](),document[_0x18d9a3(0x210)]('paidCredits')['textContent']=currentUser[_0x18d9a3(0x2cb)];}function copyResponse(_0x257d79){const _0x1a0a06=_0x14d2ea,_0x4950a3=_0x257d79[_0x1a0a06(0x15f)](_0x1a0a06(0x10d))['textContent'];navigator['clipboard'][_0x1a0a06(0x131)](_0x4950a3)[_0x1a0a06(0x280)](()=>{const _0x14017d=_0x1a0a06;showNotification(_0x14017d(0xee),_0x14017d(0x184));});}async function exportResponse(_0x182ca5,_0x201fe3){const _0x3f3543=_0x14d2ea,_0x4bc0d8=_0x182ca5[_0x3f3543(0x15f)](_0x3f3543(0x10d))[_0x3f3543(0x117)];if(_0x201fe3===_0x3f3543(0x2cc)){const _0x8c9ff6=await generateWordDoc(_0x4bc0d8);saveAs(_0x8c9ff6,_0x3f3543(0x1c6));}else{if(_0x201fe3===_0x3f3543(0x282)){const _0x5de349=await generatePDF(_0x4bc0d8);saveAs(_0x5de349,'Eduque_moi.pdf');}}showNotification(_0x3f3543(0x28d)+_0x201fe3[_0x3f3543(0x201)]()+_0x3f3543(0x2f0),_0x3f3543(0x184));}async function generateWordDoc(_0x4f115e){const _0x544e9d=_0x14d2ea,_0x321c78=_0x544e9d(0x18b)+_0x4f115e+_0x544e9d(0x1ba),_0x569d12=new PizZip();_0x569d12[_0x544e9d(0x17d)](_0x544e9d(0x1ae),_0x321c78);const _0x4cdcb8=await _0x569d12[_0x544e9d(0x28e)]({'type':_0x544e9d(0x1af),'mimeType':'application/vnd.openxmlformats-officedocument.wordprocessingml.document'});return _0x4cdcb8;}function generatePDF(_0x4b2de1){const _0x1a9957=_0x14d2ea,{jsPDF:_0x549e00}=window[_0x1a9957(0x2f1)],_0x574e3a=new _0x549e00();_0x574e3a[_0x1a9957(0x16d)](0x12),_0x574e3a['text']('',0x14,0x14),_0x574e3a[_0x1a9957(0x16d)](0xc);const _0x1df3b8=_0x574e3a['splitTextToSize'](_0x4b2de1,0xaa);let _0x4a8962=0x1e;const _0x4ae8fa=_0x574e3a[_0x1a9957(0x267)]['pageSize'][_0x1a9957(0x193)];for(let _0x2dac34=0x0;_0x2dac34<_0x1df3b8[_0x1a9957(0x1aa)];_0x2dac34++){_0x4a8962>_0x4ae8fa-0x14&&(_0x574e3a[_0x1a9957(0x12b)](),_0x4a8962=0x14),_0x574e3a['text'](_0x1df3b8[_0x2dac34],0x14,_0x4a8962),_0x4a8962+=0x7;}return _0x574e3a[_0x1a9957(0x103)]('blob');}function shareResponse(_0x36f936){const _0x48c33c=_0x14d2ea,_0x1e35f1=_0x36f936['querySelector'](_0x48c33c(0x10d))['textContent'];navigator['share']?navigator[_0x48c33c(0x236)]({'title':'','text':_0x1e35f1})['then'](()=>{const _0x164c26=_0x48c33c;showNotification(_0x164c26(0x232),_0x164c26(0x184));})[_0x48c33c(0x32f)](_0x2f34c1=>{const _0x43d0d6=_0x48c33c;console[_0x43d0d6(0x134)](_0x43d0d6(0x137),_0x2f34c1),showNotification('Erreur\x20lors\x20du\x20partage',_0x43d0d6(0x134));}):showNotification(_0x48c33c(0x169),_0x48c33c(0x134));}function hasValidSubscription(){const _0x99f4d7=_0x14d2ea;if(!currentUser[_0x99f4d7(0x109)]||!currentUser[_0x99f4d7(0x1c0)])return![];return new Date()<new Date(currentUser[_0x99f4d7(0x1c0)]);}function buySubscription(){const _0x2c0641=_0x14d2ea,_0x29930d=document[_0x2c0641(0x210)](_0x2c0641(0x185))['value'];if(!_0x29930d){showNotification(_0x2c0641(0x13f),_0x2c0641(0x134));return;}const _0x4a7157={'24h':0x1f4,'3d':0x4b0,'7d':0x960,'30d':0x1f40,'3m':0x4e20},_0x262cb1=_0x4a7157[_0x29930d];var _0x393ff9=FedaPay['init']({'public_key':_0x2c0641(0x2a9),'transaction':{'amount':_0x262cb1,'description':_0x2c0641(0x2fe)+_0x29930d+'\x20pour\x20Eduque\x20moi'},'customer':{'email':_0x2c0641(0x329)},'onComplete':async function(_0x338338){const _0x219439=_0x2c0641;if(_0x338338[_0x219439(0x346)]===FedaPay[_0x219439(0x33a)]){const _0x24a756={'id':_0x338338['id'],'description':_0x219439(0x2fe)+_0x29930d+_0x219439(0x298),'amount':_0x262cb1};await activateSubscription(_0x29930d),showInvoiceDetails(_0x24a756),showNotification(_0x219439(0x108)+_0x29930d+_0x219439(0x159),_0x219439(0x184)),await checkFirstPurchaseAndRewardReferrer(currentUser[_0x219439(0x14b)],_0x262cb1);}else showNotification(_0x219439(0x208),_0x219439(0x134));}});_0x393ff9[_0x2c0641(0x1b3)]();}async function activateSubscription(_0x235a74){const _0x5e2e04=_0x14d2ea,_0x3e244f={'24h':0x1,'3d':0x3,'7d':0x7,'30d':0x1e,'3m':0x5a},_0x49a2f8=_0x3e244f[_0x235a74],_0x125e25=new Date();_0x125e25[_0x5e2e04(0x277)](_0x125e25[_0x5e2e04(0x1e2)]()+_0x49a2f8),currentUser[_0x5e2e04(0x109)]=_0x235a74,currentUser[_0x5e2e04(0x1c0)]=_0x125e25['toISOString'](),await syncUserData(),document[_0x5e2e04(0x210)](_0x5e2e04(0x109))['textContent']=_0x235a74;}function buyCredits(){const _0x11046f=_0x14d2ea,_0x2f5e30=document[_0x11046f(0x210)](_0x11046f(0x121))['value'];if(!_0x2f5e30){showNotification(_0x11046f(0x26c),_0x11046f(0x134));return;}const _0x4ded06={'10':0xc8,'100':0x3e8,'500':0x1194,'1000':0x1f40},_0x4f4c52=_0x4ded06[_0x2f5e30];var _0x10a42e=FedaPay[_0x11046f(0xf5)]({'public_key':_0x11046f(0x2a9),'transaction':{'amount':_0x4f4c52,'description':_0x11046f(0x1a7)+_0x2f5e30+'\x20crédits\x20pour\x20Eduque\x20moi'},'customer':{'email':_0x11046f(0x329)},'onComplete':async function(_0x4581a2){const _0x54f16a=_0x11046f;if(_0x4581a2['reason']===FedaPay[_0x54f16a(0x33a)]){const _0x1ab41e={'id':_0x4581a2['id'],'description':_0x54f16a(0x1a7)+_0x2f5e30+'\x20crédits\x20pour\x20Eduque\x20moi','amount':_0x4f4c52};await addCreditsToUser(parseInt(_0x2f5e30)),showInvoiceDetails(_0x1ab41e),showNotification(_0x2f5e30+_0x54f16a(0x19b),_0x54f16a(0x184)),await checkFirstPurchaseAndRewardReferrer(currentUser[_0x54f16a(0x14b)],_0x4f4c52);}else showNotification(_0x54f16a(0x208),_0x54f16a(0x134));}});_0x10a42e[_0x11046f(0x1b3)]();}async function checkFirstPurchaseAndRewardReferrer(_0x3e2b43,_0xa3a081){const _0xa5d20a=_0x14d2ea,_0x19d5fa=db[_0xa5d20a(0xf7)](_0xa5d20a(0x20f)+_0x3e2b43),_0x156173=await _0x19d5fa[_0xa5d20a(0x1d3)](_0xa5d20a(0x2e6)),_0x10a99a=_0x156173[_0xa5d20a(0x231)]();if(_0x10a99a&&!_0x10a99a[_0xa5d20a(0x34a)]){await _0x19d5fa[_0xa5d20a(0x152)]({'firstPurchase':!![]});if(_0x10a99a[_0xa5d20a(0x1a6)]){const _0x448d80=await db['ref'](_0xa5d20a(0x22b))[_0xa5d20a(0x158)](_0xa5d20a(0x1b1))[_0xa5d20a(0x15e)](_0x10a99a[_0xa5d20a(0x1a6)])[_0xa5d20a(0x1d3)](_0xa5d20a(0x2e6)),_0x2fb428=_0x448d80[_0xa5d20a(0x231)]();if(_0x2fb428){const _0x5a60d9=Object[_0xa5d20a(0x19f)](_0x2fb428)[0x0],_0xd0f008=db[_0xa5d20a(0xf7)](_0xa5d20a(0x20f)+_0x5a60d9);await _0xd0f008[_0xa5d20a(0x2d3)](_0x114931=>{const _0x1763f0=_0xa5d20a;return _0x114931&&(_0x114931[_0x1763f0(0x2cb)]=(_0x114931[_0x1763f0(0x2cb)]||0x0)+0xa,_0x114931['referrals']&&_0x114931[_0x1763f0(0x198)][_0x3e2b43]&&(_0x114931['referrals'][_0x3e2b43][_0x1763f0(0x337)]=!![])),_0x114931;}),await updateReferralStats(_0x5a60d9),showNotification(_0xa5d20a(0x2c9)+_0x3e2b43+_0xa5d20a(0x22e),_0xa5d20a(0x184));}}}}function getShareMessage(_0x5ad3f0){const _0x57a11a=_0x14d2ea;return encodeURIComponent(_0x57a11a(0x2ad)+_0x5ad3f0+_0x57a11a(0x166));}function shareOnFacebook(){const _0x407e33=_0x14d2ea,_0x16e0c4=document['getElementById'](_0x407e33(0x249))[_0x407e33(0x2e6)],_0x3d52f2=getShareMessage(_0x16e0c4);window['open'](_0x407e33(0x28f)+_0x16e0c4+_0x407e33(0x1e4)+_0x3d52f2,_0x407e33(0x31f));}function shareOnTwitter(){const _0x7a19bb=_0x14d2ea,_0x330810=document[_0x7a19bb(0x210)](_0x7a19bb(0x249))[_0x7a19bb(0x2e6)],_0x498e6c=getShareMessage(_0x330810);window['open']('https://twitter.com/intent/tweet?url='+_0x330810+'&text='+_0x498e6c,_0x7a19bb(0x31f));}function shareOnLinkedIn(){const _0x3fffc5=_0x14d2ea,_0x49cf95=document[_0x3fffc5(0x210)](_0x3fffc5(0x249))[_0x3fffc5(0x2e6)],_0x2432ff=getShareMessage(_0x49cf95);window[_0x3fffc5(0x1b3)]('https://www.linkedin.com/shareArticle?mini=true&url='+_0x49cf95+_0x3fffc5(0x34d)+_0x2432ff,_0x3fffc5(0x31f));}function shareOnWhatsApp(){const _0x12a74a=_0x14d2ea,_0x4c155c=document[_0x12a74a(0x210)]('referralLink')[_0x12a74a(0x2e6)],_0xa8b64b=getShareMessage(_0x4c155c);window[_0x12a74a(0x1b3)](_0x12a74a(0x30a)+_0xa8b64b,'_blank');}function copyReferralLink(){const _0x32d1a2=_0x14d2ea,_0xe8c38f=document[_0x32d1a2(0x210)](_0x32d1a2(0x249));_0xe8c38f[_0x32d1a2(0x2c3)](),document[_0x32d1a2(0xf0)]('copy'),showNotification(_0x32d1a2(0x291),_0x32d1a2(0x184));}function showNotification(_0x5ef594,_0x1e8e9f){const _0x558777=_0x14d2ea,_0x1b7afe=document[_0x558777(0x22a)](_0x558777(0x11a));_0x1b7afe[_0x558777(0x117)]=_0x5ef594,_0x1b7afe[_0x558777(0x1eb)]=_0x558777(0x1c8)+_0x1e8e9f,document[_0x558777(0x311)]['appendChild'](_0x1b7afe),setTimeout(()=>{const _0x44a08d=_0x558777;_0x1b7afe[_0x44a08d(0x1be)][_0x44a08d(0x217)](_0x44a08d(0x207)),setTimeout(()=>{const _0x2ba932=_0x44a08d;_0x1b7afe[_0x2ba932(0x1be)][_0x2ba932(0x151)](_0x2ba932(0x207)),setTimeout(()=>{_0x1b7afe['remove']();},0x12c);},0xbb8);},0x64);}function showPaymentNotification(_0x5d761b){const _0x3d94ee=_0x14d2ea,_0x4a1a94=document[_0x3d94ee(0x22a)](_0x3d94ee(0x11a));_0x4a1a94[_0x3d94ee(0x1eb)]=_0x3d94ee(0x206),_0x4a1a94[_0x3d94ee(0x2e3)]=_0x3d94ee(0x17b)+_0x5d761b+'<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22buySubscription()\x22>Acheter\x20un\x20abonnement</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22buyCredits()\x22>Acheter\x20des\x20crédits</button>\x0a\x20\x20\x20\x20',document[_0x3d94ee(0x311)]['appendChild'](_0x4a1a94),setTimeout(()=>{const _0x47d602=_0x3d94ee;_0x4a1a94[_0x47d602(0x1be)]['add']('show'),setTimeout(()=>{const _0x130479=_0x47d602;_0x4a1a94[_0x130479(0x1be)][_0x130479(0x151)](_0x130479(0x207)),setTimeout(()=>{const _0x3d9da0=_0x130479;_0x4a1a94[_0x3d9da0(0x151)]();},0x12c);},0x2710);},0x64);}async function showPaymentNotificationWithFreeOption(_0x2bbd68){return new Promise(_0x2a0e61=>{const _0x41a91f=_0x5236,_0x4b8c8c=document[_0x41a91f(0x22a)]('div');_0x4b8c8c[_0x41a91f(0x1eb)]=_0x41a91f(0x206),_0x4b8c8c['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2bbd68+_0x41a91f(0x1c5),document['body']['appendChild'](_0x4b8c8c),window[_0x41a91f(0x276)]=function(_0x130d89){const _0x39153f=_0x41a91f;_0x4b8c8c[_0x39153f(0x151)](),_0x2a0e61(_0x130d89);},setTimeout(()=>{const _0xf7d2bf=_0x41a91f;_0x4b8c8c[_0xf7d2bf(0x1be)][_0xf7d2bf(0x217)](_0xf7d2bf(0x207));},0x64);});}function toggleTheme(){const _0x2fd791=_0x14d2ea,_0x130c8d=document['body'],_0x4a6e9f=_0x130c8d[_0x2fd791(0x212)]('data-theme'),_0x28486f=_0x4a6e9f===_0x2fd791(0x196)?_0x2fd791(0x297):_0x2fd791(0x196);_0x130c8d[_0x2fd791(0x13b)](_0x2fd791(0x22d),_0x28486f),localStorage[_0x2fd791(0x171)](_0x2fd791(0x2d6),_0x28486f),updateThemeIcon(_0x28486f),document[_0x2fd791(0x15f)]('meta[name=\x22color-scheme\x22]')[_0x2fd791(0x13b)](_0x2fd791(0x146),_0x28486f);}function updateThemeIcon(_0xf8ec57){const _0x5f2338=_0x14d2ea,_0x8be37d=document[_0x5f2338(0x15f)](_0x5f2338(0x312));_0x8be37d[_0x5f2338(0x1eb)]=_0xf8ec57==='dark'?_0x5f2338(0x319):_0x5f2338(0x107);}function toggleSidebar(){const _0x3a0980=_0x14d2ea,_0xd50845=document[_0x3a0980(0x15f)]('.sidebar'),_0x31f927=document['querySelector']('.chat-container');_0xd50845[_0x3a0980(0x1be)][_0x3a0980(0x15a)](_0x3a0980(0x268)),_0x31f927[_0x3a0980(0x1be)]['toggle'](_0x3a0980(0x2c8)),localStorage[_0x3a0980(0x171)](_0x3a0980(0x1ff),_0xd50845[_0x3a0980(0x1be)]['contains'](_0x3a0980(0x268)));}function saveConversation(){const _0x47d99b=_0x14d2ea;if(!currentUser)return;const _0x3d5865=currentConversation['id']||Date['now']()[_0x47d99b(0x1bd)]();conversations[_0x3d5865]=currentConversation,currentConversation['id']=_0x3d5865,localStorage['setItem'](_0x47d99b(0x25b)+currentUser[_0x47d99b(0x14b)],JSON[_0x47d99b(0x1c3)](conversations)),updateConversationHistory();}function loadConversationHistory(){const _0xb1256c=_0x14d2ea;if(!currentUser)return;const _0xa8b334=localStorage[_0xb1256c(0x21d)](_0xb1256c(0x25b)+currentUser['username']);_0xa8b334&&(conversations=JSON['parse'](_0xa8b334),updateConversationHistory());}function updateConversationHistory(){const _0x4046d8=_0x14d2ea,_0x55d3c8=document[_0x4046d8(0x210)](_0x4046d8(0x1c1));_0x55d3c8[_0x4046d8(0x2e3)]='';const _0x4c2e11=Object[_0x4046d8(0x19f)](conversations)[_0x4046d8(0x1ce)]((_0x2a49a6,_0x41722e)=>parseInt(_0x41722e)-parseInt(_0x2a49a6));_0x4c2e11['forEach'](_0x4410f3=>{const _0x2a4c42=_0x4046d8,_0x1d9354=conversations[_0x4410f3],_0x283ad0=document[_0x2a4c42(0x22a)]('div');_0x283ad0[_0x2a4c42(0x1eb)]=_0x2a4c42(0x1a0);const _0x11b086=document[_0x2a4c42(0x22a)](_0x2a4c42(0x318));_0x11b086['textContent']=_0x2a4c42(0x1a3)+new Date(parseInt(_0x4410f3))[_0x2a4c42(0x2f5)](),_0x11b086[_0x2a4c42(0x333)]=()=>loadConversation(_0x4410f3);const _0x297743=document['createElement']('i');_0x297743[_0x2a4c42(0x1eb)]='fas\x20fa-trash\x20delete-icon',_0x297743['onclick']=_0x5f3581=>{_0x5f3581['stopPropagation'](),deleteConversation(_0x4410f3);},_0x283ad0[_0x2a4c42(0x1e6)](_0x11b086),_0x283ad0[_0x2a4c42(0x1e6)](_0x297743),_0x55d3c8[_0x2a4c42(0x1e6)](_0x283ad0);});}function deleteConversation(_0x5ac532){const _0x12de80=_0x14d2ea;confirm(_0x12de80(0x1a2))&&(delete conversations[_0x5ac532],localStorage[_0x12de80(0x171)](_0x12de80(0x25b)+currentUser[_0x12de80(0x14b)],JSON[_0x12de80(0x1c3)](conversations)),updateConversationHistory());}function createNewConversation(){const _0x4162e3=_0x14d2ea;currentConversation[_0x4162e3(0x1aa)]>0x0&&saveConversation();currentConversation=[];const _0x2cb689=document[_0x4162e3(0x210)](_0x4162e3(0x144));_0x2cb689[_0x4162e3(0x2e3)]='',updateConversationHistory(),addMessageToChat('ai',_0x4162e3(0x128)),_0x2cb689[_0x4162e3(0x216)]=0x0,document['getElementById'](_0x4162e3(0x33f))[_0x4162e3(0x23c)]();}function loadConversation(_0x51509d){const _0x1650d6=_0x14d2ea;currentConversation['length']>0x0&&currentConversation['id']!==_0x51509d&&saveConversation();currentConversation=conversations[_0x51509d],currentConversation['id']=_0x51509d;const _0x1772b2=document[_0x1650d6(0x210)](_0x1650d6(0x144));_0x1772b2[_0x1650d6(0x2e3)]='',currentConversation['forEach'](_0x227920=>{const _0x13791b=_0x1650d6;addMessageToChat(_0x227920[_0x13791b(0x16f)],_0x227920['content']);}),_0x1772b2[_0x1650d6(0x216)]=0x0;}async function syncUserData(){const _0x1388e3=_0x14d2ea;if(!currentUser)return;const _0x41971e={'freeCredits':currentUser[_0x1388e3(0x30f)]||0x0,'paidCredits':currentUser[_0x1388e3(0x2cb)]||0x0,'lastFreeCreditsReset':currentUser[_0x1388e3(0x2b6)]||new Date()[_0x1388e3(0x139)]()};currentUser[_0x1388e3(0x109)]&&(_0x41971e[_0x1388e3(0x109)]=currentUser[_0x1388e3(0x109)]);currentUser[_0x1388e3(0x1c0)]&&(_0x41971e[_0x1388e3(0x1c0)]=currentUser[_0x1388e3(0x1c0)]);const _0x2d7aec=db[_0x1388e3(0xf7)](_0x1388e3(0x20f)+currentUser['username']);try{await _0x2d7aec[_0x1388e3(0x152)](_0x41971e),console['log'](_0x1388e3(0x21f),_0x41971e);}catch(_0xdfb9fa){console[_0x1388e3(0x134)](_0x1388e3(0x1fa),_0xdfb9fa),showNotification(_0x1388e3(0x2b2),_0x1388e3(0x134));}}function adjustTextareaHeight(){const _0x5f1756=_0x14d2ea,_0x3ca1af=document[_0x5f1756(0x210)](_0x5f1756(0x33f));_0x3ca1af[_0x5f1756(0x2df)][_0x5f1756(0x193)]=_0x5f1756(0x1b6),_0x3ca1af[_0x5f1756(0x2df)][_0x5f1756(0x193)]=_0x3ca1af[_0x5f1756(0xfc)]+'px';}function resetTextareaHeight(){const _0x28656c=_0x14d2ea,_0x13e293=document[_0x28656c(0x210)](_0x28656c(0x33f));_0x13e293[_0x28656c(0x2df)][_0x28656c(0x193)]=_0x28656c(0x1b6);}async function attemptAutoLogin(){const _0x307e08=_0x14d2ea,_0x5494b5=getStoredLoginInfo();if(_0x5494b5[_0x307e08(0x14b)]&&_0x5494b5[_0x307e08(0x32c)])try{const _0x1b023a=db[_0x307e08(0xf7)](_0x307e08(0x20f)+_0x5494b5[_0x307e08(0x14b)]),_0x3533b0=await _0x1b023a[_0x307e08(0x1d3)](_0x307e08(0x2e6));if(_0x3533b0[_0x307e08(0x32d)]()&&_0x3533b0[_0x307e08(0x231)]()[_0x307e08(0x32c)]===_0x5494b5[_0x307e08(0x32c)]){const _0xa7f4d9=_0x3533b0['val']();currentUser={'username':_0x5494b5[_0x307e08(0x14b)],'freeCredits':_0xa7f4d9[_0x307e08(0x30f)],'paidCredits':_0xa7f4d9[_0x307e08(0x2cb)],'subscription':_0xa7f4d9[_0x307e08(0x109)],'subscriptionEndDate':_0xa7f4d9[_0x307e08(0x1c0)],'lastFreeCreditsReset':_0xa7f4d9[_0x307e08(0x2b6)]},await resetFreeCreditsIfNeeded(),updateUIForLoggedInUser(),console[_0x307e08(0x314)]('Connexion\x20automatique\x20réussie');}else clearLoginInfo(),console[_0x307e08(0x314)](_0x307e08(0x142));}catch(_0x417201){console[_0x307e08(0x134)]('Erreur\x20lors\x20de\x20la\x20connexion\x20automatique:',_0x417201),clearLoginInfo();}}function saveSelectedModel(){const _0x30a666=_0x14d2ea,_0xbb6c8f=document['getElementById'](_0x30a666(0x102))[_0x30a666(0x2e6)];localStorage[_0x30a666(0x171)](_0x30a666(0x20a),_0xbb6c8f);}function loadSelectedModel(){const _0x32845d=_0x14d2ea,_0x94134c=localStorage[_0x32845d(0x21d)](_0x32845d(0x20a));_0x94134c&&(document['getElementById'](_0x32845d(0x102))[_0x32845d(0x2e6)]=_0x94134c);}function showUpgradeButton(_0x3d8441){const _0x831dd2=_0x14d2ea,_0x216bbc=document[_0x831dd2(0x22a)]('button');_0x216bbc[_0x831dd2(0x117)]=_0x831dd2(0x219),_0x216bbc['className']=_0x831dd2(0x33e),_0x216bbc[_0x831dd2(0x333)]=()=>{const _0x2c8a91=_0x831dd2;hasValidSubscription()||currentUser[_0x2c8a91(0x2cb)]>0x0?(document[_0x2c8a91(0x210)]('modelSelect')[_0x2c8a91(0x2e6)]=_0x2c8a91(0x12f),showNotification(_0x2c8a91(0x2b4),_0x2c8a91(0x184))):showPaymentNotification(_0x2c8a91(0x2bc));},_0x3d8441['appendChild'](_0x216bbc);}function copyUserMessage(_0x31b283){const _0x2a564a=_0x14d2ea;let _0x4bde66='';for(const _0xcf54ec of _0x31b283['children']){if(_0xcf54ec['tagName']==='P')_0x4bde66+=_0xcf54ec[_0x2a564a(0x117)]+'\x0a';else{if(_0xcf54ec['classList'][_0x2a564a(0x2dd)](_0x2a564a(0x1f3))){const _0x58cd1e=Array[_0x2a564a(0x1e3)](_0xcf54ec[_0x2a564a(0x1f1)](_0x2a564a(0x160)))['map'](_0x30a6d6=>_0x30a6d6[_0x2a564a(0x117)])[_0x2a564a(0x116)](',\x20');_0x4bde66+=_0x2a564a(0x10c)+_0x58cd1e+'\x0a';}else{if(_0xcf54ec[_0x2a564a(0x1be)]['contains'](_0x2a564a(0x303))){const _0x3929a7=Array[_0x2a564a(0x1e3)](_0xcf54ec[_0x2a564a(0x1f1)](_0x2a564a(0x1e5)))['map'](_0x36698b=>_0x36698b['textContent'])[_0x2a564a(0x116)]('\x0a');_0x4bde66+='Réponses\x20épinglées:\x0a'+_0x3929a7+'\x0a';}else{if(_0xcf54ec['classList']['contains'](_0x2a564a(0x294))){const _0x5f477c=_0xcf54ec[_0x2a564a(0x15f)](_0x2a564a(0x2ac))[_0x2a564a(0x117)];_0x4bde66+=_0x2a564a(0x1f2)+_0x5f477c+'\x0a';}}}}}navigator[_0x2a564a(0x112)][_0x2a564a(0x131)](_0x4bde66['trim']())['then'](()=>{const _0x8e6ed6=_0x2a564a;showNotification(_0x8e6ed6(0x14e),_0x8e6ed6(0x184));});}function animateResponse(_0x1f4db7,_0x25e228){const _0x1f8743=_0x14d2ea;let _0xbb55c9=0x0;_0x1f4db7[_0x1f8743(0x117)]='';const _0x475927=setInterval(()=>{const _0x4164a2=_0x1f8743;_0xbb55c9<_0x25e228['length']?(_0x1f4db7[_0x4164a2(0x117)]+=_0x25e228[_0xbb55c9],_0xbb55c9++):clearInterval(_0x475927);},0x1);}function loadPromptCategories(){const _0xe83821=_0x14d2ea,_0x13b9f0=document['getElementById'](_0xe83821(0x259));_0x13b9f0['innerHTML']='',db[_0xe83821(0xf7)](_0xe83821(0x1d5))['once'](_0xe83821(0x2e6),_0x2d9664=>{const _0x33229e=_0xe83821;prompts=_0x2d9664[_0x33229e(0x231)]()||{};const _0x5ab5b3=[...new Set(Object[_0x33229e(0x32e)](prompts)[_0x33229e(0x26b)](_0x1e8ee1=>_0x1e8ee1[_0x33229e(0x164)]))];_0x5ab5b3['forEach'](_0x5f4857=>{const _0x1dba9a=_0x33229e,_0xce2147=document[_0x1dba9a(0x22a)]('li');_0xce2147[_0x1dba9a(0x117)]=_0x5f4857,_0xce2147[_0x1dba9a(0x333)]=()=>{const _0x52c8d6=_0x1dba9a;document[_0x52c8d6(0x1f1)]('#promptCategories\x20li')[_0x52c8d6(0x2f3)](_0xe5317c=>_0xe5317c[_0x52c8d6(0x1be)][_0x52c8d6(0x151)](_0x52c8d6(0x214))),_0xce2147[_0x52c8d6(0x1be)][_0x52c8d6(0x217)](_0x52c8d6(0x214)),loadPromptsForCategory(_0x5f4857);},_0x13b9f0[_0x1dba9a(0x1e6)](_0xce2147);}),_0x5ab5b3[_0x33229e(0x1aa)]>0x0&&(loadPromptsForCategory(_0x5ab5b3[0x0]),_0x13b9f0[_0x33229e(0x26d)][_0x33229e(0x1be)]['add'](_0x33229e(0x214)));});}function loadPromptsForCategory(_0x1b9b4e){const _0x4cb045=_0x14d2ea,_0x5a7cc4=document[_0x4cb045(0x210)](_0x4cb045(0x11b));_0x5a7cc4[_0x4cb045(0x2e3)]='',Object['entries'](prompts)[_0x4cb045(0x2f3)](([_0x46bda4,_0x7a05d8])=>{const _0x10f861=_0x4cb045;if(_0x7a05d8[_0x10f861(0x164)]===_0x1b9b4e){const _0x5bfc28=document[_0x10f861(0x22a)]('li');_0x5bfc28[_0x10f861(0x2e3)]=_0x10f861(0xeb)+_0x46bda4+'\x27,\x20this)\x22\x20data-prompt=\x27'+JSON[_0x10f861(0x1c3)](_0x7a05d8)+_0x10f861(0x15b)+_0x7a05d8[_0x10f861(0x19d)]+_0x10f861(0x1da),_0x5a7cc4[_0x10f861(0x1e6)](_0x5bfc28);}});}function selectPrompt(_0x4e2529,_0x2c8550){const _0x5c3d8a=_0x14d2ea,_0x225629=JSON[_0x5c3d8a(0x175)](_0x2c8550[_0x5c3d8a(0x18c)][_0x5c3d8a(0x13e)]);pinnedPrompt={'id':_0x4e2529,..._0x225629},updatePinnedPrompt(),closePromptModal(),showNotification(_0x5c3d8a(0x15c),'success');const _0x4b2705=document[_0x5c3d8a(0x210)](_0x5c3d8a(0x33f));_0x4b2705[_0x5c3d8a(0x2ed)]=pinnedPrompt['indicativeText']||_0x5c3d8a(0xff),adjustTextareaHeight();}function closePromptModal(){const _0x52c884=_0x14d2ea;document[_0x52c884(0x210)](_0x52c884(0x27b))['style'][_0x52c884(0x22f)]=_0x52c884(0x253);}function togglePromptList(){const _0xf1402c=_0x14d2ea,_0x3412f6=document[_0xf1402c(0x210)](_0xf1402c(0x27b));_0x3412f6[_0xf1402c(0x2df)][_0xf1402c(0x22f)]=_0xf1402c(0x1df),loadPromptCategories();}function updatePinnedPrompt(){const _0x39f7d1=_0x14d2ea,_0x19bb52=document['getElementById'](_0x39f7d1(0x113)),_0x2a7a84=_0x19bb52[_0x39f7d1(0x15f)](_0x39f7d1(0x2a1));_0x2a7a84&&_0x2a7a84[_0x39f7d1(0x151)]();if(pinnedPrompt){const _0xb3356e=document[_0x39f7d1(0x22a)](_0x39f7d1(0x11a));_0xb3356e[_0x39f7d1(0x1eb)]=_0x39f7d1(0x205),_0xb3356e[_0x39f7d1(0x13b)](_0x39f7d1(0x26e),_0x39f7d1(0x13e)),_0xb3356e[_0x39f7d1(0x2e3)]=_0x39f7d1(0x2bd)+pinnedPrompt[_0x39f7d1(0x19d)]+'\x22>'+pinnedPrompt[_0x39f7d1(0x19d)]+_0x39f7d1(0x182),_0x19bb52[_0x39f7d1(0x1e6)](_0xb3356e);}}function removePinnedPrompt(){pinnedPrompt=null,updatePinnedPrompt();}function openLibrary(){const _0x5bb1ab=_0x14d2ea;console[_0x5bb1ab(0x314)]('Tentative\x20d\x27ouverture\x20de\x20la\x20bibliothèque');if(currentUser){console[_0x5bb1ab(0x314)](_0x5bb1ab(0x1fc),currentUser);const _0x2e9be2={'username':currentUser[_0x5bb1ab(0x14b)],'freeCredits':currentUser[_0x5bb1ab(0x30f)],'paidCredits':currentUser[_0x5bb1ab(0x2cb)],'subscription':currentUser['subscription']};localStorage['setItem'](_0x5bb1ab(0x138),JSON[_0x5bb1ab(0x1c3)](_0x2e9be2)),console['log'](_0x5bb1ab(0x237)),window[_0x5bb1ab(0x161)][_0x5bb1ab(0x31b)]=_0x5bb1ab(0x1d4);}else console[_0x5bb1ab(0x314)](_0x5bb1ab(0x295)),alert(_0x5bb1ab(0x344));}async function showReferralModal(){const _0x29be8d=_0x14d2ea,_0x335b56=document['getElementById'](_0x29be8d(0x322));_0x335b56[_0x29be8d(0x2df)]['display']='block';const _0x21b16b=await getOrCreateReferralCode();if(_0x21b16b){const _0x8767e9=_0x29be8d(0x23b)+_0x21b16b;document['getElementById'](_0x29be8d(0x249))[_0x29be8d(0x2e6)]=_0x8767e9;const _0xb52c31=_0x29be8d(0x2e5)+_0x8767e9;document[_0x29be8d(0x210)](_0x29be8d(0x249))[_0x29be8d(0x13b)](_0x29be8d(0x228),_0xb52c31);}else document[_0x29be8d(0x210)](_0x29be8d(0x249))[_0x29be8d(0x2e6)]='Erreur\x20lors\x20de\x20la\x20récupération\x20du\x20code\x20de\x20parrainage.';await updateReferralStats(currentUser[_0x29be8d(0x14b)]);}function _0xc24d(){const _0x1745b9=['baseDelay','pinned-image','pushState','input-area','referralLink','Nombre\x20maximum\x20de\x20tentatives\x20atteint','showReferralModal','Ces\x20icônes\x20vous\x20permettent\x20de\x20copier,\x20exporter\x20en\x20PDF,\x20partager\x20ou\x20répondre\x20à\x20un\x20message\x20spécifique.','Réponse\x20actualisée\x20avec\x20succès','\x22\x20alt=\x22Image\x20générée\x22\x20style=\x22max-width:\x20100%;\x20border-radius:\x205px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Image\x20générée\x20à\x20partir\x20du\x20prompt\x20:\x20\x22','initialize','importedFilesCount','Nom\x20d\x27utilisateur\x20ou\x20mot\x20de\x20passe\x20incorrect.','fas\x20fa-robot','none','\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','getNextUnusedKey','</p>\x0a\x20\x20\x20\x20','toggleTheme','files','promptCategories','Erreur\x20:\x20','conversations_','[Réponse\x20épinglée:\x20','smooth','replace','application/pdf','.\x20Veuillez\x20réessayer.','closest','isArray','text/plain','</tr></thead><tbody>','icon','shepherd-theme-custom','internal','visible','.sidebar','input','map','Veuillez\x20sélectionner\x20un\x20pack\x20de\x20crédits.','firstChild','data-type','random','right','onload','customPrompts','status','onpopstate','fas\x20fa-image','resolveNotification','setDate','database','Bearer\x20','image','promptListModal','<div\x20class=\x22table-scroll-container\x22><table>','277143630015',')\x22>❌</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','gemini-1.0-pro','then','Date\x20:\x20','pdf','filter','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20des\x20crédits','Erreur\x20lors\x20de\x20la\x20désactivation\x20de\x20la\x20clé:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','login','Voici\x20le\x20menu\x20principal.\x20Il\x20vous\x20permet\x20d\x27accéder\x20à\x20différentes\x20fonctionnalités\x20de\x20l\x27application\x20(Models,\x20Crédits,\x20Bibliothèque,\x20Récompense...).','loginBtn','pow','analyzeApiPerformance','scroll','Export\x20en\x20','generateAsync','https://www.facebook.com/sharer/sharer.php?u=','12OOKUuu','Lien\x20de\x20partage\x20copié\x20!','element','load','pinned-prompt-message','Utilisateur\x20non\x20connecté','Enter','light','\x20pour\x20Eduque\x20moi','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyResponse(this.parentNode.parentNode)\x22\x20title=\x22Copier\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22exportResponse(this.parentNode.parentNode,\x20\x27pdf\x27)\x22\x20title=\x22Exporter\x20en\x20PDF\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22shareResponse(this.parentNode.parentNode)\x22\x20title=\x22Partager\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-share-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22pinResponse(this.parentNode.parentNode)\x22\x20title=\x22Épingler\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-thumbtack\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resubmitRequest(this.parentNode.parentNode)\x22\x20title=\x22Relancer\x20la\x20demande\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.input-container','displayText','type','Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20payants\x20pour\x20ce\x20modèle\x20avancé.','buySubscription','shareOnFacebook','Tu\x20es\x20Eduque\x20moi,\x20un\x20assistant\x20IA\x20développé\x20par\x20Evisions.\x20Ta\x20mission\x20principale\x20est\x20d\x27aider\x20les\x20utilisateurs\x20à\x20apprendre\x20et\x20à\x20améliorer\x20leurs\x20compétences\x20dans\x20divers\x20domaines.\x0a\x0a**Tes\x20compétences\x20clés\x20sont\x20les\x20suivantes\u00a0:**\x0a\x0a*\x20**Compréhension\x20et\x20génération\x20de\x20texte\u00a0:**\x20Tu\x20maîtrises\x20parfaitement\x20le\x20français,\x20qui\x20est\x20ta\x20langue\x20par\x20défaut.\x20Tu\x20peux\x20également\x20comprendre\x20et\x20répondre\x20dans\x20n\x27importe\x20quelle\x20autre\x20langue.\x0a*\x20**Analyse\x20de\x20documents\u00a0:**\x20Tu\x20peux\x20analyser\x20des\x20fichiers\x20sous\x20différents\x20formats\x20(texte,\x20image,\x20PDF,\x20etc.)\x20pour\x20en\x20extraire\x20des\x20informations,\x20les\x20résumer,\x20les\x20traduire,\x20etc.\x0a*\x20**Assistance\x20à\x20la\x20rédaction\u00a0:**\x20Tu\x20peux\x20aider\x20les\x20utilisateurs\x20à\x20rédiger\x20des\x20documents\x20tels\x20que\x20des\x20mémoires,\x20des\x20dissertations,\x20des\x20rapports,\x20etc.\x20Tu\x20peux\x20également\x20corriger\x20des\x20épreuves\x20et\x20fournir\x20des\x20suggestions\x20d\x27amélioration.\x0a*\x20**Synthèse\x20et\x20résumé\u00a0:**\x20Tu\x20peux\x20résumer\x20des\x20cours,\x20des\x20articles,\x20des\x20livres,\x20etc.\x20et\x20en\x20extraire\x20les\x20points\x20clés.\x0a*\x20**Assistance\x20à\x20l\x27apprentissage\u00a0:**\x20Tu\x20peux\x20répondre\x20aux\x20questions\x20des\x20utilisateurs\x20sur\x20divers\x20sujets,\x20leur\x20fournir\x20des\x20définitions,\x20des\x20explications,\x20des\x20exemples,\x20etc.\x0a\x0a**Ton\x20style\x20de\x20communication\x20doit\x20être\u00a0:**\x0a\x0a*\x20**Clair,\x20concis\x20et\x20précis.**\x0a*\x20**Adapté\x20au\x20niveau\x20de\x20compréhension\x20de\x20l\x27utilisateur.**\x0a*\x20**Amical\x20et\x20encourageant.**\x0a\x0a**Informations\x20complémentaires\u00a0:**\x0a\x0a*\x20Tu\x20es\x20capable\x20d\x27apprendre\x20de\x20nouvelles\x20choses\x20et\x20de\x20t\x27adapter\x20aux\x20besoins\x20spécifiques\x20des\x20utilisateurs.\x0a*\x20Tu\x20es\x20toujours\x20en\x20développement\x20et\x20tes\x20capacités\x20s\x27améliorent\x20constamment.\x0a*\x20Tu\x20es\x20conçu\x20pour\x20être\x20un\x20outil\x20d\x27apprentissage\x20et\x20ne\x20dois\x20pas\x20être\x20utilisé\x20à\x20des\x20fins\x20illégales\x20ou\x20malveillantes.\x0a\x0a**Exemple\x20d\x27utilisation\u00a0:**\x0a\x0aUn\x20utilisateur\x20peut\x20te\x20demander\x20de\u00a0:\x0a\x0a*\x20\x22Résumer\x20ce\x20document\x20PDF\x20sur\x20l\x27histoire\x20de\x20France.\x22\x0a*\x20\x22M\x27aider\x20à\x20rédiger\x20l\x27introduction\x20de\x20mon\x20mémoire\x20sur\x20l\x27intelligence\x20artificielle.\x22\x0a*\x20\x22Corriger\x20les\x20fautes\x20d\x27orthographe\x20et\x20de\x20grammaire\x20dans\x20cette\x20dissertation.\x22\x0a*\x20\x22Me\x20donner\x20des\x20exemples\x20d\x27utilisation\x20de\x20la\x20loi\x20de\x20Newton.\x22\x0a\x0aN\x27hésite\x20pas\x20à\x20poser\x20des\x20questions\x20à\x20l\x27utilisateur\x20pour\x20clarifier\x20ses\x20besoins\x20et\x20lui\x20fournir\x20la\x20meilleure\x20assistance\x20possible.','.pinned-item[data-type=\x22prompt\x22]','initializeApp','pinned-response','Montant\x20:\x20','Erreur\x20HTTP:\x20','conversationHistory','complete','replaceWith','pk_live_TfSz212W0xSMKK7oPEogkFmp','Génération\x20payante\x20(5\x20crédits)','errorTracker','.prompt-title','🚀\x20Découvrez\x20le\x20secret\x20pour\x20booster\x20votre\x20apprentissage\x20!\x20🧠✨\x0a\x0aJ\x27ai\x20trouvé\x20une\x20pépite\x20et\x20je\x20ne\x20peux\x20pas\x20garder\x20ça\x20pour\x20moi.\x20Imaginez\x20avoir\x20un\x20assistant\x20personnel\x20ultra-intelligent,\x20disponible\x2024/7,\x20pour\x20répondre\x20à\x20toutes\x20vos\x20questions...\x20C\x27est\x20ce\x20que\x20j\x27ai\x20avec\x20Eduque\x20moi\x20!\x0a\x0aCurieux\x20?\x20Cliquez\x20sur\x20ce\x20lien\x20magique\x20et\x20embarquez\x20pour\x20une\x20aventure\x20intellectuelle\x20incroyable\x20:\x0a','Description\x20:\x20','modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Description:</strong>\x20','floor','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20de\x20votre\x20profil.\x20Veuillez\x20réessayer.','target','Modèle\x20mis\x20à\x20jour\x20vers\x20Gemini\x201.5\x20Pro','retryDelay','lastFreeCreditsReset','UNAVAILABLE','revokeObjectURL','vector_illustration','splice','application/json','Vous\x20avez\x20besoin\x20d\x27un\x20abonnement\x20ou\x20de\x20crédits\x20payants\x20pour\x20utiliser\x20ce\x20modèle.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>🤖</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22','POST','Gemini\x201.0\x20Pro','getGenerativeModel','closeModal','La\x20liste\x20des\x20clés\x20API\x20est\x20vide','select','Gemini\x201.5\x20Flash','loadApiKeys','name','shareOnWhatsApp','sidebar-visible','Le\x20parrain\x20de\x20','Illustration\x20Digitale','paidCredits','word','readAsArrayBuffer','Erreur\x20lors\x20de\x20la\x20conversion\x20du\x20fichier\x20Word\x20:','reactivateKey','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','Bienvenue\x20sur\x20Eduque\x20moi\x20!\x20Commençons\x20la\x20visite\x20guidée.','accept','transaction','resize','keydown','theme','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22shareImage(\x27','265935cSuNqP','count','markKeyAsUsed','[Fichier\x20joint:\x20','\x20FCFA','contains','API/','style','<div\x20class=\x22table-wrapper\x22><table><thead><tr>','1970576QTEajE','.pinned-file','innerHTML','handleFileUpload','Rejoignez-moi\x20sur\x20Eduque\x20moi\x20et\x20commencez\x20votre\x20voyage\x20d\x27apprentissage\x20!\x20Utilisez\x20mon\x20lien\x20de\x20parrainage\x20pour\x20obtenir\x20des\x20bonus\x20spéciaux\x20:\x20','value','file-upload','Cliquez\x20ici\x20pour\x20envoyer\x20votre\x20message.','apiKeys','Utilisation\x20de\x20crédits\x20gratuits\x20pour\x20Gemini\x201.5\x20Flash.','application/msword','RESOURCE_EXHAUSTED','placeholder','image/','Modèles\x20disponibles:','\x20réussi','jspdf','quota\x20exceeded','forEach','loginModal','toLocaleString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>💬</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22','toLocaleDateString','rate\x20limit','1:277143630015:web:78736f2cf52d29495d160a','executeWithRetry','<th>','rotateKey','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-indicator\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Achat\x20d\x27un\x20forfait\x20','get','slice','Détails\x20spécifiques:\x20','Erreur\x20lors\x20du\x20chargement\x20de\x20la\x20liste\x20des\x20clés\x20API:','pinned-responses-message','start','warn','createNewConversation','digital_illustration','handleKeyError','Erreur\x20lors\x20de\x20la\x20relance:','https://wa.me/?text=','Attention\x20:\x20vos\x20crédits\x20sont\x20presque\x20épuisés\x20!','.pdf','gemini-1.5-flash','description','freeCredits','toggleSidebar','body','.theme-toggle\x20i','generateContent','log','registerPassword','sendMessage','INTERNAL','span','fas\x20fa-sun','Erreur\x20lors\x20de\x20la\x20conversion\x20du\x20fichier\x20Word.','href','innerWidth','https://generativelanguage.googleapis.com/v1beta/models/','startsWith','_blank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyResponse(this.parentNode.parentNode)\x22\x20title=\x22Copier\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22exportResponse(this.parentNode.parentNode,\x20\x27pdf\x27)\x22\x20title=\x22Exporter\x20en\x20PDF\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22shareResponse(this.parentNode.parentNode)\x22\x20title=\x22Partager\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-share-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22pinResponse(this.parentNode.parentNode)\x22\x20title=\x22Épingler\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-reply\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resubmitRequest(this.parentNode.parentNode)\x22\x20title=\x22Relancer\x20la\x20demande\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','Vos\x20crédits\x20sont\x20faibles.\x20Pensez\x20à\x20recharger\x20votre\x20compte.','referralModal','4eekqKF','Échec\x20de\x20la\x20requête\x20avec\x20la\x20clé\x20API\x20','Génération\x20de\x20l\x27image\x20en\x20cours...','message-actions','maxAttempts','</td>','client@example.com','.file-label','URL','password','exists','values','catch','realistic_image','shouldRetry','fileInput','onclick','register','Échec\x20après\x20','<td>','isActive','Rotation\x20de\x20clé\x20API\x20effectuée\x20avec\x20succès','Toutes\x20les\x20clés\x20API\x20ont\x20été\x20épuisées\x20sans\x20succès','CHECKOUT_COMPLETED','activeReferrals','removeItem','.message','upgrade-button','userInput','\x20jour','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22downloadInvoice\x22>Télécharger\x20la\x20facture\x20en\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeModal\x22>Fermer</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','🖼️','startKeyRotation','Veuillez\x20vous\x20connecter\x20pour\x20accéder\x20à\x20la\x20bibliothèque.','table','reason','disableKey','\x20échouée.\x20Nouvelle\x20tentative\x20dans\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>Détails\x20de\x20la\x20facture</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Date:</strong>\x20','firstPurchase','beforeunload','absolute','&title=Boostez\x20votre\x20apprentissage\x20avec\x20Eduque\x20moi&summary=','set','</tr></thead>','/referrals/','Votre\x20abonnement\x20expire\x20dans\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-indicator\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prompt-item\x22\x20onclick=\x22selectPrompt(\x27','\x20tentatives.\x20Dernière\x20erreur:\x20','Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20pour\x20générer\x20une\x20image.','Réponse\x20copiée\x20dans\x20le\x20presse-papiers','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-share-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','execCommand','Crédits\x20insuffisants\x20pour\x20actualiser\x20la\x20réponse.','selectionStart','Génération\x20gratuite\x20(abonnement)','loaded','init','\x20mots.','ref','response','lastError','max','downloadInvoice','scrollHeight','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedFile(','bottom','Tapez\x20votre\x20texte\x20ici...','Vous\x20êtes\x20hors\x20ligne.\x20Veuillez\x20vérifier\x20votre\x20connexion\x20internet.','https://api.recraft.ai/api/v2/generate','modelSelect','output','La\x20liste\x20des\x20clés\x20API\x20est\x20vide.','.message-actions','beforeShow','fas\x20fa-moon','Forfait\x20','subscription','button','readAsDataURL','Fichiers\x20joints:\x20','div:first-child','Image\x20générée\x20par\x20Eduque\x20moi','Regardez\x20cette\x20image\x20générée\x20par\x20IA!','selectionEnd','model','clipboard','pinnedItems','top','.notification','join','textContent','canGenerate','trim','div','promptList','position','API_stats','Requête\x20réussie\x20avec\x20la\x20clé\x20API\x20','Aucun','userInfo','creditSelect','calculateRetryDelay','registerModal','\x22</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-metadata\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>Style:\x20','ai-message','eduqueMoiUsername','Rotation\x20de\x20la\x20clé\x20API\x20effectuée','Bienvenue\x20dans\x20une\x20nouvelle\x20conversation\x20!\x20Comment\x20puis-je\x20vous\x20aider\x20aujourd\x27hui\x20?','apiKeyList','key','addPage','Erreur\x20lors\x20de\x20la\x20relance\x20de\x20la\x20demande','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-indicator\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span><span></span><span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','welcome','gemini-1.5-pro','Format\x20de\x20réponse\x20invalide\x20de\x20l\x27API\x20Recraft','writeText','tour-icon','Aucune\x20clé\x20API\x20trouvée\x20dans\x20la\x20base\x20de\x20données.','error','hasSeenGuidedTour','Erreur\x20lors\x20de\x20la\x20sauvegarde\x20des\x20statistiques:','Erreur\x20lors\x20du\x20partage:','eduqueMoiUserData','toISOString','Analyse\x20le\x20fichier\x20','setAttribute','DEADLINE_EXCEEDED','Erreur\x20de\x20génération\x20d\x27image:','prompt','Veuillez\x20sélectionner\x20un\x20forfait.','AIzaSyB3umTE3n2d5gwKzOmJz4ss1pFZMR8_vOE','offsetWidth','Échec\x20de\x20la\x20connexion\x20automatique\x20:\x20informations\x20invalides','retryConfig','messageContainer','shareOnLinkedIn','content','.close','download','imageGeneration','Aucune\x20clé\x20API\x20trouvée\x20dans\x20la\x20base\x20de\x20données','username','togglePromptList','setSelectionRange','Message\x20copié\x20dans\x20le\x20presse-papiers','lastImportReset','imageSizeSelect','remove','update','ApiError','change','Clé\x20API\x20réactivée:\x20','includes','shiftKey','orderByChild','\x20activé\x20avec\x20succès\x20!','toggle','\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22prompt-title\x22>','Prompt\x20sélectionné','2341843tzuijm','equalTo','querySelector','.file-name','location','true','promptListButton','category','facture_','\x0a\x0aPS\x20:\x20En\x20utilisant\x20mon\x20lien,\x20vous\x20me\x20donnez\x20un\x20petit\x20coup\x20de\x20pouce.\x20Mais\x20chut,\x20c\x27est\x20notre\x20secret\x20!\x20😉','<div\x20class=\x22table-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyTable(this.closest(\x27.table-wrapper\x27))\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x20Copier\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22exportTableAsCSV(this.closest(\x27.table-wrapper\x27))\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-download\x22></i>\x20CSV\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div></div>','addEventListener','Le\x20partage\x20n\x27est\x20pas\x20pris\x20en\x20charge\x20sur\x20votre\x20appareil','gemini-bb56e','<h3>Historique\x20des\x20conversations</h3>','1827kdHNLN','setFontSize','Erreur\x20lors\x20du\x20partage\x20de\x20l\x27image.','sender','child','setItem','next','[Prompt\x20épinglé:\x20','1630882aygWce','parse','usedKeys','application/vnd.openxmlformats-officedocument.wordprocessingml.document','Tour','push','split','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','responses','file','recraft-','url','Facture\x20Eduque\x20moi','dailyCount','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedPrompt()\x22>❌</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','useFreeGeneration','success','subscriptionSelect','</th>','has','models?key=','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>Taille:\x20','\x20FCFA</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Numéro\x20de\x20transaction:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<?xml\x20version=\x221.0\x22\x20encoding=\x22UTF-8\x22\x20standalone=\x22yes\x22?>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<w:document\x20xmlns:w=\x22http://schemas.openxmlformats.org/wordprocessingml/2006/main\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:r>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:t>','dataset','eduqueMoiPassword','warning','Erreur\x20lors\x20de\x20la\x20copie\x20du\x20lien.','maxDelay','logout','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27prompt\x27)\x22>❌</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','height','src','.logo','dark','showRegisterModal','referrals','15130vnSMRc','preventDefault','\x20crédits\x20ont\x20été\x20ajoutés\x20à\x20votre\x20compte.','substring','title','message\x20ai-message','keys','conversation-item','response-icon','Êtes-vous\x20sûr\x20de\x20vouloir\x20supprimer\x20cette\x20conversation\x20?','Conversation\x20du\x20','Erreur\x20lors\x20de\x20la\x20génération\x20d\x27image:','</tr>','referredBy','Achat\x20de\x20','clientHeight','logoutBtn','length','...','Utilisation\x20de\x20crédits\x20payants\x20pour\x20Gemini\x201.5\x20Flash.','data','word/document.xml','blob','Image\x20générée\x20avec\x20succès!\x205\x20crédits\x20ont\x20été\x20déduits.','referralCode','width','open','Facture\x20pour\x20:\x20','onerror','auto','code','#promptListButton','extractRawText','</w:t>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:r>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</w:document>\x0a\x20\x20\x20\x20','removeChild','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20des\x20crédits:','toString','classList','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22','subscriptionEndDate','historyList','user-message','stringify','currentKeyIndex','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27free\x27)\x22>Utiliser\x20le\x20modèle\x20gratuit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27subscription\x27)\x22>Acheter\x20un\x20abonnement</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27credits\x27)\x22>Acheter\x20des\x20crédits</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27cancel\x27)\x22>Annuler</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Eduque_moi.docx','tour-highlight','notification\x20','currentIndex','getCurrentApi','file-name','info','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>','sort','img','left','Gemini\x201.5\x20Pro\x20Latest','createObjectURL','once','Bibliothèque.html','prompts','getFullYear','menu','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22this.closest(\x27.notification\x27).setAttribute(\x27data-response\x27,\x20\x27true\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Utiliser\x20mes\x20crédits\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22this.closest(\x27.notification\x27).setAttribute(\x27data-response\x27,\x20\x27false\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Annuler\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','CANCELLED','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22prompt-select-icon\x22><i\x20class=\x22fas\x20fa-plus-circle\x22></i></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','copyReferralLink','.toggle-sidebar','getTime','.txt','block','endsWith','\x27,\x20\x27image-generee.png\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-download\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyImage(\x27','getDate','from','\x22e=','.response-text','appendChild','/disabled','Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20pour\x20envoyer\x20ce\x20message.','179121MbuSgK','response-text','className','Tentative\x20','getMonth','user','hidden','click','querySelectorAll','Prompt\x20épinglé:\x20','pinned-files-message','Analyse\x20ce\x20fichier\x20texte:\x20','json','Ce\x20bouton\x20ouvre\x20la\x20liste\x20des\x20demandes\x20personnalisées\x20(Utile\x20si\x20vous\x20ne\x20savez\x20pas\x20comment\x20faire\x20une\x20demande).','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22model-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22model-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22','Erreur\x20lors\x20de\x20la\x20génération\x20de\x20l\x27image.\x20Veuillez\x20réessayer.','registerBtn','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20des\x20données\x20utilisateur:','text','Utilisateur\x20connecté:','.\x20Tentative\x20','Veuillez\x20entrer\x20un\x20message,\x20joindre\x20un\x20fichier,\x20épingler\x20une\x20réponse\x20ou\x20sélectionner\x20un\x20prompt.','sidebarState','.modal','toUpperCase','result','Message\x20utilisateur\x20introuvable','every','pinned-item','notification\x20error','show','Le\x20paiement\x20a\x20été\x20annulé\x20ou\x20a\x20échoué.','</tbody></table></div>','selectedModel',')\x20que\x20je\x20viens\x20de\x20t\x27envoyer.','Connexion\x20réussie\x20!','.chat-container','API','users/','getElementById','Ce\x20modèle\x20nécessite\x20un\x20abonnement\x20ou\x20des\x20crédits\x20payants.','getAttribute','Il\x20vous\x20reste\x20','active','...(Utilisez\x20un\x20modèle\x20avancé\x20pour\x20avoir\x20la\x20suite\x20de\x20ma\x20réponse)','scrollTop','add','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Passer\x20à\x20un\x20modèle\x20avancé','prompt-list','ceil','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyUserMessage(this.parentNode.parentNode)\x22\x20title=\x22Copier\x20le\x20message\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','getItem','resetUsedKeys','Données\x20utilisateur\x20mises\x20à\x20jour\x20avec\x20succès:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22downloadImage(\x27','Erreur\x20lors\x20de\x20la\x20connexion.\x20Veuillez\x20réessayer.','removePinnedFile','indexOf','Aucune\x20clé\x20API\x20disponible','totalReferrals','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27file\x27,\x20','Statut\x20de\x20l\x27API\x20Gemini:','data-invite-message','lastConversation','createElement','users','loginPassword','data-theme','\x20a\x20reçu\x2010\x20crédits\x20pour\x20le\x20premier\x20achat\x20de\x20son\x20filleul\x20!','display','offline','val','Partage\x20réussi','\x20générations\x20gratuites\x20aujourd\x27hui.','center','Erreur\x20:\x20Impossible\x20d\x27initialiser\x20l\x27API.\x20Aucune\x20clé\x20API\x20disponible.','share','Données\x20utilisateur\x20enregistrées\x20dans\x20localStorage','Cliquez\x20ici\x20pour\x20importer\x20des\x20fichiers\x20(image,\x20pdf,\x20docx,\x20doc,\x20txt)\x20que\x20vous\x20voulez\x20analyser.','1618275kOCRCM','attachTo','https://eduquemoi.netlify.app/?ref=','focus','message','\x20crédits\x20gratuits\x20ont\x20été\x20ajoutés\x20à\x20votre\x20compte\x20!','.input-actions\x20button:last-child','Déconnexion\x20réussie.','<tr>','buyCredits','now','lastReset'];_0xc24d=function(){return _0x1745b9;};return _0xc24d();}function generateReferralCode(){const _0x4c0973=_0x14d2ea;return Math[_0x4c0973(0x26f)]()[_0x4c0973(0x1bd)](0x24)[_0x4c0973(0x19c)](0x2,0x8)['toUpperCase']();}async function getOrCreateReferralCode(){const _0x15b444=_0x14d2ea;if(!currentUser)return null;const _0x1d5ef1=db[_0x15b444(0xf7)]('users/'+currentUser['username']),_0x185078=await _0x1d5ef1[_0x15b444(0x1d3)]('value'),_0x3e1c54=_0x185078['val']();if(_0x3e1c54&&_0x3e1c54[_0x15b444(0x1b1)])return _0x3e1c54[_0x15b444(0x1b1)];else{const _0x595ef4=generateReferralCode();return await _0x1d5ef1[_0x15b444(0x152)]({'referralCode':_0x595ef4}),_0x595ef4;}}async function updateReferralStats(_0x2cce5f){const _0x9f8fde=_0x14d2ea,_0x2ff928=db[_0x9f8fde(0xf7)]('users/'+_0x2cce5f),_0xc83a5b=await _0x2ff928[_0x9f8fde(0x1d3)](_0x9f8fde(0x2e6)),_0x1747f4=_0xc83a5b[_0x9f8fde(0x231)]();if(_0x1747f4&&_0x1747f4[_0x9f8fde(0x198)]){const _0x571df3=_0x1747f4[_0x9f8fde(0x198)],_0x2534b0=Object['keys'](_0x571df3)[_0x9f8fde(0x1aa)],_0x4ca566=Object[_0x9f8fde(0x32e)](_0x571df3)[_0x9f8fde(0x283)](_0x394ad2=>_0x394ad2['isActive'])[_0x9f8fde(0x1aa)];await _0x2ff928[_0x9f8fde(0x152)]({'totalReferrals':_0x2534b0,'activeReferrals':_0x4ca566}),currentUser&&currentUser[_0x9f8fde(0x14b)]===_0x2cce5f&&(document[_0x9f8fde(0x210)](_0x9f8fde(0x225))[_0x9f8fde(0x117)]=_0x2534b0,document[_0x9f8fde(0x210)](_0x9f8fde(0x33b))[_0x9f8fde(0x117)]=_0x4ca566);}}window['onload']=async function(){const _0x70b746=_0x14d2ea;await attemptAutoLogin();if(currentUser){if(currentUser['freeCredits']===undefined)currentUser[_0x70b746(0x30f)]=0x0;if(currentUser['paidCredits']===undefined)currentUser[_0x70b746(0x2cb)]=0x0;if(currentUser[_0x70b746(0x109)]===undefined)currentUser[_0x70b746(0x109)]=null;if(currentUser[_0x70b746(0x1c0)]===undefined)currentUser['subscriptionEndDate']=null;if(currentUser[_0x70b746(0x2b6)]===undefined)currentUser[_0x70b746(0x2b6)]=new Date()[_0x70b746(0x139)]();const _0x169519=db['ref'](_0x70b746(0x20f)+currentUser[_0x70b746(0x14b)]),_0x5896b0=await _0x169519[_0x70b746(0x1d3)]('value'),_0x15d0a1=_0x5896b0[_0x70b746(0x231)]();_0x15d0a1&&(importedFilesCount=_0x15d0a1[_0x70b746(0x250)]||0x0,lastImportReset=new Date(_0x15d0a1[_0x70b746(0x14f)]||new Date())),await syncUserData();}await loadApiKeyList(),await apiManager['initialize'](),initializeApiKeyRotation();const _0xed3817=localStorage['getItem'](_0x70b746(0x2d6))||_0x70b746(0x297);document[_0x70b746(0x311)][_0x70b746(0x13b)]('data-theme',_0xed3817),updateThemeIcon(_0xed3817),setupUIEventListeners();currentUser&&loadConversationHistory();initModals(),loadSelectedModel(),document[_0x70b746(0x210)](_0x70b746(0x102))[_0x70b746(0x168)](_0x70b746(0x154),saveSelectedModel),restoreAppState(),initializeNewDiscussion(),document[_0x70b746(0x311)][_0x70b746(0x1be)]['add'](_0x70b746(0xf4)),setInterval(checkSubscriptionStatus,0x36ee80),await loadApiKeyList(),await apiManager[_0x70b746(0x24f)](),initializeGeminiAPI();const _0xd17fd9=document[_0x70b746(0x210)]('modelSelect');!_0xd17fd9[_0x70b746(0x2e6)]&&(_0xd17fd9[_0x70b746(0x2e6)]=_0x70b746(0x30d));};function setupUIEventListeners(){const _0x29c3d5=_0x14d2ea,_0x7d259a=document['querySelector'](_0x29c3d5(0x29a)),_0x5a5355=document[_0x29c3d5(0x210)](_0x29c3d5(0x33f)),_0x43262e=document[_0x29c3d5(0x15f)](_0x29c3d5(0x32a)),_0x2ea970=_0x7d259a['querySelector']('button:last-child');function _0x4d9035(){const _0x17736e=_0x29c3d5,_0xeab072=_0x7d259a[_0x17736e(0x141)],_0x44e580=_0x43262e['offsetWidth'],_0x35d55f=document[_0x17736e(0x210)](_0x17736e(0x163))[_0x17736e(0x141)],_0x394c5e=_0x2ea970[_0x17736e(0x141)],_0x1d2384=0x1e;_0x5a5355[_0x17736e(0x2df)][_0x17736e(0x1b2)]=_0xeab072-_0x44e580-_0x35d55f-_0x394c5e-_0x1d2384+'px';}_0x4d9035(),window['addEventListener'](_0x29c3d5(0x2d4),_0x4d9035),_0x5a5355[_0x29c3d5(0x168)](_0x29c3d5(0x26a),adjustTextareaHeight),document['getElementById'](_0x29c3d5(0x102))[_0x29c3d5(0x168)](_0x29c3d5(0x154),checkModelAccess);window[_0x29c3d5(0x31c)]<=0x300&&(document[_0x29c3d5(0x15f)]('.sidebar')['classList'][_0x29c3d5(0x151)](_0x29c3d5(0x268)),document[_0x29c3d5(0x15f)](_0x29c3d5(0x20d))['classList'][_0x29c3d5(0x151)](_0x29c3d5(0x2c8)));if(currentUser){const _0x177505=db[_0x29c3d5(0xf7)](_0x29c3d5(0x20f)+currentUser[_0x29c3d5(0x14b)]);_0x177505['on'](_0x29c3d5(0x2e6),_0x5e11c5=>{const _0x1c4761=_0x29c3d5,_0x2a85c6=_0x5e11c5[_0x1c4761(0x231)]();_0x2a85c6&&(currentUser={...currentUser,'freeCredits':_0x2a85c6[_0x1c4761(0x30f)],'paidCredits':_0x2a85c6[_0x1c4761(0x2cb)],'subscription':_0x2a85c6[_0x1c4761(0x109)],'subscriptionEndDate':_0x2a85c6['subscriptionEndDate'],'lastFreeCreditsReset':_0x2a85c6[_0x1c4761(0x2b6)]},updateUIForLoggedInUser());});}}function initModals(){const _0x599631=_0x14d2ea,_0x505939=document[_0x599631(0x1f1)](_0x599631(0x200)),_0x45b399=document[_0x599631(0x1f1)](_0x599631(0x147));_0x45b399['forEach'](_0x234346=>{const _0x5b58ec=_0x599631;_0x234346['addEventListener'](_0x5b58ec(0x1f0),()=>{const _0x416e9d=_0x5b58ec;_0x234346['closest']('.modal')['style'][_0x416e9d(0x22f)]=_0x416e9d(0x253);});}),window[_0x599631(0x168)](_0x599631(0x1f0),_0xc316b5=>{const _0x19b66d=_0x599631;_0x505939[_0x19b66d(0x2f3)](_0x4830cb=>{const _0x3e1de0=_0x19b66d;_0xc316b5[_0x3e1de0(0x2b3)]===_0x4830cb&&(_0x4830cb[_0x3e1de0(0x2df)]['display']=_0x3e1de0(0x253));});});}window[_0x14d2ea(0x168)](_0x14d2ea(0x293),async()=>{const _0x4e5daf=_0x14d2ea;if(currentUser){const _0x36fd26=await checkGuidedTourStatus(currentUser[_0x4e5daf(0x14b)]);!_0x36fd26&&(startGuidedTour(),await markGuidedTourAsSeen(currentUser[_0x4e5daf(0x14b)]));}}),document[_0x14d2ea(0x168)](_0x14d2ea(0x2d5),function(_0x45118c){const _0xf8e2a6=_0x14d2ea;_0x45118c[_0xf8e2a6(0x12a)]===_0xf8e2a6(0x296)&&!_0x45118c['shiftKey']&&(_0x45118c[_0xf8e2a6(0x19a)](),sendMessage());}),document[_0x14d2ea(0x210)]('userInput')[_0x14d2ea(0x168)](_0x14d2ea(0x2d5),function(_0x158f12){const _0x46b4ed=_0x14d2ea;if(_0x158f12[_0x46b4ed(0x12a)]===_0x46b4ed(0x296)&&_0x158f12[_0x46b4ed(0x157)]){_0x158f12[_0x46b4ed(0x19a)]();const _0x2d9a09=this[_0x46b4ed(0xf2)],_0x3fd7fd=this['selectionEnd'],_0x501fd0=this[_0x46b4ed(0x2e6)];this['value']=_0x501fd0['substring'](0x0,_0x2d9a09)+'\x0a'+_0x501fd0[_0x46b4ed(0x19c)](_0x3fd7fd),this[_0x46b4ed(0xf2)]=this[_0x46b4ed(0x110)]=_0x2d9a09+0x1;}});function checkApiStatus(){const _0x4eb4ee=_0x14d2ea;axios[_0x4eb4ee(0x2ff)](API_BASE_URL+_0x4eb4ee(0x188)+API_KEY)[_0x4eb4ee(0x280)](_0x54b866=>{const _0x4a1cec=_0x4eb4ee;console[_0x4a1cec(0x314)](_0x4a1cec(0x227),_0x54b866[_0x4a1cec(0x273)]),console[_0x4a1cec(0x314)](_0x4a1cec(0x2ef),_0x54b866['data']);})[_0x4eb4ee(0x32f)](_0x12f5e3=>{const _0x55d21b=_0x4eb4ee;console[_0x55d21b(0x134)]('Erreur\x20lors\x20de\x20la\x20vérification\x20du\x20statut\x20de\x20l\x27API:',_0x12f5e3);});}function checkApiStatusRegularly(){checkApiStatus(),setInterval(checkApiStatus,0xea60);}window[_0x14d2ea(0x168)](_0x14d2ea(0x230),function(){const _0x12a7d3=_0x14d2ea;showNotification(_0x12a7d3(0x100),_0x12a7d3(0x134));}),window[_0x14d2ea(0x168)]('online',function(){const _0x611f9=_0x14d2ea;showNotification('Vous\x20êtes\x20de\x20nouveau\x20en\x20ligne.',_0x611f9(0x184));}),window[_0x14d2ea(0x168)](_0x14d2ea(0x34b),function(){const _0x16107b=_0x14d2ea;currentUser&&localStorage[_0x16107b(0x171)](_0x16107b(0x229),JSON['stringify'](currentConversation));});function restoreAppState(){const _0xe38d63=_0x14d2ea,_0x1b6f90=localStorage[_0xe38d63(0x21d)](_0xe38d63(0x229));_0x1b6f90&&(currentConversation=JSON['parse'](_0x1b6f90),currentConversation[_0xe38d63(0x2f3)](_0x3c6a99=>{const _0x59f628=_0xe38d63;addMessageToChat(_0x3c6a99[_0x59f628(0x16f)],_0x3c6a99[_0x59f628(0x146)]);}));}function isImageGenerationModel(_0x2c41fc){const _0x1dde03=_0x14d2ea;return _0x2c41fc[_0x1dde03(0x31e)](_0x1dde03(0x17e));}function getRecraftStyle(_0x1c85b3){const _0x2c940f=_0x14d2ea,_0x384864={'recraft-realistic':_0x2c940f(0x330),'recraft-digital':_0x2c940f(0x307),'recraft-vector':_0x2c940f(0x2b9),'recraft-icon':_0x2c940f(0x265)};return _0x384864[_0x1c85b3]||'realistic_image';}function _0x5236(_0x16941a,_0x473342){const _0xc24db3=_0xc24d();return _0x5236=function(_0x5236f2,_0x20412e){_0x5236f2=_0x5236f2-0xea;let _0x6aa631=_0xc24db3[_0x5236f2];return _0x6aa631;},_0x5236(_0x16941a,_0x473342);}async function initializeImageGenerationTracking(_0x7f77cc){const _0x4ec36c=_0x14d2ea,_0x54dc61=db['ref'](_0x4ec36c(0x20f)+_0x7f77cc),_0x411064=await _0x54dc61[_0x4ec36c(0x170)](_0x4ec36c(0x149))['once'](_0x4ec36c(0x2e6)),_0x12b5be=_0x411064[_0x4ec36c(0x231)]();(!_0x12b5be||isNewDay(_0x12b5be[_0x4ec36c(0x244)]))&&await _0x54dc61[_0x4ec36c(0x170)](_0x4ec36c(0x149))[_0x4ec36c(0x34e)]({'dailyCount':0x0,'lastReset':new Date()[_0x4ec36c(0x139)]()});}function isNewDay(_0x2e84bf){const _0x213a82=_0x14d2ea;if(!_0x2e84bf)return!![];const _0xc35383=new Date(_0x2e84bf),_0x127ade=new Date();return _0xc35383[_0x213a82(0x1e2)]()!==_0x127ade[_0x213a82(0x1e2)]()||_0xc35383[_0x213a82(0x1ed)]()!==_0x127ade['getMonth']()||_0xc35383['getFullYear']()!==_0x127ade[_0x213a82(0x1d6)]();}async function getImageGenerationCount(_0x44b757){const _0x22dc14=_0x14d2ea,_0x443df9=db[_0x22dc14(0xf7)](_0x22dc14(0x20f)+_0x44b757),_0x5c4e2f=await _0x443df9[_0x22dc14(0x170)](_0x22dc14(0x149))['once'](_0x22dc14(0x2e6)),_0x31f397=_0x5c4e2f['val']();if(!_0x31f397||isNewDay(_0x31f397[_0x22dc14(0x244)]))return await initializeImageGenerationTracking(_0x44b757),0x0;return _0x31f397[_0x22dc14(0x181)];}async function incrementImageGenerationCount(_0xf9af44){const _0x57bfea=_0x14d2ea,_0x1b8d28=db[_0x57bfea(0xf7)]('users/'+_0xf9af44);await _0x1b8d28[_0x57bfea(0x170)](_0x57bfea(0x149))[_0x57bfea(0x2d3)](_0xbc3b37=>{const _0x28cc8d=_0x57bfea;if(!_0xbc3b37||isNewDay(_0xbc3b37['lastReset']))return{'dailyCount':0x1,'lastReset':new Date()[_0x28cc8d(0x139)]()};return{'dailyCount':_0xbc3b37[_0x28cc8d(0x181)]+0x1,'lastReset':_0xbc3b37[_0x28cc8d(0x244)]};});}async function canGenerateImage(){const _0x33a738=_0x14d2ea,_0x8b5cca=await getImageGenerationCount(currentUser['username']),_0x5cb6d0=hasValidSubscription(),_0x264d28=currentUser['paidCredits']>=0x5||currentUser['freeCredits']>=0x5;if(_0x5cb6d0&&_0x8b5cca<0x5)return{'canGenerate':!![],'useFreeGeneration':!![],'message':_0x33a738(0x213)+(0x5-_0x8b5cca)+_0x33a738(0x233)};if(_0x264d28)return{'canGenerate':!![],'useFreeGeneration':![],'message':'Génération\x20avec\x20consommation\x20de\x205\x20crédits'};return{'canGenerate':![],'useFreeGeneration':![],'message':_0x33a738(0xed)};}function confirmCreditUsage(_0x426b35){return new Promise(_0x8f0f58=>{const _0x90b015=_0x5236,_0x4be3ac=document[_0x90b015(0x22a)]('div');_0x4be3ac[_0x90b015(0x1eb)]='notification\x20warning',_0x4be3ac[_0x90b015(0x2e3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x426b35+_0x90b015(0x1d8),document[_0x90b015(0x311)][_0x90b015(0x1e6)](_0x4be3ac),setTimeout(()=>_0x4be3ac[_0x90b015(0x1be)][_0x90b015(0x217)](_0x90b015(0x207)),0x64);function _0xf46473(_0x1b3ab0){const _0x58699d=_0x90b015,_0x3a491d=_0x1b3ab0[_0x58699d(0x2b3)][_0x58699d(0x261)](_0x58699d(0x115))[_0x58699d(0x212)]('data-response');_0x4be3ac[_0x58699d(0x1be)]['remove'](_0x58699d(0x207)),setTimeout(()=>{const _0x54f25e=_0x58699d;_0x4be3ac[_0x54f25e(0x151)](),_0x8f0f58(_0x3a491d===_0x54f25e(0x162));},0x12c);}_0x4be3ac[_0x90b015(0x1f1)](_0x90b015(0x10a))[_0x90b015(0x2f3)](_0x2e863c=>{const _0x1ff4f3=_0x90b015;_0x2e863c[_0x1ff4f3(0x168)](_0x1ff4f3(0x1f0),_0xf46473);});});}function parseMarkdownTable(_0xfa0403){const _0x514e3f=_0x14d2ea,_0x4387b6=_0xfa0403[_0x514e3f(0x119)]()[_0x514e3f(0x17a)]('\x0a');if(_0x4387b6[_0x514e3f(0x1aa)]<0x3)return null;const _0x5a75b2=_0x4387b6[_0x514e3f(0x204)](_0x2db582=>_0x2db582[_0x514e3f(0x119)]()[_0x514e3f(0x31e)]('|')&&_0x2db582[_0x514e3f(0x119)]()[_0x514e3f(0x1e0)]('|'));if(!_0x5a75b2)return null;const _0x14f887=_0x4387b6[_0x514e3f(0x26b)](_0x5dd58d=>{const _0x237754=_0x514e3f,_0x2b36d6=_0x5dd58d[_0x237754(0x119)]()[_0x237754(0x300)](0x1,-0x1)[_0x237754(0x17a)]('|')[_0x237754(0x26b)](_0x18c281=>_0x18c281[_0x237754(0x119)]());return _0x2b36d6;}),_0x2fce91=_0x14f887[0x0],_0x144985=_0x14f887[_0x514e3f(0x300)](0x2);let _0x446254=_0x514e3f(0x2e0);return _0x2fce91['forEach'](_0x11db09=>{const _0x3c1a7e=_0x514e3f;_0x446254+=_0x3c1a7e(0x2fb)+_0x11db09+_0x3c1a7e(0x186);}),_0x446254+=_0x514e3f(0x264),_0x144985['forEach'](_0x41166b=>{const _0x31f76f=_0x514e3f;_0x446254+=_0x31f76f(0x241),_0x41166b[_0x31f76f(0x2f3)](_0x1a7b46=>{const _0x24b1a0=_0x31f76f;_0x446254+=_0x24b1a0(0x336)+_0x1a7b46+_0x24b1a0(0x328);}),_0x446254+=_0x31f76f(0x1a5);}),_0x446254+='</tbody></table>',_0x446254+=_0x514e3f(0x167),_0x446254;}function processMessageContent(_0x522af7){const _0x872ac2=/\|[\s\S]+?\n[-|\s]+\n[\s\S]+?\n(?=\n|$)/g;return _0x522af7['replace'](_0x872ac2,_0x4e4b74=>{const _0x8a3bdb=parseMarkdownTable(_0x4e4b74);return _0x8a3bdb||_0x4e4b74;});}function addMessageToChat(_0x4388a5,_0x53959e,_0x873eee=[],_0x2755bf=[],_0xb1bc3b=null){const _0x57ba6a=_0x14d2ea,_0xdc8847=document[_0x57ba6a(0x210)]('messageContainer'),_0x583c03=document['createElement'](_0x57ba6a(0x11a));_0x583c03[_0x57ba6a(0x1be)]['add']('message',_0x4388a5===_0x57ba6a(0x1ee)?_0x57ba6a(0x1c2):_0x57ba6a(0x125));if(_0x4388a5==='ai'){let _0x1f4604=_0x53959e;_0x1f4604=_0x1f4604[_0x57ba6a(0x25e)](/^\*\*/gm,'\x0a'),_0x1f4604=_0x1f4604[_0x57ba6a(0x25e)](/\*\*/g,''),_0x1f4604=formatMarkdownTable(_0x1f4604);const _0xeda642=document['createElement'](_0x57ba6a(0x11a));_0xeda642[_0x57ba6a(0x2e3)]=_0x1f4604,_0x583c03[_0x57ba6a(0x1e6)](_0xeda642);const _0x252719=document[_0x57ba6a(0x22a)](_0x57ba6a(0x11a));_0x252719[_0x57ba6a(0x1be)][_0x57ba6a(0x217)](_0x57ba6a(0x326)),_0x252719[_0x57ba6a(0x2e3)]=_0x57ba6a(0x299),_0x583c03['appendChild'](_0x252719),currentConversation[_0x57ba6a(0x179)]({'sender':'ai','content':_0x53959e});}else{_0x873eee[_0x57ba6a(0x1aa)]>0x0&&_0x583c03[_0x57ba6a(0x1e6)](createPinnedFilesElement(_0x873eee));_0x2755bf[_0x57ba6a(0x1aa)]>0x0&&_0x583c03[_0x57ba6a(0x1e6)](createPinnedResponsesElement(_0x2755bf));_0xb1bc3b&&_0x583c03['appendChild'](createPinnedPromptElement(_0xb1bc3b));const _0x4ba3a5=document[_0x57ba6a(0x22a)]('div');_0x4ba3a5[_0x57ba6a(0x117)]=_0x53959e,_0x583c03['appendChild'](_0x4ba3a5);const _0x545f0b=document[_0x57ba6a(0x22a)]('div');_0x545f0b['classList'][_0x57ba6a(0x217)]('message-actions'),_0x545f0b[_0x57ba6a(0x2e3)]=_0x57ba6a(0x21c),_0x583c03[_0x57ba6a(0x1e6)](_0x545f0b),currentConversation[_0x57ba6a(0x179)]({'sender':_0x57ba6a(0x1ee),'content':_0x53959e,'files':_0x873eee,'responses':_0x2755bf,'prompt':_0xb1bc3b});}return _0xdc8847[_0x57ba6a(0x1e6)](_0x583c03),_0xdc8847[_0x57ba6a(0x216)]=_0xdc8847[_0x57ba6a(0xfc)],_0x583c03;}async function resubmitRequest(_0x1218bb){const _0x3d827e=_0x14d2ea,_0x1e964c=document[_0x3d827e(0x210)](_0x3d827e(0x102))[_0x3d827e(0x2e6)];if(!hasValidSubscription()&&!currentUser['paidCredits']&&(_0x1e964c!==_0x3d827e(0x30d)&&_0x1e964c!==_0x3d827e(0x27f)||!currentUser[_0x3d827e(0x30f)])){showPaymentNotification(_0x3d827e(0xf1));return;}try{const _0x45aba4=document[_0x3d827e(0x1f1)](_0x3d827e(0x33d));let _0x4b1f23=null,_0x52db86='';for(let _0x23cdfb=Array[_0x3d827e(0x1e3)](_0x45aba4)[_0x3d827e(0x223)](_0x1218bb)-0x1;_0x23cdfb>=0x0;_0x23cdfb--){if(_0x45aba4[_0x23cdfb][_0x3d827e(0x1be)]['contains'](_0x3d827e(0x1c2))){_0x4b1f23=_0x45aba4[_0x23cdfb],_0x52db86=_0x45aba4[_0x23cdfb][_0x3d827e(0x15f)](_0x3d827e(0x10d))[_0x3d827e(0x117)];break;}}if(!_0x52db86)throw new Error(_0x3d827e(0x203));const _0x81eef1=document['createElement']('div');_0x81eef1[_0x3d827e(0x1eb)]='message\x20ai-message',_0x81eef1['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+createModelHeader(_0x1e964c)+_0x3d827e(0x2fd),_0x1218bb[_0x3d827e(0x2a8)](_0x81eef1);const _0x339713=Array[_0x3d827e(0x1e3)](_0x4b1f23[_0x3d827e(0x1f1)](_0x3d827e(0x2e2)))[_0x3d827e(0x26b)](_0x5d7f2b=>({'name':_0x5d7f2b[_0x3d827e(0x15f)](_0x3d827e(0x160))[_0x3d827e(0x117)],'type':_0x5d7f2b[_0x3d827e(0x18c)][_0x3d827e(0x29c)]})),_0x2dd6ff=[{'text':_0x52db86}];if(_0x339713['length']>0x0)for(const _0x5ad063 of _0x339713){_0x2dd6ff[_0x3d827e(0x179)]({'text':_0x3d827e(0x2db)+_0x5ad063['name']+']'});}const _0x3f00fa=await model[_0x3d827e(0x313)](_0x2dd6ff),_0x505823=await _0x3f00fa[_0x3d827e(0xf8)],_0x25d176=_0x505823[_0x3d827e(0x1fb)]();await animateText(_0x81eef1,_0x25d176),currentConversation[_0x3d827e(0x179)]({'sender':'ai','content':_0x25d176}),saveConversation(),await updateCredits(_0x1e964c,0x1),showNotification(_0x3d827e(0x24d),'success');}catch(_0x5bab64){console[_0x3d827e(0x134)](_0x3d827e(0x309),_0x5bab64),showNotification(_0x3d827e(0x12c),_0x3d827e(0x134)),loadingMessage&&_0x1218bb&&loadingMessage[_0x3d827e(0x2a8)](_0x1218bb);}}function createLoadingMessage(){const _0x456dd1=_0x14d2ea,_0x21a384=document['createElement'](_0x456dd1(0x11a));return _0x21a384[_0x456dd1(0x1eb)]='message\x20ai-message',_0x21a384['innerHTML']=_0x456dd1(0xea),document[_0x456dd1(0x210)](_0x456dd1(0x144))[_0x456dd1(0x1e6)](_0x21a384),_0x21a384;}function initializeScrollListener(){const _0x413d14=_0x14d2ea,_0x528654=document[_0x413d14(0x210)](_0x413d14(0x144));_0x528654[_0x413d14(0x168)](_0x413d14(0x28c),function(){const _0xe925bf=_0x413d14;clearTimeout(scrollTimeout),_0x528654[_0xe925bf(0x216)]<lastScrollTop&&(userScrolling=!![]),lastScrollTop=_0x528654['scrollTop'],scrollTimeout=setTimeout(()=>{const _0x4a92a6=_0xe925bf,_0x48df5a=_0x528654['scrollHeight']-_0x528654['scrollTop']-_0x528654[_0x4a92a6(0x1a8)]<0x64;_0x48df5a&&(userScrolling=![]);},0x3e8);});}function shouldAutoScroll(){const _0x12463a=_0x14d2ea;if(userScrolling)return![];const _0x387164=document[_0x12463a(0x210)](_0x12463a(0x144)),_0x41578d=_0x387164[_0x12463a(0xfc)]-_0x387164['scrollTop']-_0x387164[_0x12463a(0x1a8)]<0x64;return _0x41578d;}async function animateText(_0x38f672,_0x10d9e6){const _0x44bd72=_0x14d2ea,_0x3a3e53=document['createElement'](_0x44bd72(0x11a));_0x38f672[_0x44bd72(0x2e3)]='',_0x38f672[_0x44bd72(0x1e6)](_0x3a3e53);const _0x413356=document[_0x44bd72(0x22a)](_0x44bd72(0x11a));_0x413356['className']=_0x44bd72(0x326),_0x413356[_0x44bd72(0x2e3)]=_0x44bd72(0x320);let _0x3eec81='';const _0x4ae657=0xa;function _0x21b7bf(_0x2715e4,_0x1199e4){const _0x3564a2=_0x44bd72;return _0x2715e4[_0x3564a2(0x300)](_0x1199e4)[_0x3564a2(0x31e)]('\x0a|')||_0x2715e4['slice'](_0x1199e4)[_0x3564a2(0x31e)]('|');}function _0x4b4b14(_0x31f46c,_0x5967ad){const _0x449ecc=_0x44bd72,_0x145389=_0x31f46c[_0x449ecc(0x300)](_0x5967ad)['split']('\x0a');let _0x5359c0=[],_0xbb0554=0x0;while(_0xbb0554<_0x145389[_0x449ecc(0x1aa)]&&_0x145389[_0xbb0554]['trim']()[_0x449ecc(0x31e)]('|')){_0x5359c0[_0x449ecc(0x179)](_0x145389[_0xbb0554]),_0xbb0554++;}return _0x5359c0[_0x449ecc(0x116)]('\x0a');}const _0x514ff8=document[_0x44bd72(0x210)](_0x44bd72(0x144));for(let _0x4a0d78=0x0;_0x4a0d78<_0x10d9e6[_0x44bd72(0x1aa)];_0x4a0d78++){if(_0x21b7bf(_0x10d9e6,_0x4a0d78)){const _0x36bd5f=_0x4b4b14(_0x10d9e6,_0x4a0d78);if(_0x36bd5f){_0x3eec81+=_0x36bd5f,_0x3a3e53[_0x44bd72(0x2e3)]=formatMarkdownTable(_0x3eec81),_0x4a0d78+=_0x36bd5f[_0x44bd72(0x1aa)]-0x1;continue;}}_0x3eec81+=_0x10d9e6[_0x4a0d78],_0x3a3e53[_0x44bd72(0x2e3)]=formatMarkdownTable(_0x3eec81),shouldAutoScroll()&&(_0x514ff8[_0x44bd72(0x216)]=_0x514ff8[_0x44bd72(0xfc)]),await new Promise(_0x3f4c81=>setTimeout(_0x3f4c81,_0x4ae657));}_0x38f672[_0x44bd72(0x1e6)](_0x413356);}function resetScrollState(){userScrolling=![],lastScrollTop=0x0;}function formatMarkdownTable(_0x23e5b3){const _0x54c80b=/\|(.+)\|\n\|(?:[-:|]+\|)+\n(\|(?:.+\|)+\n?)+/g;return _0x23e5b3['replace'](_0x54c80b,function(_0x266b9f){const _0x4e5961=_0x5236,_0x548abf=_0x266b9f['trim']()[_0x4e5961(0x17a)]('\x0a');if(_0x548abf[_0x4e5961(0x1aa)]<0x3)return _0x266b9f;let _0x316bd5=_0x4e5961(0x27c);const _0xb462f=_0x548abf[0x0][_0x4e5961(0x17a)]('|')['filter'](_0x5d53e2=>_0x5d53e2[_0x4e5961(0x119)]());return _0x316bd5+='<thead><tr>',_0xb462f[_0x4e5961(0x2f3)](_0x33b11e=>{const _0x17e3a8=_0x4e5961;_0x316bd5+=_0x17e3a8(0x2fb)+_0x33b11e[_0x17e3a8(0x119)]()+_0x17e3a8(0x186);}),_0x316bd5+=_0x4e5961(0x34f),_0x316bd5+='<tbody>',_0x548abf[_0x4e5961(0x300)](0x2)[_0x4e5961(0x2f3)](_0x331761=>{const _0x1160d4=_0x4e5961,_0x1c8410=_0x331761[_0x1160d4(0x17a)]('|')[_0x1160d4(0x283)](_0x23f06f=>_0x23f06f[_0x1160d4(0x119)]());_0x1c8410[_0x1160d4(0x1aa)]>0x0&&(_0x316bd5+=_0x1160d4(0x241),_0x1c8410[_0x1160d4(0x2f3)](_0x9056c0=>{const _0x14900c=_0x1160d4;_0x316bd5+=_0x14900c(0x336)+_0x9056c0[_0x14900c(0x119)]()+_0x14900c(0x328);}),_0x316bd5+=_0x1160d4(0x1a5));}),_0x316bd5+=_0x4e5961(0x209),_0x316bd5;});}function updateUI(){const _0xca79cb=_0x14d2ea;currentUser&&(document['getElementById'](_0xca79cb(0x30f))[_0xca79cb(0x117)]=currentUser[_0xca79cb(0x30f)],document['getElementById'](_0xca79cb(0x2cb))['textContent']=currentUser['paidCredits'],document[_0xca79cb(0x210)](_0xca79cb(0x109))['textContent']=currentUser[_0xca79cb(0x109)]||_0xca79cb(0x11f));}const apiManager=new GeminiApiManager();document[_0x14d2ea(0x168)]('click',function(_0x16b155){const _0x189e93=_0x14d2ea,_0x557541=document['querySelector'](_0x189e93(0x269)),_0x586cd0=document[_0x189e93(0x15f)](_0x189e93(0x1dc));_0x557541[_0x189e93(0x1be)][_0x189e93(0x2dd)](_0x189e93(0x268))&&!_0x557541[_0x189e93(0x2dd)](_0x16b155[_0x189e93(0x2b3)])&&!_0x586cd0['contains'](_0x16b155[_0x189e93(0x2b3)])&&(toggleSidebar(),_0x16b155['preventDefault']());}),window[_0x14d2ea(0x274)]=function(_0x59264e){const _0x25ba0a=_0x14d2ea,_0x1d38cc=document['querySelector'](_0x25ba0a(0x269));if(_0x1d38cc['classList'][_0x25ba0a(0x2dd)]('visible'))return toggleSidebar(),_0x59264e['preventDefault'](),history[_0x25ba0a(0x247)]({},'',''),![];},document[_0x14d2ea(0x210)](_0x14d2ea(0x332))[_0x14d2ea(0x2d2)]='.pdf,.jpg,.jpeg,.png,.docx,.doc',setInterval(updateUI,0x493e0),checkApiStatusRegularly(),window['showLoginModal']=showLoginModal,window[_0x14d2ea(0x197)]=showRegisterModal,window[_0x14d2ea(0x287)]=login,window[_0x14d2ea(0x334)]=register,window[_0x14d2ea(0x191)]=logout,window[_0x14d2ea(0x316)]=sendMessage,window[_0x14d2ea(0x29e)]=buySubscription,window[_0x14d2ea(0x242)]=buyCredits,window[_0x14d2ea(0x257)]=toggleTheme,window[_0x14d2ea(0x310)]=toggleSidebar,window[_0x14d2ea(0x306)]=createNewConversation,window[_0x14d2ea(0x2e4)]=handleFileUpload,window[_0x14d2ea(0x14c)]=togglePromptList,window[_0x14d2ea(0x24b)]=showReferralModal,window['generateReferralCode']=generateReferralCode,window[_0x14d2ea(0x1db)]=copyReferralLink,window[_0x14d2ea(0x29f)]=shareOnFacebook,window['shareOnTwitter']=shareOnTwitter,window[_0x14d2ea(0x145)]=shareOnLinkedIn,window[_0x14d2ea(0x2c7)]=shareOnWhatsApp,window[_0x14d2ea(0x222)]=removePinnedFile;
