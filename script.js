const _0x31976f=_0x226b;(function(_0x1f57dc,_0x4fde6c){const _0x19943e=_0x226b,_0x434d1a=_0x1f57dc();while(!![]){try{const _0x5f344d=parseInt(_0x19943e(0x1dd))/0x1+parseInt(_0x19943e(0x166))/0x2*(-parseInt(_0x19943e(0x1fb))/0x3)+parseInt(_0x19943e(0x251))/0x4*(-parseInt(_0x19943e(0x1a6))/0x5)+-parseInt(_0x19943e(0x123))/0x6*(-parseInt(_0x19943e(0x27f))/0x7)+parseInt(_0x19943e(0x234))/0x8*(parseInt(_0x19943e(0x2b1))/0x9)+-parseInt(_0x19943e(0x271))/0xa*(-parseInt(_0x19943e(0xae))/0xb)+parseInt(_0x19943e(0x2bf))/0xc;if(_0x5f344d===_0x4fde6c)break;else _0x434d1a['push'](_0x434d1a['shift']());}catch(_0xf4a0f7){_0x434d1a['push'](_0x434d1a['shift']());}}}(_0x2d24,0xb89a3));const API_KEY=_0x31976f(0xb0),API_BASE_URL='https://generativelanguage.googleapis.com/v1beta/models/';let currentUser=null,pinnedFiles=[],currentConversation=[],conversations={},currentApiKeyIndex=0x0,userScrolling=![],lastScrollTop=0x0,scrollTimeout;const FREE_CREDITS_PER_DAY=0x3,FREE_CREDITS_REGISTER=0xa,FREE_MODEL_MAX_WORDS=0xc350,FREE_MODEL_MAX_RESPONSE=0x7d0,RETRY_CONFIG={'maxAttempts':0x32,'retryDelay':0x2710},SYSTEM_INSTRUCTION=_0x31976f(0x1ed),firebaseConfig={'apiKey':_0x31976f(0x105),'authDomain':_0x31976f(0x181),'databaseURL':_0x31976f(0x264),'projectId':_0x31976f(0xde),'storageBucket':_0x31976f(0x298),'messagingSenderId':_0x31976f(0xc0),'appId':_0x31976f(0xda),'measurementId':_0x31976f(0x91)};firebase['initializeApp'](firebaseConfig);const db=firebase[_0x31976f(0x1f5)]();let prompts={},pinnedPrompt=null,pinnedResponses=[],genAI;const API_KEY_LIST_REF=db[_0x31976f(0x256)](_0x31976f(0x160));let apiKeyList=[];class GeminiApiManager{constructor(){const _0x5c68e3=_0x31976f;this['db']=firebase[_0x5c68e3(0x1f5)](),this['apiKeyList']=[],this[_0x5c68e3(0x13a)]=0x0,this[_0x5c68e3(0x168)]={'maxAttempts':0x3,'baseDelay':0x3e8,'maxDelay':0x1388},this[_0x5c68e3(0x225)]=new Map();}async[_0x31976f(0x29a)](){const _0x489566=_0x31976f;try{return await this[_0x489566(0x11e)](),this['startKeyRotation'](),!![];}catch(_0x361428){return console[_0x489566(0x281)](_0x489566(0x21b),_0x361428),![];}}async[_0x31976f(0x11e)](){const _0xff94c7=_0x31976f,_0x8598f9=await this['db'][_0xff94c7(0x256)]('API')[_0xff94c7(0x212)](_0xff94c7(0x227)),_0x2c8cca=_0x8598f9[_0xff94c7(0x1a3)]();if(!_0x2c8cca)throw new Error(_0xff94c7(0x146));this[_0xff94c7(0x15a)]=Object[_0xff94c7(0x17b)](_0x2c8cca);if(this[_0xff94c7(0x15a)][_0xff94c7(0x204)]===0x0)throw new Error('La\x20liste\x20des\x20clés\x20API\x20est\x20vide');}['getCurrentApi'](){const _0xd497c3=_0x31976f,_0x45bd74=this[_0xd497c3(0x15a)][this[_0xd497c3(0x13a)]];return new GoogleGenerativeAI(_0x45bd74);}['startKeyRotation'](){setInterval(()=>{const _0x1355a6=_0x226b;this[_0x1355a6(0x2d5)]();},0x1388);}[_0x31976f(0x2d5)](){const _0x2890f6=_0x31976f;this[_0x2890f6(0x13a)]=(this[_0x2890f6(0x13a)]+0x1)%this[_0x2890f6(0x15a)][_0x2890f6(0x204)];const _0x56cf92=this[_0x2890f6(0x15a)][this[_0x2890f6(0x13a)]];try{genAI=new GoogleGenerativeAI(_0x56cf92),model=genAI['getGenerativeModel']({'model':document[_0x2890f6(0x120)]('modelSelect')[_0x2890f6(0x227)],'systemInstruction':SYSTEM_INSTRUCTION}),console[_0x2890f6(0x282)](_0x2890f6(0x2dd));}catch(_0x1e93b4){console[_0x2890f6(0x281)](_0x2890f6(0x8d),_0x1e93b4),this[_0x2890f6(0x147)](this[_0x2890f6(0x13a)]);}}[_0x31976f(0x147)](_0x31b78a){const _0x5f5269=_0x31976f,_0x3fed1f=this[_0x5f5269(0x15a)][_0x31b78a];!this[_0x5f5269(0x225)][_0x5f5269(0x185)](_0x3fed1f)&&this['errorTracker'][_0x5f5269(0x2a5)](_0x3fed1f,{'count':0x0,'lastError':Date[_0x5f5269(0x1d4)]()});const _0x491f9d=this[_0x5f5269(0x225)]['get'](_0x3fed1f);_0x491f9d[_0x5f5269(0x145)]++,_0x491f9d['lastError']=Date[_0x5f5269(0x1d4)]();}async[_0x31976f(0x16f)](_0x264d80){const _0x3e9399=_0x31976f;try{this[_0x3e9399(0x225)][_0x3e9399(0x1db)](this['apiKeyList'][_0x264d80]),console['log']('Clé\x20API\x20réactivée:\x20'+this[_0x3e9399(0x15a)][_0x264d80][_0x3e9399(0x107)](0x0,0x8)+_0x3e9399(0x24b));}catch(_0x29b09b){console[_0x3e9399(0x281)]('Erreur\x20lors\x20de\x20la\x20réactivation\x20de\x20la\x20clé:',_0x29b09b);}}async['executeWithRetry'](_0x34ef4e){const _0x514729=_0x31976f;let _0xa2fc2f=0x0,_0x4a0323=null;while(_0xa2fc2f<this['retryConfig'][_0x514729(0x7d)]){try{genAI=this[_0x514729(0x1a4)](),model=genAI['getGenerativeModel']({'model':document[_0x514729(0x120)](_0x514729(0x155))[_0x514729(0x227)],'systemInstruction':SYSTEM_INSTRUCTION});const _0x1fdd60=await _0x34ef4e();return _0x1fdd60;}catch(_0x143516){_0x4a0323=_0x143516,_0xa2fc2f++;if(!this[_0x514729(0x28c)](_0x143516)||_0xa2fc2f>=this['retryConfig'][_0x514729(0x7d)])throw _0x143516;const _0x204c91=this[_0x514729(0xf7)](_0xa2fc2f);console[_0x514729(0x282)](_0x514729(0x11b)+_0xa2fc2f+'/'+this['retryConfig'][_0x514729(0x7d)]+_0x514729(0xb9)+_0x204c91+'ms'),this[_0x514729(0x2d5)](),await new Promise(_0x224ad5=>setTimeout(_0x224ad5,_0x204c91));}}throw new Error(_0x514729(0x1dc)+_0xa2fc2f+_0x514729(0x28f)+_0x4a0323[_0x514729(0x242)]);}[_0x31976f(0x28c)](_0x397521){const _0x28813c=_0x31976f,_0x58597b=[_0x28813c(0x13b),_0x28813c(0x19a),'DEADLINE_EXCEEDED',_0x28813c(0xef),_0x28813c(0x191)];return _0x58597b[_0x28813c(0x275)](_0x397521[_0x28813c(0xfd)])||_0x397521[_0x28813c(0x242)][_0x28813c(0x275)](_0x28813c(0x1f0))||_0x397521[_0x28813c(0x242)][_0x28813c(0x275)](_0x28813c(0x1b4))||_0x397521[_0x28813c(0xb3)]===0x1ad||_0x397521[_0x28813c(0xb3)]>=0x1f4;}['calculateRetryDelay'](_0x278b3a){const _0x399119=_0x31976f,_0x551c0f=Math[_0x399119(0x126)](this[_0x399119(0x168)]['maxDelay'],this['retryConfig'][_0x399119(0x2cb)]*Math['pow'](0x2,_0x278b3a-0x1));return _0x551c0f+Math['random']()*0x3e8;}[_0x31976f(0x194)](){setInterval(()=>{const _0xd7a103=_0x226b;this[_0xd7a103(0x14d)]();},0x493e0);}async[_0x31976f(0x14d)](){const _0x224540=_0x31976f,_0x3bfa01=Array[_0x224540(0xd1)](this['errorTracker']['entries']())[_0x224540(0x284)](([_0xafc0b,_0x5e1f60])=>({'key':_0xafc0b[_0x224540(0x107)](0x0,0x8),'errors':_0x5e1f60[_0x224540(0x145)],'lastError':new Date(_0x5e1f60[_0x224540(0x2c8)])[_0x224540(0x22b)]()}));console[_0x224540(0x27c)](_0x3bfa01);try{await this['db'][_0x224540(0x256)](_0x224540(0x253))[_0x224540(0x192)]({'timestamp':Date[_0x224540(0x1d4)](),'stats':_0x3bfa01});}catch(_0x24d2ec){console[_0x224540(0x281)](_0x224540(0x26a),_0x24d2ec);}}}async function loadApiKeyList(){const _0xb7f7c7=_0x31976f;try{const _0x3ff9a8=await API_KEY_LIST_REF[_0xb7f7c7(0x212)](_0xb7f7c7(0x227)),_0x59da4c=_0x3ff9a8[_0xb7f7c7(0x1a3)]();_0x59da4c?apiKeyList=Object[_0xb7f7c7(0x17b)](_0x59da4c):console[_0xb7f7c7(0x14b)](_0xb7f7c7(0x29e));}catch(_0x166873){console[_0xb7f7c7(0x281)](_0xb7f7c7(0x1aa),_0x166873);}}function getRandomApiKey(){const _0x563f12=_0x31976f;if(apiKeyList[_0x563f12(0x204)]===0x0)return console['error'](_0x563f12(0x214)),null;const _0x188d33=Math[_0x563f12(0x164)](Math[_0x563f12(0x25d)]()*apiKeyList[_0x563f12(0x204)]);return apiKeyList[_0x188d33];}function getNextApiKey(){const _0x2eb78a=_0x31976f;if(apiKeyList[_0x2eb78a(0x204)]===0x0)return console[_0x2eb78a(0x281)](_0x2eb78a(0x214)),null;const _0x493dea=apiKeyList[currentApiKeyIndex];return currentApiKeyIndex=(currentApiKeyIndex+0x1)%apiKeyList['length'],_0x493dea;}function initializeApiKeyRotation(){apiKeyList['length']>0x0&&(genAI=new GoogleGenerativeAI(getNextApiKey())),setInterval(()=>{const _0x4d361f=_0x226b,_0x1bd91b=getNextApiKey();_0x1bd91b&&(genAI=new GoogleGenerativeAI(_0x1bd91b),console[_0x4d361f(0x282)](_0x4d361f(0x1f8)),model=genAI[_0x4d361f(0x233)]({'model':document[_0x4d361f(0x120)]('modelSelect')['value'],'systemInstruction':SYSTEM_INSTRUCTION}));},0x1388);}function initializeGeminiAPI(){const _0x2f5c3b=_0x31976f,_0x2e5ad5=getNextApiKey();_0x2e5ad5?(genAI=new GoogleGenerativeAI(_0x2e5ad5),model=genAI['getGenerativeModel']({'model':document[_0x2f5c3b(0x120)]('modelSelect')[_0x2f5c3b(0x227)],'systemInstruction':SYSTEM_INSTRUCTION})):showNotification(_0x2f5c3b(0x97),'error');}class ApiError extends Error{constructor(_0x191a63,_0x152367){const _0x5a2524=_0x31976f;super(_0x191a63),this[_0x5a2524(0xb3)]=_0x152367,this[_0x5a2524(0x133)]='ApiError';}}class ApiKeyManager{constructor(_0x15a2a8){const _0x17de8f=_0x31976f;this[_0x17de8f(0xa8)]=_0x15a2a8,this[_0x17de8f(0x2ab)]=0x0,this[_0x17de8f(0x1c5)]=new Set();}[_0x31976f(0x1bc)](){const _0xe4bb29=_0x31976f,_0x4bd543=this[_0xe4bb29(0x2ab)];do{this['currentIndex']=(this[_0xe4bb29(0x2ab)]+0x1)%this[_0xe4bb29(0xa8)][_0xe4bb29(0x204)];if(!this[_0xe4bb29(0x1c5)][_0xe4bb29(0x185)](this[_0xe4bb29(0xa8)][this[_0xe4bb29(0x2ab)]]))return this[_0xe4bb29(0xa8)][this[_0xe4bb29(0x2ab)]];}while(this['currentIndex']!==_0x4bd543);return null;}[_0x31976f(0x1a1)](){const _0x1d8ae3=_0x31976f;this[_0x1d8ae3(0x1c5)][_0x1d8ae3(0x1df)]();}[_0x31976f(0x115)](_0x372403){const _0x4c8d12=_0x31976f;this['usedKeys'][_0x4c8d12(0x1f6)](_0x372403);}}async function executeWithRetry(_0x4ea022){const _0x3dcb60=_0x31976f,_0x705a3a=new ApiKeyManager(apiKeyList);let _0xa3d7c9=null,_0x26e571=0x0;while(_0x26e571<RETRY_CONFIG[_0x3dcb60(0x7d)]){const _0x781e31=_0x705a3a[_0x3dcb60(0x1bc)]();if(!_0x781e31)throw new Error(_0x3dcb60(0x14c));try{genAI=new GoogleGenerativeAI(_0x781e31),model=genAI['getGenerativeModel']({'model':document[_0x3dcb60(0x120)](_0x3dcb60(0x155))['value'],'systemInstruction':SYSTEM_INSTRUCTION});const _0x864da5=await _0x4ea022();return console[_0x3dcb60(0x282)](_0x3dcb60(0x8a)+_0x781e31),_0x864da5;}catch(_0x2ddecc){_0xa3d7c9=_0x2ddecc,_0x705a3a[_0x3dcb60(0x115)](_0x781e31),_0x26e571++,console[_0x3dcb60(0x282)](_0x3dcb60(0x21e)+_0x781e31+_0x3dcb60(0x244)+_0x26e571+'/'+RETRY_CONFIG['maxAttempts']),_0x26e571<RETRY_CONFIG[_0x3dcb60(0x7d)]&&await new Promise(_0x32260d=>setTimeout(_0x32260d,RETRY_CONFIG[_0x3dcb60(0x262)]));}}throw new Error('Échec\x20après\x20'+_0x26e571+'\x20tentatives.\x20Dernière\x20erreur:\x20'+_0xa3d7c9['message']);}function shouldRetry(_0x4677de){const _0x96f922=_0x31976f,_0x2a5090=[_0x96f922(0x13b),_0x96f922(0x19a),'DEADLINE_EXCEEDED','INTERNAL',_0x96f922(0x191)];return _0x2a5090['includes'](_0x4677de['code'])||_0x4677de[_0x96f922(0x242)][_0x96f922(0x275)](_0x96f922(0x1f0))||_0x4677de['message'][_0x96f922(0x275)](_0x96f922(0x1b4))||_0x4677de[_0x96f922(0xb3)]===0x1ad||_0x4677de['status']>=0x1f4;}function createPointer(){const _0x4be883=_0x31976f,_0x2b10c=document[_0x4be883(0x1cc)]('div');return _0x2b10c[_0x4be883(0x144)][_0x4be883(0x1f6)](_0x4be883(0x201)),_0x2b10c[_0x4be883(0x208)]='👆',_0x2b10c[_0x4be883(0x1c9)][_0x4be883(0xba)]=_0x4be883(0x1e0),_0x2b10c[_0x4be883(0x1c9)][_0x4be883(0x16e)]=_0x4be883(0x9b),document[_0x4be883(0x219)][_0x4be883(0x108)](_0x2b10c),_0x2b10c;}function positionPointer(_0xe97ab7,_0x1c11d9){const _0x207b76=_0x31976f,_0x31770c=_0x1c11d9[_0x207b76(0x1b6)]();_0xe97ab7[_0x207b76(0x1c9)][_0x207b76(0x12f)]=_0x31770c[_0x207b76(0x12f)]+_0x31770c['width']/0x2+'px',_0xe97ab7[_0x207b76(0x1c9)][_0x207b76(0xd8)]=_0x31770c[_0x207b76(0xd8)]+_0x31770c[_0x207b76(0xe1)]/0x2+'px',_0xe97ab7['style'][_0x207b76(0x16e)]=_0x207b76(0x210);}function highlightElement(_0x136d58){const _0x17943a=_0x31976f;_0x136d58[_0x17943a(0x144)][_0x17943a(0x1f6)]('tour-highlight');}function removeHighlight(_0x28710a){const _0x2a96b0=_0x31976f;_0x28710a[_0x2a96b0(0x144)][_0x2a96b0(0x9c)]('tour-highlight');}function startGuidedTour(){const _0x40c09d=_0x31976f,_0x4a28a0=createPointer(),_0xee3b83=new Shepherd[(_0x40c09d(0x2ae))]({'defaultStepOptions':{'cancelIcon':{'enabled':!![]},'classes':_0x40c09d(0x163),'scrollTo':{'behavior':_0x40c09d(0x299),'block':_0x40c09d(0x223)}}}),_0x37beea=[{'id':_0x40c09d(0x2aa),'text':_0x40c09d(0x2bc),'attachTo':{'element':_0x40c09d(0xa5),'on':'bottom'}},{'id':_0x40c09d(0x1d3),'text':_0x40c09d(0x2b5),'attachTo':{'element':_0x40c09d(0x293),'on':'right'},'beforeShow':()=>{const _0x120cc7=_0x40c09d,_0x5bb199=document['querySelector'](_0x120cc7(0x293));highlightElement(_0x5bb199);const _0x22fb6d=document[_0x120cc7(0xca)](_0x120cc7(0x88));!_0x22fb6d['classList'][_0x120cc7(0x269)](_0x120cc7(0x2d1))&&_0x5bb199[_0x120cc7(0x134)]();},'beforeHide':()=>{const _0x4dfed=_0x40c09d,_0x57b7ed=document[_0x4dfed(0xca)](_0x4dfed(0x293));removeHighlight(_0x57b7ed);}},{'id':_0x40c09d(0x18e),'text':_0x40c09d(0x274),'attachTo':{'element':'.input-container','on':_0x40c09d(0xd8)}},{'id':'file-upload','text':_0x40c09d(0x195),'attachTo':{'element':_0x40c09d(0xb2),'on':_0x40c09d(0xd8)}},{'id':_0x40c09d(0x1ce),'text':_0x40c09d(0x17f),'attachTo':{'element':_0x40c09d(0xa4),'on':_0x40c09d(0xd8)}},{'id':'send-button','text':_0x40c09d(0xe5),'attachTo':{'element':_0x40c09d(0x278),'on':_0x40c09d(0xd8)}},{'id':_0x40c09d(0x292),'text':_0x40c09d(0x19e),'attachTo':{'element':_0x40c09d(0x18a),'on':_0x40c09d(0x154)}}];_0x37beea[_0x40c09d(0x24f)]((_0x5996d0,_0x210449)=>{const _0x561eac=_0x40c09d;_0xee3b83['addStep']({..._0x5996d0,'buttons':[{'text':_0x210449===_0x37beea[_0x561eac(0x204)]-0x1?_0x561eac(0x13f):_0x561eac(0x21d),'action':_0x210449===_0x37beea[_0x561eac(0x204)]-0x1?_0xee3b83[_0x561eac(0x2c5)]:_0xee3b83[_0x561eac(0x1d6)]}],'beforeShow':()=>{const _0x1613a8=_0x561eac,_0xeb07a6=document[_0x1613a8(0xca)](_0x5996d0[_0x1613a8(0x1b9)]['element']);_0xeb07a6&&positionPointer(_0x4a28a0,_0xeb07a6),_0x5996d0['beforeShow']&&_0x5996d0[_0x1613a8(0xe7)]();},'beforeHide':()=>{const _0x59aa3d=_0x561eac;_0x4a28a0[_0x59aa3d(0x1c9)]['display']='none';}});}),_0xee3b83['on'](_0x40c09d(0x2c5),()=>{const _0x4cb948=_0x40c09d;_0x4a28a0[_0x4cb948(0x9c)]();const _0x27e04a=document[_0x4cb948(0xca)](_0x4cb948(0x88));_0x27e04a[_0x4cb948(0x144)][_0x4cb948(0x269)](_0x4cb948(0x2d1))&&document[_0x4cb948(0xca)](_0x4cb948(0x293))[_0x4cb948(0x134)]();}),_0xee3b83[_0x40c09d(0xd2)]();}function _0x226b(_0x30abb7,_0x4a5e6e){const _0x2d24e7=_0x2d24();return _0x226b=function(_0x226bc7,_0x245d02){_0x226bc7=_0x226bc7-0x7b;let _0x3e73c7=_0x2d24e7[_0x226bc7];return _0x3e73c7;},_0x226b(_0x30abb7,_0x4a5e6e);}async function checkGuidedTourStatus(_0x43c22d){const _0xd15990=_0x31976f,_0x463441=db[_0xd15990(0x256)](_0xd15990(0x1d9)+_0x43c22d),_0x568d8d=await _0x463441[_0xd15990(0x212)](_0xd15990(0x227)),_0x52aace=_0x568d8d['val']();return _0x52aace&&_0x52aace['hasSeenGuidedTour'];}async function markGuidedTourAsSeen(_0x2edd81){const _0x2bcd3c=_0x31976f,_0x150358=db['ref']('users/'+_0x2edd81);await _0x150358[_0x2bcd3c(0x1e2)]({'hasSeenGuidedTour':!![]});}async function checkSubscriptionStatus(){const _0x273ae4=_0x31976f;if(!currentUser||!currentUser[_0x273ae4(0x11c)])return;const _0x412a58=new Date(),_0x488eac=new Date(currentUser['subscriptionEndDate']);if(_0x412a58>_0x488eac)currentUser[_0x273ae4(0xe2)]=null,currentUser[_0x273ae4(0x11c)]=null,await syncUserData(),showNotification('Votre\x20abonnement\x20a\x20expiré.',_0x273ae4(0x1f9)),updateUIForLoggedInUser();else{if(_0x412a58>new Date(_0x488eac[_0x273ae4(0x24c)]()-0x3*0x18*0x3c*0x3c*0x3e8)){const _0x4f2b40=Math[_0x273ae4(0xb4)]((_0x488eac-_0x412a58)/(0x18*0x3c*0x3c*0x3e8));showNotification('Votre\x20abonnement\x20expire\x20dans\x20'+_0x4f2b40+_0x273ae4(0x18f)+(_0x4f2b40>0x1?'s':'')+'.','warning');}}}function generateInvoicePDF(_0x4aff90){const _0x22ee1f=_0x31976f,{jsPDF:_0x412065}=window['jspdf'],_0x3d2a9e=new _0x412065();return _0x3d2a9e['setFontSize'](0x12),_0x3d2a9e[_0x22ee1f(0x22c)](_0x22ee1f(0x1d2),0x69,0x14,null,null,_0x22ee1f(0x223)),_0x3d2a9e[_0x22ee1f(0x22e)](0xc),_0x3d2a9e['text'](_0x22ee1f(0x1c0)+currentUser[_0x22ee1f(0xf6)],0x14,0x28),_0x3d2a9e[_0x22ee1f(0x22c)](_0x22ee1f(0x1c7)+new Date()[_0x22ee1f(0x103)](),0x14,0x32),_0x3d2a9e[_0x22ee1f(0x22c)](_0x22ee1f(0x18d)+_0x4aff90['description'],0x14,0x3c),_0x3d2a9e[_0x22ee1f(0x22c)](_0x22ee1f(0x221)+_0x4aff90['amount']+'\x20FCFA',0x14,0x46),_0x3d2a9e[_0x22ee1f(0x22c)](_0x22ee1f(0x2c7)+_0x4aff90['id'],0x14,0x50),_0x3d2a9e;}function showInvoiceDetails(_0x51fb9c){const _0x5b1cbd=_0x31976f,_0x39f250=document[_0x5b1cbd(0x1cc)](_0x5b1cbd(0x231));_0x39f250[_0x5b1cbd(0x211)]='modal',_0x39f250[_0x5b1cbd(0x208)]=_0x5b1cbd(0x209)+new Date()[_0x5b1cbd(0x103)]()+_0x5b1cbd(0x135)+_0x51fb9c[_0x5b1cbd(0x22a)]+_0x5b1cbd(0x11f)+_0x51fb9c[_0x5b1cbd(0x9f)]+_0x5b1cbd(0x2be)+_0x51fb9c['id']+_0x5b1cbd(0xfc),document[_0x5b1cbd(0x219)][_0x5b1cbd(0x108)](_0x39f250),document[_0x5b1cbd(0x120)](_0x5b1cbd(0x2b6))[_0x5b1cbd(0x1b1)](_0x5b1cbd(0x134),()=>{const _0xcd462a=_0x5b1cbd,_0x533b5f=generateInvoicePDF(_0x51fb9c);_0x533b5f['save']('facture_'+_0x51fb9c['id']+_0xcd462a(0x1ae));}),document['getElementById']('closeModal')['addEventListener'](_0x5b1cbd(0x134),()=>{const _0xdc8e94=_0x5b1cbd;document[_0xdc8e94(0x219)][_0xdc8e94(0x12c)](_0x39f250);});}function initializeNewDiscussion(){const _0x5a8350=_0x31976f;currentConversation=[];const _0x1c4a1b=document[_0x5a8350(0x120)]('messageContainer');_0x1c4a1b[_0x5a8350(0x208)]='',addMessageToChat('ai','Bienvenue\x20dans\x20une\x20nouvelle\x20conversation\x20!\x20Comment\x20puis-je\x20vous\x20aider\x20aujourd\x27hui\x20?'),updateConversationHistory();}function showLoginModal(){const _0xbbe4c4=_0x31976f;document[_0xbbe4c4(0x120)]('loginModal')['style'][_0xbbe4c4(0x16e)]=_0xbbe4c4(0x210);}function showRegisterModal(){const _0x5be2b6=_0x31976f;document[_0x5be2b6(0x120)](_0x5be2b6(0xec))[_0x5be2b6(0x1c9)][_0x5be2b6(0x16e)]='block';}function closeModal(_0x3c5ddf){const _0xcaf1e3=_0x31976f;document[_0xcaf1e3(0x120)](_0x3c5ddf)[_0xcaf1e3(0x1c9)][_0xcaf1e3(0x16e)]='none';}function updateUIForLoggedInUser(){const _0x3222ca=_0x31976f;document[_0x3222ca(0x120)](_0x3222ca(0x2b4))[_0x3222ca(0x144)]['add'](_0x3222ca(0xcd)),document[_0x3222ca(0x120)]('registerBtn')[_0x3222ca(0x144)]['add'](_0x3222ca(0xcd)),document[_0x3222ca(0x120)](_0x3222ca(0x129))[_0x3222ca(0x144)][_0x3222ca(0x9c)](_0x3222ca(0xcd)),document['getElementById'](_0x3222ca(0x2a7))['classList'][_0x3222ca(0x9c)](_0x3222ca(0xcd)),document[_0x3222ca(0x120)](_0x3222ca(0xf6))[_0x3222ca(0x113)]=currentUser['username'],document['getElementById'](_0x3222ca(0x26b))[_0x3222ca(0x113)]=currentUser[_0x3222ca(0x26b)],document[_0x3222ca(0x120)](_0x3222ca(0xe3))[_0x3222ca(0x113)]=currentUser[_0x3222ca(0xe3)],document[_0x3222ca(0x120)](_0x3222ca(0xe2))[_0x3222ca(0x113)]=currentUser[_0x3222ca(0xe2)]||'Aucun',loadConversationHistory();}function updateUIForLoggedOutUser(){const _0x4433e9=_0x31976f;document['getElementById'](_0x4433e9(0x2b4))['classList']['remove'](_0x4433e9(0xcd)),document['getElementById'](_0x4433e9(0x176))[_0x4433e9(0x144)]['remove']('hidden'),document[_0x4433e9(0x120)](_0x4433e9(0x129))[_0x4433e9(0x144)][_0x4433e9(0x1f6)](_0x4433e9(0xcd)),document[_0x4433e9(0x120)](_0x4433e9(0x2a7))[_0x4433e9(0x144)][_0x4433e9(0x1f6)]('hidden'),document['getElementById'](_0x4433e9(0xcb))[_0x4433e9(0x208)]=_0x4433e9(0x18b);}function storeLoginInfo(_0x2f3fb6,_0x64eb4b){const _0x380d0b=_0x31976f;localStorage[_0x380d0b(0x153)]('eduqueMoiUsername',_0x2f3fb6),localStorage[_0x380d0b(0x153)](_0x380d0b(0x112),_0x64eb4b);}function getStoredLoginInfo(){const _0x2be261=_0x31976f;return{'username':localStorage[_0x2be261(0x141)]('eduqueMoiUsername'),'password':localStorage['getItem'](_0x2be261(0x112))};}function clearLoginInfo(){const _0x6e8fd5=_0x31976f;localStorage[_0x6e8fd5(0x140)](_0x6e8fd5(0x110)),localStorage[_0x6e8fd5(0x140)](_0x6e8fd5(0x112));}async function register(){const _0x2750f4=_0x31976f,_0x3f272d=document[_0x2750f4(0x120)](_0x2750f4(0x11a))['value'],_0x4fe2bd=document[_0x2750f4(0x120)]('registerPassword')[_0x2750f4(0x227)],_0x5cc671=new URLSearchParams(window[_0x2750f4(0x254)][_0x2750f4(0x1be)])[_0x2750f4(0x173)](_0x2750f4(0x256));if(!_0x3f272d||!_0x4fe2bd){showNotification(_0x2750f4(0x2b2),_0x2750f4(0x281));return;}try{const _0x51f9be=db['ref'](_0x2750f4(0x1d9)+_0x3f272d),_0x40bdab=await _0x51f9be[_0x2750f4(0x212)](_0x2750f4(0x227));if(_0x40bdab[_0x2750f4(0x1d1)]()){showNotification(_0x2750f4(0xf3),_0x2750f4(0x281));return;}const _0x1400e6=new Date(),_0x1223cc={'password':_0x4fe2bd,'freeCredits':FREE_CREDITS_REGISTER,'paidCredits':0x0,'subscription':null,'subscriptionEndDate':null,'lastFreeCreditsReset':_0x1400e6[_0x2750f4(0x95)](),'referredBy':_0x5cc671||null,'firstPurchase':![],'totalReferrals':0x0,'activeReferrals':0x0,'hasSeenGuidedTour':![]};await _0x51f9be[_0x2750f4(0x2a5)](_0x1223cc);if(_0x5cc671){const _0x544ba4=await db[_0x2750f4(0x256)](_0x2750f4(0x1b5))[_0x2750f4(0x20f)](_0x2750f4(0x245))[_0x2750f4(0xce)](_0x5cc671)[_0x2750f4(0x212)](_0x2750f4(0x227)),_0x5840c8=_0x544ba4[_0x2750f4(0x1a3)]();if(_0x5840c8){const _0xc998aa=Object[_0x2750f4(0x273)](_0x5840c8)[0x0];await db['ref'](_0x2750f4(0x1d9)+_0xc998aa+'/referrals/'+_0x3f272d)['set']({'date':_0x1400e6[_0x2750f4(0x95)](),'isActive':![]});const _0x4ce698=db[_0x2750f4(0x256)](_0x2750f4(0x1d9)+_0xc998aa);await _0x4ce698[_0x2750f4(0x1eb)](_0x560ecf=>{const _0x47dccf=_0x2750f4;return _0x560ecf&&(_0x560ecf[_0x47dccf(0x241)]=(_0x560ecf['totalReferrals']||0x0)+0x1),_0x560ecf;}),currentUser&&currentUser[_0x2750f4(0xf6)]===_0xc998aa&&(document['getElementById'](_0x2750f4(0x241))[_0x2750f4(0x113)]=(parseInt(document['getElementById'](_0x2750f4(0x241))['textContent'])||0x0)+0x1);}}currentUser={'username':_0x3f272d,..._0x1223cc},updateUIForLoggedInUser(),showNotification(_0x2750f4(0x7f),_0x2750f4(0x197)),closeModal('registerModal'),storeLoginInfo(_0x3f272d,_0x4fe2bd),startGuidedTour(),await markGuidedTourAsSeen(_0x3f272d);}catch(_0x8764e4){console[_0x2750f4(0x281)](_0x2750f4(0x14f),_0x8764e4),showNotification(_0x2750f4(0x25f),_0x2750f4(0x281));}}async function login(_0x3e8a99,_0x287cad){const _0x4e49fc=_0x31976f;(!_0x3e8a99||!_0x287cad)&&(_0x3e8a99=document[_0x4e49fc(0x120)](_0x4e49fc(0x1d7))[_0x4e49fc(0x227)],_0x287cad=document[_0x4e49fc(0x120)]('loginPassword')[_0x4e49fc(0x227)]);if(!_0x3e8a99||!_0x287cad){showNotification('Veuillez\x20remplir\x20tous\x20les\x20champs.',_0x4e49fc(0x281));return;}try{const _0x3272f7=db[_0x4e49fc(0x256)](_0x4e49fc(0x1d9)+_0x3e8a99),_0xb8a4ce=await _0x3272f7[_0x4e49fc(0x212)]('value');if(_0xb8a4ce[_0x4e49fc(0x1d1)]()&&_0xb8a4ce[_0x4e49fc(0x1a3)]()[_0x4e49fc(0x104)]===_0x287cad){const _0x113de7=_0xb8a4ce['val']();currentUser={'username':_0x3e8a99,'freeCredits':_0x113de7['freeCredits']||0x0,'paidCredits':_0x113de7['paidCredits']||0x0,'subscription':_0x113de7[_0x4e49fc(0xe2)]||null,'subscriptionEndDate':_0x113de7['subscriptionEndDate']||null,'lastFreeCreditsReset':_0x113de7[_0x4e49fc(0x24a)]||new Date()['toISOString'](),'referralCode':_0x113de7[_0x4e49fc(0x245)]||null,'totalReferrals':_0x113de7[_0x4e49fc(0x241)]||0x0,'activeReferrals':_0x113de7['activeReferrals']||0x0},await resetFreeCreditsIfNeeded(),await checkSubscriptionStatus(),await initializeImageGenerationTracking(_0x3e8a99),updateUIForLoggedInUser(),storeLoginInfo(_0x3e8a99,_0x287cad),loadConversationHistory();const _0x5445c4=await checkGuidedTourStatus(_0x3e8a99);!_0x5445c4&&(startGuidedTour(),await markGuidedTourAsSeen(_0x3e8a99)),_0x113de7[_0x4e49fc(0x132)]&&await updateReferralStats(_0x3e8a99),importedFilesCount=_0x113de7[_0x4e49fc(0x2cf)]||0x0,lastImportReset=new Date(_0x113de7[_0x4e49fc(0x13e)]||new Date()),await syncUserData(),showNotification(_0x4e49fc(0x20a),_0x4e49fc(0x197)),closeModal(_0x4e49fc(0x252)),_0x113de7[_0x4e49fc(0xd5)]&&loadCustomPrompts(_0x113de7[_0x4e49fc(0xd5)]),checkPendingNotifications(),initializeGeminiAPI(),createNewConversation();}else showNotification('Nom\x20d\x27utilisateur\x20ou\x20mot\x20de\x20passe\x20incorrect.',_0x4e49fc(0x281));}catch(_0x242338){console[_0x4e49fc(0x281)](_0x4e49fc(0x1b7),_0x242338),showNotification(_0x4e49fc(0x8c),_0x4e49fc(0x281));}}async function checkPendingNotifications(){const _0x494f77=_0x31976f;if(currentUser[_0x494f77(0xe2)]){const _0x5a7d84=new Date(currentUser[_0x494f77(0x11c)]),_0x1f9610=new Date(),_0x292f06=Math[_0x494f77(0xb4)]((_0x5a7d84-_0x1f9610)/(0x3e8*0x3c*0x3c*0x18));_0x292f06<=0x3&&_0x292f06>0x0&&showNotification(_0x494f77(0xb7)+_0x292f06+'\x20jour'+(_0x292f06>0x1?'s':'')+'.',_0x494f77(0x235));}!currentUser['subscription']&&currentUser[_0x494f77(0xe3)]<0xa&&currentUser[_0x494f77(0x26b)]<0x3&&showNotification(_0x494f77(0xf9),_0x494f77(0x235));}function loadCustomPrompts(_0x5e4055){const _0x2d9da1=_0x31976f;Array['isArray'](_0x5e4055)&&_0x5e4055[_0x2d9da1(0x24f)](_0x503971=>{!prompts[_0x503971['id']]&&(prompts[_0x503971['id']]=_0x503971);});}function logout(){const _0x5748d5=_0x31976f;currentUser&&syncUserData(),currentUser=null,updateUIForLoggedOutUser(),showNotification(_0x5748d5(0x215),_0x5748d5(0x197)),clearLoginInfo();}async function resetFreeCreditsIfNeeded(){const _0x1ad8e6=_0x31976f,_0x586444=new Date(),_0x40cf46=new Date(currentUser['lastFreeCreditsReset']);if(_0x586444['getTime']()-_0x40cf46['getTime']()>=0x18*0x3c*0x3c*0x3e8){const _0x352633=currentUser[_0x1ad8e6(0x26b)];currentUser['freeCredits']=FREE_CREDITS_PER_DAY,currentUser['lastFreeCreditsReset']=_0x586444['toISOString'](),await syncUserData(),document['getElementById'](_0x1ad8e6(0x26b))['textContent']=currentUser[_0x1ad8e6(0x26b)];const _0x5f0cc2=currentUser['freeCredits']-_0x352633;_0x5f0cc2>0x0&&showNotification(_0x5f0cc2+_0x1ad8e6(0x9a),_0x1ad8e6(0x197));}}async function checkModelAccess(){const _0x40d2d4=_0x31976f,_0x274c3a=document['getElementById'](_0x40d2d4(0x155))[_0x40d2d4(0x227)],_0x49ee46=document[_0x40d2d4(0x120)](_0x40d2d4(0x1e8));_0x49ee46['style'][_0x40d2d4(0x16e)]=isImageGenerationModel(_0x274c3a)?_0x40d2d4(0x210):'none';if(isImageGenerationModel(_0x274c3a)){if(!hasValidSubscription()&&currentUser[_0x40d2d4(0xe3)]<0x5&&currentUser[_0x40d2d4(0x26b)]<0x5){showPaymentNotification(_0x40d2d4(0xfb)),document['getElementById'](_0x40d2d4(0x155))[_0x40d2d4(0x227)]=_0x40d2d4(0x183),_0x49ee46[_0x40d2d4(0x1c9)][_0x40d2d4(0x16e)]=_0x40d2d4(0x9b);return;}}else!['gemini-exp-1206',_0x40d2d4(0x170)]['includes'](_0x274c3a)&&!hasValidSubscription()&&currentUser[_0x40d2d4(0xe3)]<=0x0&&(showPaymentNotification(_0x40d2d4(0x1fc)),document[_0x40d2d4(0x120)]('modelSelect')[_0x40d2d4(0x227)]=_0x40d2d4(0x183));}async function handleFileUpload(_0x3fb03d){const _0xb9636e=_0x31976f,_0x419fb5=_0x3fb03d[_0xb9636e(0x175)][_0xb9636e(0x218)];for(let _0x465b9a=0x0;_0x465b9a<_0x419fb5[_0xb9636e(0x204)];_0x465b9a++){const _0x1c71d5=_0x419fb5[_0x465b9a];if(_0x1c71d5['type']===_0xb9636e(0x2d9)||_0x1c71d5[_0xb9636e(0x289)]===_0xb9636e(0x200))try{const _0x42bfc6=await convertWordToText(_0x1c71d5);pinnedFiles[_0xb9636e(0x192)]({'name':_0x1c71d5['name'][_0xb9636e(0x1af)](/\.[^/.]+$/,'')+'.txt','type':_0xb9636e(0x1b0),'content':_0x42bfc6}),updatePinnedFiles(),importedFilesCount++,await db['ref']('users/'+currentUser['username'])[_0xb9636e(0x1e2)]({'importedFilesCount':importedFilesCount});}catch(_0x551edc){console[_0xb9636e(0x281)](_0xb9636e(0x21f),_0x551edc),showNotification(_0xb9636e(0x1d8),_0xb9636e(0x281));}else(_0x1c71d5[_0xb9636e(0x289)][_0xb9636e(0x12b)](_0xb9636e(0x10f))||_0x1c71d5[_0xb9636e(0x289)]===_0xb9636e(0x238))&&(pinnedFiles['push'](_0x1c71d5),updatePinnedFiles());}}function convertWordToText(_0x39342b){return new Promise((_0x2785f3,_0x3e3307)=>{const _0x2b681f=_0x226b,_0x44d13f=new FileReader();_0x44d13f['onload']=function(_0x3694ec){const _0x432dac=_0x226b,_0x4b40ba=_0x3694ec[_0x432dac(0x175)][_0x432dac(0x111)];mammoth[_0x432dac(0x18c)]({'arrayBuffer':_0x4b40ba})[_0x432dac(0xe4)](function(_0x4deb95){const _0x230aa6=_0x432dac;_0x2785f3(_0x4deb95[_0x230aa6(0x227)]);})[_0x432dac(0x89)](function(_0x3d8206){_0x3e3307(_0x3d8206);});},_0x44d13f[_0x2b681f(0x1c8)](_0x39342b);});}function updatePinnedFiles(){const _0x4f4859=_0x31976f,_0x3f2b89=document[_0x4f4859(0x120)](_0x4f4859(0x29b));_0x3f2b89[_0x4f4859(0x208)]='',pinnedFiles[_0x4f4859(0x24f)]((_0x55db6e,_0x2bf254)=>{const _0x2b90c2=_0x4f4859,_0x25d79c=document[_0x2b90c2(0x1cc)](_0x2b90c2(0x231));_0x25d79c[_0x2b90c2(0x211)]=_0x2b90c2(0x202),_0x25d79c[_0x2b90c2(0x208)]=_0x2b90c2(0xac)+(_0x55db6e[_0x2b90c2(0x289)]['startsWith']('image/')?_0x2b90c2(0xdb):'📄')+_0x2b90c2(0x258)+_0x55db6e['name']+'\x22>'+_0x55db6e[_0x2b90c2(0x133)]+_0x2b90c2(0x1f7)+_0x2bf254+_0x2b90c2(0xf8),_0x3f2b89[_0x2b90c2(0x108)](_0x25d79c);});}function removePinnedFile(_0x5d7c5c){const _0x2af07d=_0x31976f;pinnedFiles[_0x2af07d(0xed)](_0x5d7c5c,0x1),updatePinnedFiles();}function createPinnedFilesElement(_0x4cc993){const _0x2bdd15=_0x31976f,_0x16dcfd=document[_0x2bdd15(0x1cc)](_0x2bdd15(0x231));return _0x16dcfd[_0x2bdd15(0x211)]=_0x2bdd15(0x109),_0x4cc993[_0x2bdd15(0x24f)](_0x5b9de0=>{const _0xc8db9c=_0x2bdd15,_0x51a056=document[_0xc8db9c(0x1cc)](_0xc8db9c(0x231));_0x51a056[_0xc8db9c(0x211)]='pinned-file';if(_0x5b9de0[_0xc8db9c(0x289)]['startsWith'](_0xc8db9c(0x10f))){const _0x4332dd=document[_0xc8db9c(0x1cc)]('img');_0x4332dd[_0xc8db9c(0x2a4)]=URL[_0xc8db9c(0x261)](_0x5b9de0),_0x4332dd[_0xc8db9c(0x267)]=_0x5b9de0[_0xc8db9c(0x133)],_0x4332dd['className']=_0xc8db9c(0xa7),_0x51a056[_0xc8db9c(0x108)](_0x4332dd);}else{const _0x39fe71=document[_0xc8db9c(0x1cc)](_0xc8db9c(0x16a));_0x39fe71[_0xc8db9c(0x211)]=_0xc8db9c(0xe0),_0x39fe71[_0xc8db9c(0x113)]=_0x5b9de0[_0xc8db9c(0x289)][_0xc8db9c(0x12b)](_0xc8db9c(0x238))?'📄':'📎',_0x51a056[_0xc8db9c(0x108)](_0x39fe71);}const _0x263462=document[_0xc8db9c(0x1cc)](_0xc8db9c(0x16a));_0x263462[_0xc8db9c(0x211)]='file-name',_0x263462['textContent']=_0x5b9de0[_0xc8db9c(0x133)],_0x51a056['appendChild'](_0x263462),_0x16dcfd[_0xc8db9c(0x108)](_0x51a056);}),_0x16dcfd;}function createPinnedResponsesElement(_0x1e461d){const _0x58f902=_0x31976f,_0x4a8d7a=document[_0x58f902(0x1cc)]('div');return _0x4a8d7a[_0x58f902(0x211)]='pinned-responses-message',_0x1e461d[_0x58f902(0x24f)](_0x9e0eee=>{const _0xee1502=_0x58f902,_0x305743=document[_0xee1502(0x1cc)](_0xee1502(0x231));_0x305743['className']=_0xee1502(0x1f2);const _0x28c60f=document[_0xee1502(0x1cc)](_0xee1502(0x16a));_0x28c60f['className']='response-icon',_0x28c60f[_0xee1502(0x113)]='💬';const _0x474e7f=document[_0xee1502(0x1cc)](_0xee1502(0x16a));_0x474e7f[_0xee1502(0x211)]=_0xee1502(0x2d8),_0x474e7f[_0xee1502(0x113)]=_0x9e0eee[_0xee1502(0xf5)],_0x305743[_0xee1502(0x108)](_0x28c60f),_0x305743[_0xee1502(0x108)](_0x474e7f),_0x4a8d7a[_0xee1502(0x108)](_0x305743);}),_0x4a8d7a;}function createPinnedPromptElement(_0x39ec54){const _0x2a423f=_0x31976f,_0x328009=document['createElement']('div');_0x328009[_0x2a423f(0x211)]=_0x2a423f(0x2c3);const _0xbe29a=document[_0x2a423f(0x1cc)](_0x2a423f(0x231));_0xbe29a['className']=_0x2a423f(0x2d3);const _0x52a6c6=document['createElement'](_0x2a423f(0x16a));_0x52a6c6[_0x2a423f(0x211)]='prompt-icon',_0x52a6c6[_0x2a423f(0x113)]='🤖';const _0x19a72c=document[_0x2a423f(0x1cc)]('span');return _0x19a72c[_0x2a423f(0x211)]=_0x2a423f(0x117),_0x19a72c['textContent']=_0x39ec54[_0x2a423f(0x12d)],_0xbe29a['appendChild'](_0x52a6c6),_0xbe29a[_0x2a423f(0x108)](_0x19a72c),_0x328009[_0x2a423f(0x108)](_0xbe29a),_0x328009;}function createModelHeader(_0x1d10e6){const _0x51ee33=_0x31976f,_0x500bae={'gemini-1.5-flash':_0x51ee33(0x280),'gemini-1.5-pro':'Gemini\x201.5\x20Pro','gemini-1.5-pro-latest':'Gemini\x201.5\x20Pro\x20Latest','gemini-1.0-pro':_0x51ee33(0x13d),'recraft-realistic':_0x51ee33(0x1bb),'recraft-digital':'Illustration\x20Digitale','recraft-vector':_0x51ee33(0x2a3)},_0xb3b78a=_0x500bae[_0x1d10e6]||_0x1d10e6;return _0x51ee33(0x2d7)+(isImageGenerationModel(_0x1d10e6)?_0x51ee33(0x217):_0x51ee33(0xe8))+_0x51ee33(0x15e)+_0xb3b78a+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}async function sendMessage(){const _0x1b97e2=_0x31976f;if(!currentUser){showNotification(_0x1b97e2(0x25a),'error');return;}const _0x5bb196=document['getElementById'](_0x1b97e2(0xee))['value'][_0x1b97e2(0x193)](),_0x52acd2=document[_0x1b97e2(0x120)](_0x1b97e2(0x155))[_0x1b97e2(0x227)];if(!_0x5bb196&&pinnedFiles['length']===0x0&&pinnedResponses[_0x1b97e2(0x204)]===0x0&&!pinnedPrompt){showNotification(_0x1b97e2(0x10e),_0x1b97e2(0x281));return;}let _0xc956de=_0x5bb196;pinnedPrompt&&(_0xc956de=pinnedPrompt[_0x1b97e2(0x289)]==='image'?pinnedPrompt[_0x1b97e2(0x11d)]+'\x0aDétails\x20spécifiques:\x20'+_0x5bb196:pinnedPrompt[_0x1b97e2(0x11d)]+'\x0a\x0a'+_0x5bb196);if(isImageGenerationModel(_0x52acd2)){try{const _0x706bce=await canGenerateImage();if(!_0x706bce[_0x1b97e2(0x268)]){showPaymentNotification(_0x706bce[_0x1b97e2(0x242)]);return;}const _0xd4f221=document['createElement'](_0x1b97e2(0x231));_0xd4f221[_0x1b97e2(0x211)]=_0x1b97e2(0x10c),_0xd4f221[_0x1b97e2(0x208)]=_0x1b97e2(0x21c)+createModelHeader(_0x52acd2)+_0x1b97e2(0x28e),document[_0x1b97e2(0x120)](_0x1b97e2(0x2ca))[_0x1b97e2(0x108)](_0xd4f221);const _0x380b75=document[_0x1b97e2(0x120)](_0x1b97e2(0x1e8))[_0x1b97e2(0x227)],_0x49ad00=getRecraftStyle(_0x52acd2),_0x41de6d=await fetch(_0x1b97e2(0x174),{'method':_0x1b97e2(0x2a9),'headers':{'Content-Type':_0x1b97e2(0xaf),'Authorization':'Bearer\x20'+RECRAFT_API_KEY},'body':JSON['stringify']({'prompt':_0xc956de,'style':_0x49ad00,'size':_0x380b75})});if(!_0x41de6d['ok'])throw new Error(_0x1b97e2(0x237));const _0x321a11=await _0x41de6d[_0x1b97e2(0x184)](),_0x27c4f5=_0x321a11[_0x1b97e2(0xbb)][0x0][_0x1b97e2(0x1d0)];_0xd4f221[_0x1b97e2(0x208)]=_0x1b97e2(0x21c)+createModelHeader(_0x52acd2)+_0x1b97e2(0x186)+_0x27c4f5+_0x1b97e2(0x29c)+_0xc956de+_0x1b97e2(0x178)+_0x49ad00[_0x1b97e2(0x1af)]('_','\x20')[_0x1b97e2(0xa2)]()+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>Taille:\x20'+_0x380b75+_0x1b97e2(0xad)+(_0x706bce['useFreeGeneration']?_0x1b97e2(0x1c1):_0x1b97e2(0x236))+_0x1b97e2(0xc2)+_0x27c4f5+_0x1b97e2(0x255)+_0x27c4f5+_0x1b97e2(0x247)+_0x27c4f5+_0x1b97e2(0x285);if(_0x706bce[_0x1b97e2(0x131)]){await incrementImageGenerationCount(currentUser['username']);const _0x4351f2=await getImageGenerationCount(currentUser[_0x1b97e2(0xf6)]);showNotification(_0x1b97e2(0x15b)+(0x5-_0x4351f2)+_0x1b97e2(0x2da),_0x1b97e2(0x197));}else await updateCredits(_0x52acd2,0x5),showNotification('Image\x20générée\x20avec\x20succès!\x205\x20crédits\x20ont\x20été\x20déduits.',_0x1b97e2(0x197));}catch(_0x1ce44c){console[_0x1b97e2(0x281)](_0x1b97e2(0x263),_0x1ce44c),showNotification(_0x1b97e2(0x182),_0x1b97e2(0x281));}finally{document['getElementById'](_0x1b97e2(0xee))[_0x1b97e2(0x227)]='',resetTextareaHeight(),pinnedPrompt=null,updatePinnedItems();}return;}let _0x2b4203=0x1;_0x2b4203+=pinnedFiles['filter'](_0xfea02f=>_0xfea02f['type']!==_0x1b97e2(0x1b0))[_0x1b97e2(0x204)],_0x2b4203+=pinnedResponses[_0x1b97e2(0x204)];if(!hasValidSubscription()){if(_0x52acd2===_0x1b97e2(0x183)){if(currentUser[_0x1b97e2(0xe3)]<_0x2b4203&&currentUser[_0x1b97e2(0x26b)]<_0x2b4203){showPaymentNotification('Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20pour\x20envoyer\x20ce\x20message.');return;}}else{if(![_0x1b97e2(0x170)][_0x1b97e2(0x275)](_0x52acd2)&&currentUser[_0x1b97e2(0xe3)]<_0x2b4203){showPaymentNotification(_0x1b97e2(0x229));return;}}}const _0x1b0f78=[...pinnedFiles],_0x46620f=[...pinnedResponses],_0x15005c=pinnedPrompt;pinnedFiles=[],pinnedResponses=[],pinnedPrompt=null,updatePinnedItems();const _0x21e50e=addMessageToChat('user',_0x5bb196,_0x1b0f78,_0x46620f,_0x15005c),_0xa18a87=document[_0x1b97e2(0x1cc)]('div');_0xa18a87[_0x1b97e2(0x211)]='message\x20ai-message',_0xa18a87[_0x1b97e2(0x208)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+createModelHeader(_0x52acd2)+_0x1b97e2(0x2d0),document[_0x1b97e2(0x120)](_0x1b97e2(0x2ca))[_0x1b97e2(0x108)](_0xa18a87);try{const _0x364d12=[];let _0x21aa12=buildConversationContext();await addFilesToParts(_0x364d12,_0x1b0f78),_0x46620f[_0x1b97e2(0x24f)](_0x3c0335=>{const _0x43e592=_0x1b97e2;_0x21aa12+=_0x43e592(0x9d)+_0x3c0335[_0x43e592(0xf5)]+']\x0a';});_0x15005c?(_0x21aa12+=_0x1b97e2(0x1a7)+_0x15005c[_0x1b97e2(0x12d)]+']\x0a',_0x15005c[_0x1b97e2(0x289)]===_0x1b97e2(0x203)?_0x21aa12+=_0x1b97e2(0xf1)+_0x5bb196+'\x0a':_0x21aa12+=_0x15005c['content']+'\x0a\x0a'+_0x5bb196+'\x0a'):_0x21aa12+=_0x5bb196+'\x0a';_0xc956de=_0x21aa12,_0x364d12['push']({'text':_0xc956de});let _0x3da045,_0x1cd8fe=0x0;const _0x5e77dd=0x3;while(_0x1cd8fe<_0x5e77dd){try{const _0x5acf97=getNextApiKey();if(!_0x5acf97)throw new Error('Aucune\x20clé\x20API\x20disponible');genAI=new GoogleGenerativeAI(_0x5acf97),model=genAI[_0x1b97e2(0x233)]({'model':_0x52acd2,'systemInstruction':SYSTEM_INSTRUCTION});const _0x1c0e36=await model[_0x1b97e2(0x136)](_0x364d12);_0x3da045=await _0x1c0e36[_0x1b97e2(0x1f4)];break;}catch(_0x3408f0){_0x1cd8fe++,console[_0x1b97e2(0x281)]('Tentative\x20'+_0x1cd8fe+'/'+_0x5e77dd+_0x1b97e2(0x1a9),_0x3408f0);if(_0x1cd8fe===_0x5e77dd)throw new Error(_0x1b97e2(0x23f));const _0x4414e9=Math['min'](0x3e8*Math[_0x1b97e2(0x1c3)](0x2,_0x1cd8fe),0x1388);await new Promise(_0x548da8=>setTimeout(_0x548da8,_0x4414e9));}}let _0x2bd711=_0x3da045[_0x1b97e2(0x22c)]();if(_0x52acd2===_0x1b97e2(0x170)||_0x52acd2===_0x1b97e2(0x183)&&currentUser[_0x1b97e2(0xe3)]<_0x2b4203){const _0x3a696f=_0x2bd711[_0x1b97e2(0x180)](/\s+/);_0x3a696f[_0x1b97e2(0x204)]>FREE_MODEL_MAX_RESPONSE&&(_0x2bd711=_0x3a696f['slice'](0x0,FREE_MODEL_MAX_RESPONSE)[_0x1b97e2(0x25b)]('\x20')+_0x1b97e2(0xa0),showNotification('La\x20réponse\x20a\x20été\x20tronquée\x20à\x20'+FREE_MODEL_MAX_RESPONSE+_0x1b97e2(0x2b3),_0x1b97e2(0x1f9)));}await animateText(_0xa18a87,_0x2bd711),currentConversation[_0x1b97e2(0x192)]({'sender':'ai','content':_0x2bd711}),await updateCredits(_0x52acd2,_0x2b4203),saveConversation();}catch(_0x3e0d1e){console['error'](_0x1b97e2(0x159),_0x3e0d1e),_0xa18a87[_0x1b97e2(0x9c)](),showNotification(_0x1b97e2(0x2c0)+_0x3e0d1e[_0x1b97e2(0x242)]+_0x1b97e2(0x1f3),'error');}finally{document[_0x1b97e2(0x120)](_0x1b97e2(0xee))[_0x1b97e2(0x227)]='',resetTextareaHeight(),resetScrollState();}}document[_0x31976f(0x1b1)](_0x31976f(0x28a),initializeScrollListener);function resetPinnedItems(){pinnedFiles=[],pinnedResponses=[],pinnedPrompt=null,updatePinnedItems();}function buildConversationContext(){const _0x3d30f4=_0x31976f;let _0x5b4e46='';const _0x3606b9=currentConversation[_0x3d30f4(0x291)](-0x5);return _0x3606b9[_0x3d30f4(0x24f)](_0x2bdc7c=>{const _0x5974e3=_0x3d30f4;_0x5b4e46+=(_0x2bdc7c[_0x5974e3(0x124)]===_0x5974e3(0x19b)?_0x5974e3(0x19b):'model')+':\x20'+_0x2bdc7c[_0x5974e3(0x11d)]+'\x0a',_0x2bdc7c[_0x5974e3(0x218)]&&_0x2bdc7c[_0x5974e3(0x218)][_0x5974e3(0x24f)](_0x5ed708=>{const _0xeab39b=_0x5974e3;_0x5b4e46+='[Fichier\x20joint:\x20'+_0x5ed708[_0xeab39b(0x133)]+']\x0a';}),_0x2bdc7c[_0x5974e3(0x165)]&&_0x2bdc7c[_0x5974e3(0x165)][_0x5974e3(0x24f)](_0x56f000=>{const _0xad5cc=_0x5974e3;_0x5b4e46+=_0xad5cc(0x9d)+_0x56f000[_0xad5cc(0xf5)]+']\x0a';}),_0x2bdc7c['prompt']&&(_0x5b4e46+=_0x5974e3(0x1a7)+_0x2bdc7c[_0x5974e3(0x23a)]['title']+']\x0a');}),_0x5b4e46;}async function addFilesToParts(_0x7ddf70,_0x508a1b){const _0x379f14=_0x31976f;for(const _0x3ce28d of _0x508a1b){if(_0x3ce28d['type']===_0x379f14(0x1b0))_0x7ddf70[_0x379f14(0x192)]({'text':'Analyse\x20ce\x20fichier\x20texte:\x20'+_0x3ce28d[_0x379f14(0x11d)]});else{const _0x2131c5=await readFileAsBase64(_0x3ce28d);_0x7ddf70[_0x379f14(0x192)]({'inlineData':{'data':_0x2131c5,'mimeType':_0x3ce28d[_0x379f14(0x289)]}}),_0x7ddf70['push']({'text':_0x379f14(0x206)+_0x3ce28d[_0x379f14(0x133)]+'\x20('+_0x3ce28d[_0x379f14(0x289)]+_0x379f14(0x16c)});}}}async function validateCreditsAndModel(_0x2cc544,_0x56fd02){const _0x40e4a8=_0x31976f;if(_0x2cc544===_0x40e4a8(0x183)){if(currentUser[_0x40e4a8(0xe3)]>=_0x56fd02)return showNotification(_0x40e4a8(0x2d6),_0x40e4a8(0x1f9)),!![];else{if(currentUser[_0x40e4a8(0x26b)]>=_0x56fd02)return showNotification(_0x40e4a8(0x98),_0x40e4a8(0x1f9)),!![];}}else{if(![_0x40e4a8(0x170)][_0x40e4a8(0x275)](_0x2cc544)){if(currentUser['paidCredits']<_0x56fd02)return showPaymentNotification(_0x40e4a8(0x229)),![];}else{if(currentUser[_0x40e4a8(0x26b)]<_0x56fd02&&currentUser[_0x40e4a8(0xe3)]<_0x56fd02)return showPaymentNotification(_0x40e4a8(0xdc)),![];}}return!![];}async function processAndDisplayAIResponse(_0x450415,_0x17e437,_0x3e9898){const _0xedd17=_0x31976f;let _0x48c53e;if(_0x17e437===_0xedd17(0x170)||_0x17e437==='gemini-exp-1206'&&currentUser[_0xedd17(0xe3)]<_0x3e9898){const _0x1f2e4d=_0x450415[_0xedd17(0x180)](/\s+/);_0x1f2e4d[_0xedd17(0x204)]>FREE_MODEL_MAX_RESPONSE?(_0x450415=_0x1f2e4d[_0xedd17(0x291)](0x0,FREE_MODEL_MAX_RESPONSE)[_0xedd17(0x25b)]('\x20')+_0xedd17(0xa0),showNotification(_0xedd17(0x296)+FREE_MODEL_MAX_RESPONSE+_0xedd17(0x2b3),'info'),_0x48c53e=addMessageToChat('ai',_0x450415),showUpgradeButton(_0x48c53e)):_0x48c53e=addMessageToChat('ai',_0x450415);}else _0x48c53e=addMessageToChat('ai',_0x450415);return _0x48c53e;}function updateConversation(_0x59fdde,_0x13ca5d){const _0x4e54ed=_0x31976f;currentConversation[_0x4e54ed(0x192)]({'sender':_0x4e54ed(0x19b),'content':_0x59fdde}),currentConversation[_0x4e54ed(0x192)]({'sender':'ai','content':_0x13ca5d});}async function handleImageGeneration(_0x4da7da,_0x5a9d5b,_0xdd9eda){const _0x4919cf=_0x31976f;try{if(!_0xdd9eda[_0x4919cf(0x268)]){showPaymentNotification(_0xdd9eda[_0x4919cf(0x242)]);return;}const _0x1dba0b=document[_0x4919cf(0x120)](_0x4919cf(0x1e8))[_0x4919cf(0x227)],_0x3ee1dd=getRecraftStyle(_0x5a9d5b),_0xf48ed9=addLoadingMessage(_0x4919cf(0x122)),_0x376c55=await fetch(_0x4919cf(0x174),{'method':_0x4919cf(0x2a9),'headers':{'Content-Type':_0x4919cf(0xaf),'Authorization':_0x4919cf(0x19f)+RECRAFT_API_KEY},'body':JSON['stringify']({'prompt':_0x4da7da,'style':_0x3ee1dd,'size':_0x1dba0b,'n':0x1})});_0xf48ed9['remove']();if(!_0x376c55['ok'])throw new Error('Erreur\x20HTTP:\x20'+_0x376c55[_0x4919cf(0xb3)]);const _0x10524e=await _0x376c55['json']();if(!_0x10524e[_0x4919cf(0xbb)]||!_0x10524e[_0x4919cf(0xbb)][0x0]||!_0x10524e[_0x4919cf(0xbb)][0x0]['url'])throw new Error(_0x4919cf(0x102));const _0x102926=_0x10524e[_0x4919cf(0xbb)][0x0][_0x4919cf(0x1d0)],_0x2e8e98=document[_0x4919cf(0x1cc)](_0x4919cf(0x231));_0x2e8e98[_0x4919cf(0x211)]=_0x4919cf(0x10c),_0x2e8e98[_0x4919cf(0x208)]=_0x4919cf(0x186)+_0x102926+'\x22\x20alt=\x22Image\x20générée\x22\x20style=\x22max-width:\x20100%;\x20border-radius:\x205px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Image\x20générée\x20à\x20partir\x20du\x20prompt\x20:\x20\x22'+_0x4da7da+'\x22</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-metadata\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>Style:\x20'+_0x3ee1dd['replace']('_','\x20')['toUpperCase']()+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>Taille:\x20'+_0x1dba0b+_0x4919cf(0xad)+(_0xdd9eda[_0x4919cf(0x131)]?_0x4919cf(0x1c1):_0x4919cf(0x236))+_0x4919cf(0xc2)+_0x102926+'\x27,\x20\x27image-generee.png\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-download\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyImage(\x27'+_0x102926+_0x4919cf(0x247)+_0x102926+_0x4919cf(0x285),document[_0x4919cf(0x120)](_0x4919cf(0x2ca))[_0x4919cf(0x108)](_0x2e8e98);if(_0xdd9eda[_0x4919cf(0x131)]){await incrementImageGenerationCount(currentUser[_0x4919cf(0xf6)]);const _0x173cd1=await getImageGenerationCount(currentUser[_0x4919cf(0xf6)]);showNotification(_0x4919cf(0x15b)+(0x5-_0x173cd1)+_0x4919cf(0x2da),_0x4919cf(0x197));}else await updateCredits(_0x5a9d5b,0x5),showNotification(_0x4919cf(0x2a1),_0x4919cf(0x197));document[_0x4919cf(0x120)](_0x4919cf(0xee))[_0x4919cf(0x227)]='',resetTextareaHeight();}catch(_0x2edb20){console[_0x4919cf(0x281)](_0x4919cf(0x16d),_0x2edb20),showNotification(_0x4919cf(0x182),'error');}}function createUserMessageElement(_0x1302c8,_0x38e837,_0x5076e6,_0x9bad26){const _0x546414=_0x31976f,_0x38eabe=document['createElement'](_0x546414(0x231));_0x38eabe['className']=_0x546414(0x2d2);_0x38e837[_0x546414(0x204)]>0x0&&_0x38eabe['appendChild'](createPinnedFilesElement(_0x38e837));_0x5076e6[_0x546414(0x204)]>0x0&&_0x38eabe[_0x546414(0x108)](createPinnedResponsesElement(_0x5076e6));_0x9bad26&&_0x38eabe['appendChild'](createPinnedPromptElement(_0x9bad26));if(_0x1302c8){const _0x5d533d=document[_0x546414(0x1cc)]('p');_0x5d533d[_0x546414(0x113)]=_0x1302c8,_0x38eabe[_0x546414(0x108)](_0x5d533d);}return _0x38eabe;}function addLoadingMessage(_0x57ce10){const _0x1dcde6=_0x31976f,_0x362be2=document['createElement'](_0x1dcde6(0x231));return _0x362be2[_0x1dcde6(0x211)]=_0x1dcde6(0x2b8),_0x362be2[_0x1dcde6(0x208)]=_0x1dcde6(0x1cf)+_0x57ce10+_0x1dcde6(0xaa),document['getElementById'](_0x1dcde6(0x2ca))[_0x1dcde6(0x108)](_0x362be2),_0x362be2;}async function downloadImage(_0x45d1bf,_0xec25cc){const _0x290161=_0x31976f;try{const _0x13c573=await fetch(_0x45d1bf),_0x1e0761=await _0x13c573[_0x290161(0x150)](),_0x4a374e=window[_0x290161(0x240)][_0x290161(0x261)](_0x1e0761),_0xbb06f4=document['createElement']('a');_0xbb06f4[_0x290161(0x14a)]=_0x4a374e,_0xbb06f4[_0x290161(0x24e)]=_0xec25cc,document['body'][_0x290161(0x108)](_0xbb06f4),_0xbb06f4[_0x290161(0x134)](),document[_0x290161(0x219)]['removeChild'](_0xbb06f4),window[_0x290161(0x240)][_0x290161(0x287)](_0x4a374e);}catch(_0x5cd2f1){showNotification(_0x290161(0x199),'error');}}function copyImage(_0x5dea7b){const _0x222c40=_0x31976f;navigator['clipboard'][_0x222c40(0x295)](_0x5dea7b)[_0x222c40(0xe4)](()=>showNotification('Lien\x20de\x20l\x27image\x20copié\x20dans\x20le\x20presse-papiers!','success'))['catch'](()=>showNotification(_0x222c40(0xbe),_0x222c40(0x281)));}function shareImage(_0x2732bd){const _0x568756=_0x31976f;navigator[_0x568756(0x2ba)]?navigator[_0x568756(0x2ba)]({'title':_0x568756(0x213),'text':_0x568756(0x137),'url':_0x2732bd})[_0x568756(0xe4)](()=>showNotification('Image\x20partagée\x20avec\x20succès!','success'))[_0x568756(0x89)](_0x30ef22=>{const _0x2f60a4=_0x568756;console[_0x2f60a4(0x281)](_0x2f60a4(0xd0),_0x30ef22),showNotification(_0x2f60a4(0x17a),'error');}):copyImage(_0x2732bd);}function pinResponse(_0x4d222f){const _0x230437=_0x31976f,_0x493a4c=_0x4d222f[_0x230437(0xca)](_0x230437(0x1b8))[_0x230437(0x113)],_0x1fd733=_0x493a4c[_0x230437(0x204)]>0x32?_0x493a4c[_0x230437(0x107)](0x0,0x32)+_0x230437(0x24b):_0x493a4c;pinnedResponses[_0x230437(0x192)]({'text':_0x493a4c,'displayText':_0x1fd733}),updatePinnedItems();}function updatePinnedItems(){const _0x55214d=_0x31976f,_0x4ed0be=document[_0x55214d(0x120)](_0x55214d(0x29b));_0x4ed0be[_0x55214d(0x208)]='',pinnedFiles[_0x55214d(0x24f)]((_0x4834df,_0x27d6a7)=>{const _0x504edb=_0x55214d,_0x34faf9=document[_0x504edb(0x1cc)](_0x504edb(0x231));_0x34faf9['className']=_0x504edb(0x202),_0x34faf9[_0x504edb(0x1ca)](_0x504edb(0x272),'file'),_0x34faf9[_0x504edb(0x208)]=_0x504edb(0xac)+(_0x4834df['type'][_0x504edb(0x12b)](_0x504edb(0x10f))?_0x504edb(0xdb):'📄')+_0x504edb(0x258)+_0x4834df[_0x504edb(0x133)]+'\x22>'+_0x4834df[_0x504edb(0x133)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27file\x27,\x20'+_0x27d6a7+_0x504edb(0xf8),_0x4ed0be[_0x504edb(0x108)](_0x34faf9);}),pinnedResponses[_0x55214d(0x24f)]((_0x351f8a,_0x310827)=>{const _0x2afda1=_0x55214d,_0x109cb9=document[_0x2afda1(0x1cc)](_0x2afda1(0x231));_0x109cb9[_0x2afda1(0x211)]=_0x2afda1(0x202),_0x109cb9['setAttribute'](_0x2afda1(0x272),_0x2afda1(0x1f4)),_0x109cb9['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>💬</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22'+_0x351f8a[_0x2afda1(0x22c)]+'\x22>'+_0x351f8a[_0x2afda1(0xf5)]+_0x2afda1(0x243)+_0x310827+')\x22>❌</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x4ed0be[_0x2afda1(0x108)](_0x109cb9);});if(pinnedPrompt){const _0x10ce58=document['createElement'](_0x55214d(0x231));_0x10ce58[_0x55214d(0x211)]='pinned-item',_0x10ce58[_0x55214d(0x1ca)](_0x55214d(0x272),_0x55214d(0x23a)),_0x10ce58[_0x55214d(0x208)]=_0x55214d(0x15f)+pinnedPrompt[_0x55214d(0x12d)]+'\x22>'+pinnedPrompt[_0x55214d(0x12d)]+_0x55214d(0x20b),_0x4ed0be[_0x55214d(0x108)](_0x10ce58);}}function removePinnedItem(_0x67ab3,_0xa1260c){const _0x2e1bb5=_0x31976f;if(_0x67ab3===_0x2e1bb5(0x25c))pinnedFiles[_0x2e1bb5(0xed)](_0xa1260c,0x1);else{if(_0x67ab3==='response')pinnedResponses[_0x2e1bb5(0xed)](_0xa1260c,0x1);else _0x67ab3===_0x2e1bb5(0x23a)&&(pinnedPrompt=null);}updatePinnedItems();}function replyToMessage(_0x2fc654){const _0xb4389e=_0x31976f,_0x3bfabf=_0x2fc654[_0xb4389e(0xca)]('div:first-child')['textContent'],_0x48ed9e=document[_0xb4389e(0x120)]('userInput');_0x48ed9e[_0xb4389e(0x227)]='>\x20'+_0x3bfabf+'\x0a\x0a',_0x48ed9e['focus'](),_0x48ed9e[_0xb4389e(0x190)](_0x48ed9e[_0xb4389e(0x227)][_0xb4389e(0x204)],_0x48ed9e[_0xb4389e(0x227)][_0xb4389e(0x204)]);}function readFileAsBase64(_0x2dabec){return new Promise((_0xfbbea6,_0x32d553)=>{const _0x33e57a=_0x226b,_0x5c055a=new FileReader();_0x5c055a['onload']=()=>_0xfbbea6(_0x5c055a['result'][_0x33e57a(0x180)](',')[0x1]),_0x5c055a[_0x33e57a(0x2ce)]=_0x32d553,_0x5c055a[_0x33e57a(0x93)](_0x2dabec);});}function hasEnoughCredits(_0x19204e,_0xb2d221){const _0x4e8640=_0x31976f,_0x597821=_0xb2d221>0x0?_0xb2d221:0x1;return _0x19204e===_0x4e8640(0x183)||_0x19204e===_0x4e8640(0x170)?currentUser[_0x4e8640(0x26b)]>=_0x597821||currentUser[_0x4e8640(0xe3)]>=_0x597821||hasValidSubscription():currentUser['paidCredits']>=_0x597821||hasValidSubscription();}async function updateCredits(_0x14ee49,_0x2ae9e1){const _0x5acf95=_0x31976f;if(hasValidSubscription()&&!isImageGenerationModel(_0x14ee49))return;const _0x46bb8a=db['ref'](_0x5acf95(0x1d9)+currentUser[_0x5acf95(0xf6)]);try{await _0x46bb8a[_0x5acf95(0x1eb)](_0x15e190=>{const _0x339404=_0x5acf95;if(_0x15e190){if(isImageGenerationModel(_0x14ee49)){if(hasValidSubscription()){const _0x467e4d=_0x15e190[_0x339404(0x19d)]?.['dailyCount']||0x0;_0x467e4d>=0x5&&(_0x15e190[_0x339404(0xe3)]>=0x5?_0x15e190[_0x339404(0xe3)]-=0x5:_0x15e190[_0x339404(0x26b)]=Math[_0x339404(0x26d)](0x0,_0x15e190[_0x339404(0x26b)]-0x5));}else _0x15e190['paidCredits']>=0x5?_0x15e190[_0x339404(0xe3)]-=0x5:_0x15e190[_0x339404(0x26b)]=Math[_0x339404(0x26d)](0x0,_0x15e190[_0x339404(0x26b)]-0x5);}else{if(!hasValidSubscription()){if(_0x14ee49===_0x339404(0x183))_0x15e190[_0x339404(0xe3)]>=_0x2ae9e1?_0x15e190[_0x339404(0xe3)]-=_0x2ae9e1:_0x15e190[_0x339404(0x26b)]-=_0x2ae9e1;else{if(_0x14ee49==='gemini-1.0-pro'){if(_0x15e190[_0x339404(0x26b)]>=_0x2ae9e1)_0x15e190[_0x339404(0x26b)]-=_0x2ae9e1;else{const _0x5c6916=_0x2ae9e1-_0x15e190[_0x339404(0x26b)];_0x15e190[_0x339404(0x26b)]=0x0,_0x15e190[_0x339404(0xe3)]=Math[_0x339404(0x26d)](0x0,_0x15e190['paidCredits']-_0x5c6916);}}else _0x15e190[_0x339404(0xe3)]=Math[_0x339404(0x26d)](0x0,_0x15e190[_0x339404(0xe3)]-_0x2ae9e1);}}}_0x15e190[_0x339404(0x26b)]=Math['max'](0x0,_0x15e190['freeCredits']),_0x15e190[_0x339404(0xe3)]=Math[_0x339404(0x26d)](0x0,_0x15e190['paidCredits']);}return _0x15e190;});const _0x52bd4a=await _0x46bb8a[_0x5acf95(0x212)](_0x5acf95(0x227)),_0xeeed03=_0x52bd4a[_0x5acf95(0x1a3)]();_0xeeed03&&(currentUser[_0x5acf95(0x26b)]=_0xeeed03[_0x5acf95(0x26b)],currentUser[_0x5acf95(0xe3)]=_0xeeed03[_0x5acf95(0xe3)],document[_0x5acf95(0x120)](_0x5acf95(0x26b))[_0x5acf95(0x113)]=currentUser[_0x5acf95(0x26b)],document[_0x5acf95(0x120)](_0x5acf95(0xe3))['textContent']=currentUser[_0x5acf95(0xe3)],currentUser['freeCredits']===0x0&&currentUser['paidCredits']<0x5&&showNotification('Attention\x20:\x20vos\x20crédits\x20sont\x20presque\x20épuisés\x20!','warning'));}catch(_0x29b87e){console[_0x5acf95(0x281)](_0x5acf95(0x259),_0x29b87e),showNotification(_0x5acf95(0x2cc),_0x5acf95(0x281));}}async function addCreditsToUser(_0x525539){const _0x1c0548=_0x31976f,_0x4e6daf=db[_0x1c0548(0x256)](_0x1c0548(0x1d9)+currentUser['username']);await _0x4e6daf[_0x1c0548(0x1eb)](_0x7fabd8=>{return _0x7fabd8&&(_0x7fabd8['paidCredits']+=_0x525539),_0x7fabd8;}),currentUser[_0x1c0548(0xe3)]=(await _0x4e6daf[_0x1c0548(0x1ba)](_0x1c0548(0xe3))['once']('value'))[_0x1c0548(0x1a3)](),document['getElementById'](_0x1c0548(0xe3))[_0x1c0548(0x113)]=currentUser[_0x1c0548(0xe3)];}function copyResponse(_0x4ba4ec){const _0x337752=_0x31976f,_0x3625ae=_0x4ba4ec[_0x337752(0xca)](_0x337752(0x1b8))['textContent'];navigator['clipboard'][_0x337752(0x295)](_0x3625ae)[_0x337752(0xe4)](()=>{const _0x451711=_0x337752;showNotification(_0x451711(0x87),_0x451711(0x197));});}async function exportResponse(_0x2e4e60,_0x3cf5cf){const _0x302560=_0x31976f,_0x58eb98=_0x2e4e60[_0x302560(0xca)](_0x302560(0x1b8))[_0x302560(0x113)];if(_0x3cf5cf===_0x302560(0xb8)){const _0x30049b=await generateWordDoc(_0x58eb98);saveAs(_0x30049b,_0x302560(0xea));}else{if(_0x3cf5cf===_0x302560(0x171)){const _0x46c4f0=await generatePDF(_0x58eb98);saveAs(_0x46c4f0,_0x302560(0x106));}}showNotification('Export\x20en\x20'+_0x3cf5cf[_0x302560(0xa2)]()+_0x302560(0x12a),_0x302560(0x197));}async function generateWordDoc(_0x56811b){const _0x524451=_0x31976f,_0x3cb5fc=_0x524451(0x2af)+_0x56811b+_0x524451(0x20e),_0x3fd50e=new PizZip();_0x3fd50e[_0x524451(0x25c)](_0x524451(0x96),_0x3cb5fc);const _0x11c261=await _0x3fd50e[_0x524451(0x121)]({'type':_0x524451(0x150),'mimeType':_0x524451(0x2d9)});return _0x11c261;}function generatePDF(_0x541ae9){const _0x54fe4d=_0x31976f,{jsPDF:_0x581115}=window[_0x54fe4d(0x1c6)],_0x51dcc7=new _0x581115();_0x51dcc7[_0x54fe4d(0x22e)](0x12),_0x51dcc7[_0x54fe4d(0x22c)]('',0x14,0x14),_0x51dcc7[_0x54fe4d(0x22e)](0xc);const _0x12f88f=_0x51dcc7[_0x54fe4d(0x90)](_0x541ae9,0xaa);let _0x43db66=0x1e;const _0x22cdc4=_0x51dcc7['internal'][_0x54fe4d(0x2b0)][_0x54fe4d(0xe1)];for(let _0x2f503a=0x0;_0x2f503a<_0x12f88f[_0x54fe4d(0x204)];_0x2f503a++){_0x43db66>_0x22cdc4-0x14&&(_0x51dcc7['addPage'](),_0x43db66=0x14),_0x51dcc7[_0x54fe4d(0x22c)](_0x12f88f[_0x2f503a],0x14,_0x43db66),_0x43db66+=0x7;}return _0x51dcc7['output'](_0x54fe4d(0x150));}function shareResponse(_0x10e8d5){const _0x5cc467=_0x31976f,_0x2d25b6=_0x10e8d5['querySelector'](_0x5cc467(0x1b8))['textContent'];navigator['share']?navigator[_0x5cc467(0x2ba)]({'title':'','text':_0x2d25b6})['then'](()=>{const _0x24d37d=_0x5cc467;showNotification('Partage\x20réussi',_0x24d37d(0x197));})[_0x5cc467(0x89)](_0x54c78f=>{const _0x51e7c1=_0x5cc467;console[_0x51e7c1(0x281)]('Erreur\x20lors\x20du\x20partage:',_0x54c78f),showNotification('Erreur\x20lors\x20du\x20partage',_0x51e7c1(0x281));}):showNotification(_0x5cc467(0x179),_0x5cc467(0x281));}function hasValidSubscription(){const _0x2af80d=_0x31976f;if(!currentUser[_0x2af80d(0xe2)]||!currentUser[_0x2af80d(0x11c)])return![];return new Date()<new Date(currentUser['subscriptionEndDate']);}function buySubscription(){const _0x307596=_0x31976f,_0x268f67=document[_0x307596(0x120)](_0x307596(0x1fa))['value'];if(!_0x268f67){showNotification(_0x307596(0x28d),_0x307596(0x281));return;}const _0xeeee16={'24h':0x1f4,'3d':0x4b0,'7d':0x960,'30d':0x1f40,'3m':0x4e20},_0xbbf88=_0xeeee16[_0x268f67];var _0x6abbf5=FedaPay[_0x307596(0x2ad)]({'public_key':_0x307596(0x83),'transaction':{'amount':_0xbbf88,'description':'Achat\x20d\x27un\x20forfait\x20'+_0x268f67+'\x20pour\x20Eduque\x20moi'},'customer':{'email':_0x307596(0x161)},'onComplete':async function(_0x56d78c){const _0x2153a2=_0x307596;if(_0x56d78c[_0x2153a2(0x152)]===FedaPay[_0x2153a2(0x116)]){const _0x5d38ea={'id':_0x56d78c['id'],'description':_0x2153a2(0x84)+_0x268f67+_0x2153a2(0x288),'amount':_0xbbf88};await activateSubscription(_0x268f67),showInvoiceDetails(_0x5d38ea),showNotification(_0x2153a2(0x139)+_0x268f67+_0x2153a2(0x94),_0x2153a2(0x197)),await checkFirstPurchaseAndRewardReferrer(currentUser[_0x2153a2(0xf6)],_0xbbf88);}else showNotification(_0x2153a2(0x29f),_0x2153a2(0x281));}});_0x6abbf5[_0x307596(0x1f1)]();}async function activateSubscription(_0x9e61f2){const _0x543314=_0x31976f,_0x2f5f65={'24h':0x1,'3d':0x3,'7d':0x7,'30d':0x1e,'3m':0x5a},_0x4fcfd3=_0x2f5f65[_0x9e61f2],_0x15b160=new Date();_0x15b160[_0x543314(0x149)](_0x15b160['getDate']()+_0x4fcfd3),currentUser[_0x543314(0xe2)]=_0x9e61f2,currentUser[_0x543314(0x11c)]=_0x15b160[_0x543314(0x95)](),await syncUserData(),document['getElementById'](_0x543314(0xe2))[_0x543314(0x113)]=_0x9e61f2;}function buyCredits(){const _0xe9c9c6=_0x31976f,_0x50f5b2=document[_0xe9c9c6(0x120)](_0xe9c9c6(0x1e5))[_0xe9c9c6(0x227)];if(!_0x50f5b2){showNotification(_0xe9c9c6(0x127),_0xe9c9c6(0x281));return;}const _0x8a98e9={'10':0xc8,'100':0x3e8,'500':0x1194,'1000':0x1f40},_0x3bfc21=_0x8a98e9[_0x50f5b2];var _0x13532e=FedaPay['init']({'public_key':_0xe9c9c6(0x83),'transaction':{'amount':_0x3bfc21,'description':_0xe9c9c6(0xd3)+_0x50f5b2+'\x20crédits\x20pour\x20Eduque\x20moi'},'customer':{'email':_0xe9c9c6(0x161)},'onComplete':async function(_0x1142f6){const _0x1324ae=_0xe9c9c6;if(_0x1142f6['reason']===FedaPay[_0x1324ae(0x116)]){const _0x3d968d={'id':_0x1142f6['id'],'description':'Achat\x20de\x20'+_0x50f5b2+'\x20crédits\x20pour\x20Eduque\x20moi','amount':_0x3bfc21};await addCreditsToUser(parseInt(_0x50f5b2)),showInvoiceDetails(_0x3d968d),showNotification(_0x50f5b2+_0x1324ae(0x1e6),'success'),await checkFirstPurchaseAndRewardReferrer(currentUser[_0x1324ae(0xf6)],_0x3bfc21);}else showNotification('Le\x20paiement\x20a\x20été\x20annulé\x20ou\x20a\x20échoué.',_0x1324ae(0x281));}});_0x13532e[_0xe9c9c6(0x1f1)]();}async function checkFirstPurchaseAndRewardReferrer(_0x143219,_0x27e99d){const _0x1951aa=_0x31976f,_0x2879ee=db[_0x1951aa(0x256)](_0x1951aa(0x1d9)+_0x143219),_0x1c1428=await _0x2879ee[_0x1951aa(0x212)](_0x1951aa(0x227)),_0x451f39=_0x1c1428[_0x1951aa(0x1a3)]();if(_0x451f39&&!_0x451f39[_0x1951aa(0x2a2)]){await _0x2879ee[_0x1951aa(0x1e2)]({'firstPurchase':!![]});if(_0x451f39['referredBy']){const _0x4051d4=await db['ref'](_0x1951aa(0x1b5))['orderByChild'](_0x1951aa(0x245))[_0x1951aa(0xce)](_0x451f39[_0x1951aa(0x148)])[_0x1951aa(0x212)](_0x1951aa(0x227)),_0x16fe9f=_0x4051d4['val']();if(_0x16fe9f){const _0x803c6e=Object[_0x1951aa(0x273)](_0x16fe9f)[0x0],_0xa2e6a3=db['ref'](_0x1951aa(0x1d9)+_0x803c6e);await _0xa2e6a3[_0x1951aa(0x1eb)](_0x6b1c30=>{const _0xb1b4c2=_0x1951aa;return _0x6b1c30&&(_0x6b1c30[_0xb1b4c2(0xe3)]=(_0x6b1c30[_0xb1b4c2(0xe3)]||0x0)+0xa,_0x6b1c30[_0xb1b4c2(0x132)]&&_0x6b1c30['referrals'][_0x143219]&&(_0x6b1c30['referrals'][_0x143219][_0xb1b4c2(0x1ac)]=!![])),_0x6b1c30;}),await updateReferralStats(_0x803c6e),showNotification(_0x1951aa(0x277)+_0x143219+'\x20a\x20reçu\x2010\x20crédits\x20pour\x20le\x20premier\x20achat\x20de\x20son\x20filleul\x20!',_0x1951aa(0x197));}}}}function getShareMessage(_0x3d408f){const _0xd566ef=_0x31976f;return encodeURIComponent(_0xd566ef(0x276)+_0x3d408f+'\x0a\x0aPS\x20:\x20En\x20utilisant\x20mon\x20lien,\x20vous\x20me\x20donnez\x20un\x20petit\x20coup\x20de\x20pouce.\x20Mais\x20chut,\x20c\x27est\x20notre\x20secret\x20!\x20😉');}function shareOnFacebook(){const _0x12deaf=_0x31976f,_0x5e1dc2=document[_0x12deaf(0x120)]('referralLink')[_0x12deaf(0x227)],_0x9b40f7=getShareMessage(_0x5e1dc2);window['open'](_0x12deaf(0x20d)+_0x5e1dc2+'\x22e='+_0x9b40f7,_0x12deaf(0x1ec));}function shareOnTwitter(){const _0x35aa39=_0x31976f,_0xb12d4e=document[_0x35aa39(0x120)](_0x35aa39(0xfe))[_0x35aa39(0x227)],_0x44f91c=getShareMessage(_0xb12d4e);window['open']('https://twitter.com/intent/tweet?url='+_0xb12d4e+'&text='+_0x44f91c,_0x35aa39(0x1ec));}function shareOnLinkedIn(){const _0x342338=_0x31976f,_0xdb3da0=document[_0x342338(0x120)](_0x342338(0xfe))[_0x342338(0x227)],_0x4617cd=getShareMessage(_0xdb3da0);window[_0x342338(0x1f1)](_0x342338(0xcc)+_0xdb3da0+_0x342338(0x216)+_0x4617cd,'_blank');}function shareOnWhatsApp(){const _0x5edadd=_0x31976f,_0x4fb999=document['getElementById']('referralLink')[_0x5edadd(0x227)],_0x162970=getShareMessage(_0x4fb999);window['open']('https://wa.me/?text='+_0x162970,'_blank');}function copyReferralLink(){const _0x3a6a70=_0x31976f,_0x1848d1=document['getElementById'](_0x3a6a70(0xfe));_0x1848d1[_0x3a6a70(0x1fe)](),document[_0x3a6a70(0x27a)]('copy'),showNotification('Lien\x20de\x20partage\x20copié\x20!',_0x3a6a70(0x197));}function showNotification(_0x57ba8a,_0x24cdb9){const _0x36ba36=_0x31976f,_0x57d21d=document[_0x36ba36(0x1cc)]('div');_0x57d21d[_0x36ba36(0x113)]=_0x57ba8a,_0x57d21d[_0x36ba36(0x211)]=_0x36ba36(0x222)+_0x24cdb9,document[_0x36ba36(0x219)][_0x36ba36(0x108)](_0x57d21d),setTimeout(()=>{const _0xc874ce=_0x36ba36;_0x57d21d[_0xc874ce(0x144)][_0xc874ce(0x1f6)](_0xc874ce(0x128)),setTimeout(()=>{const _0x5aa4b9=_0xc874ce;_0x57d21d[_0x5aa4b9(0x144)][_0x5aa4b9(0x9c)](_0x5aa4b9(0x128)),setTimeout(()=>{_0x57d21d['remove']();},0x12c);},0xbb8);},0x64);}function showPaymentNotification(_0x44c46f){const _0x18642d=_0x31976f,_0x11bc6f=document[_0x18642d(0x1cc)](_0x18642d(0x231));_0x11bc6f[_0x18642d(0x211)]=_0x18642d(0x19c),_0x11bc6f[_0x18642d(0x208)]=_0x18642d(0x2c1)+_0x44c46f+_0x18642d(0x20c),document[_0x18642d(0x219)][_0x18642d(0x108)](_0x11bc6f),setTimeout(()=>{const _0x188316=_0x18642d;_0x11bc6f[_0x188316(0x144)][_0x188316(0x1f6)](_0x188316(0x128)),setTimeout(()=>{const _0x439822=_0x188316;_0x11bc6f[_0x439822(0x144)][_0x439822(0x9c)](_0x439822(0x128)),setTimeout(()=>{_0x11bc6f['remove']();},0x12c);},0x2710);},0x64);}async function showPaymentNotificationWithFreeOption(_0x149a73){return new Promise(_0x8d48d1=>{const _0xce9a02=_0x226b,_0x19adcc=document[_0xce9a02(0x1cc)](_0xce9a02(0x231));_0x19adcc[_0xce9a02(0x211)]=_0xce9a02(0x19c),_0x19adcc[_0xce9a02(0x208)]=_0xce9a02(0x21c)+_0x149a73+'<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27free\x27)\x22>Utiliser\x20le\x20modèle\x20gratuit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27subscription\x27)\x22>Acheter\x20un\x20abonnement</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27credits\x27)\x22>Acheter\x20des\x20crédits</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27cancel\x27)\x22>Annuler</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0xce9a02(0x219)][_0xce9a02(0x108)](_0x19adcc),window[_0xce9a02(0x1ad)]=function(_0x3113d1){const _0x353950=_0xce9a02;_0x19adcc[_0x353950(0x9c)](),_0x8d48d1(_0x3113d1);},setTimeout(()=>{const _0x2983f3=_0xce9a02;_0x19adcc[_0x2983f3(0x144)][_0x2983f3(0x1f6)](_0x2983f3(0x128));},0x64);});}function toggleTheme(){const _0x2509a2=_0x31976f,_0xcb4384=document['body'],_0x3233c8=_0xcb4384['getAttribute']('data-theme'),_0x21d4b5=_0x3233c8===_0x2509a2(0x266)?_0x2509a2(0x177):_0x2509a2(0x266);_0xcb4384['setAttribute'](_0x2509a2(0x157),_0x21d4b5),localStorage[_0x2509a2(0x153)](_0x2509a2(0x8b),_0x21d4b5),updateThemeIcon(_0x21d4b5),document[_0x2509a2(0xca)](_0x2509a2(0x189))[_0x2509a2(0x1ca)](_0x2509a2(0x11d),_0x21d4b5);}function updateThemeIcon(_0x421d0e){const _0x329eda=_0x31976f,_0x3e9116=document['querySelector'](_0x329eda(0x17d));_0x3e9116['className']=_0x421d0e===_0x329eda(0x266)?_0x329eda(0x1e9):_0x329eda(0xeb);}function toggleSidebar(){const _0x2147a6=_0x31976f,_0x2349e0=document[_0x2147a6(0xca)](_0x2147a6(0x88)),_0x2a071f=document[_0x2147a6(0xca)](_0x2147a6(0x270));_0x2349e0[_0x2147a6(0x144)][_0x2147a6(0x230)](_0x2147a6(0x2d1)),_0x2a071f[_0x2147a6(0x144)][_0x2147a6(0x230)](_0x2147a6(0x1cd)),localStorage[_0x2147a6(0x153)](_0x2147a6(0x1fd),_0x2349e0[_0x2147a6(0x144)]['contains'](_0x2147a6(0x2d1)));}function saveConversation(){const _0x5001e1=_0x31976f;if(!currentUser)return;const _0x22b0d2=currentConversation['id']||Date[_0x5001e1(0x1d4)]()[_0x5001e1(0xc8)]();conversations[_0x22b0d2]=currentConversation,currentConversation['id']=_0x22b0d2,localStorage[_0x5001e1(0x153)](_0x5001e1(0x22f)+currentUser['username'],JSON[_0x5001e1(0x2dc)](conversations)),updateConversationHistory();}function loadConversationHistory(){const _0x59d707=_0x31976f;if(!currentUser)return;const _0x56d991=localStorage['getItem'](_0x59d707(0x22f)+currentUser[_0x59d707(0xf6)]);_0x56d991&&(conversations=JSON[_0x59d707(0x23c)](_0x56d991),updateConversationHistory());}function updateConversationHistory(){const _0x529647=_0x31976f,_0x28aef4=document[_0x529647(0x120)](_0x529647(0x80));_0x28aef4[_0x529647(0x208)]='';const _0xa13200=Object[_0x529647(0x273)](conversations)['sort']((_0x46da18,_0x5c7fef)=>parseInt(_0x5c7fef)-parseInt(_0x46da18));_0xa13200['forEach'](_0xd00c3b=>{const _0x50a94b=_0x529647,_0x405bbc=conversations[_0xd00c3b],_0x3651c7=document[_0x50a94b(0x1cc)](_0x50a94b(0x231));_0x3651c7['className']=_0x50a94b(0x17c);const _0x47caec=document[_0x50a94b(0x1cc)](_0x50a94b(0x16a));_0x47caec[_0x50a94b(0x113)]=_0x50a94b(0x1b3)+new Date(parseInt(_0xd00c3b))[_0x50a94b(0x22b)](),_0x47caec[_0x50a94b(0x27d)]=()=>loadConversation(_0xd00c3b);const _0xaa21fa=document[_0x50a94b(0x1cc)]('i');_0xaa21fa[_0x50a94b(0x211)]=_0x50a94b(0x2c4),_0xaa21fa['onclick']=_0xb39534=>{const _0x3f9ef5=_0x50a94b;_0xb39534[_0x3f9ef5(0x1c4)](),deleteConversation(_0xd00c3b);},_0x3651c7['appendChild'](_0x47caec),_0x3651c7[_0x50a94b(0x108)](_0xaa21fa),_0x28aef4[_0x50a94b(0x108)](_0x3651c7);});}function deleteConversation(_0x2418be){const _0x656278=_0x31976f;confirm(_0x656278(0x297))&&(delete conversations[_0x2418be],localStorage[_0x656278(0x153)]('conversations_'+currentUser[_0x656278(0xf6)],JSON[_0x656278(0x2dc)](conversations)),updateConversationHistory());}function createNewConversation(){const _0xe29674=_0x31976f;currentConversation['length']>0x0&&saveConversation();currentConversation=[];const _0x2aa972=document[_0xe29674(0x120)]('messageContainer');_0x2aa972[_0xe29674(0x208)]='',updateConversationHistory(),addMessageToChat('ai',_0xe29674(0x82)),_0x2aa972[_0xe29674(0x1bf)]=0x0,document[_0xe29674(0x120)](_0xe29674(0xee))[_0xe29674(0x10b)]();}function loadConversation(_0x37bcee){const _0x2d7c1c=_0x31976f;currentConversation[_0x2d7c1c(0x204)]>0x0&&currentConversation['id']!==_0x37bcee&&saveConversation();currentConversation=conversations[_0x37bcee],currentConversation['id']=_0x37bcee;const _0x39619e=document[_0x2d7c1c(0x120)](_0x2d7c1c(0x2ca));_0x39619e[_0x2d7c1c(0x208)]='',currentConversation[_0x2d7c1c(0x24f)](_0x2d126d=>{const _0x578de2=_0x2d7c1c;addMessageToChat(_0x2d126d[_0x578de2(0x124)],_0x2d126d[_0x578de2(0x11d)]);}),_0x39619e[_0x2d7c1c(0x1bf)]=0x0;}async function syncUserData(){const _0x3ede88=_0x31976f;if(!currentUser)return;const _0x39ba40={'freeCredits':currentUser[_0x3ede88(0x26b)]||0x0,'paidCredits':currentUser[_0x3ede88(0xe3)]||0x0,'lastFreeCreditsReset':currentUser[_0x3ede88(0x24a)]||new Date()[_0x3ede88(0x95)]()};currentUser[_0x3ede88(0xe2)]&&(_0x39ba40[_0x3ede88(0xe2)]=currentUser[_0x3ede88(0xe2)]);currentUser[_0x3ede88(0x11c)]&&(_0x39ba40[_0x3ede88(0x11c)]=currentUser[_0x3ede88(0x11c)]);const _0x30e24e=db[_0x3ede88(0x256)]('users/'+currentUser[_0x3ede88(0xf6)]);try{await _0x30e24e[_0x3ede88(0x1e2)](_0x39ba40),console[_0x3ede88(0x282)](_0x3ede88(0x1a5),_0x39ba40);}catch(_0x408f80){console[_0x3ede88(0x281)]('Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20des\x20données\x20utilisateur:',_0x408f80),showNotification(_0x3ede88(0xc1),_0x3ede88(0x281));}}function adjustTextareaHeight(){const _0x28357e=_0x31976f,_0x16142f=document[_0x28357e(0x120)]('userInput');_0x16142f['style'][_0x28357e(0xe1)]=_0x28357e(0x1a2),_0x16142f[_0x28357e(0x1c9)][_0x28357e(0xe1)]=_0x16142f['scrollHeight']+'px';}function resetTextareaHeight(){const _0x58762c=_0x31976f,_0x3010b6=document[_0x58762c(0x120)]('userInput');_0x3010b6[_0x58762c(0x1c9)][_0x58762c(0xe1)]=_0x58762c(0x1a2);}async function attemptAutoLogin(){const _0x4fddb1=_0x31976f,_0x4e6cd7=getStoredLoginInfo();if(_0x4e6cd7[_0x4fddb1(0xf6)]&&_0x4e6cd7[_0x4fddb1(0x104)])try{const _0x2f6665=db['ref']('users/'+_0x4e6cd7['username']),_0x95dc5e=await _0x2f6665['once'](_0x4fddb1(0x227));if(_0x95dc5e[_0x4fddb1(0x1d1)]()&&_0x95dc5e[_0x4fddb1(0x1a3)]()[_0x4fddb1(0x104)]===_0x4e6cd7[_0x4fddb1(0x104)]){const _0x514f82=_0x95dc5e[_0x4fddb1(0x1a3)]();currentUser={'username':_0x4e6cd7[_0x4fddb1(0xf6)],'freeCredits':_0x514f82[_0x4fddb1(0x26b)],'paidCredits':_0x514f82[_0x4fddb1(0xe3)],'subscription':_0x514f82[_0x4fddb1(0xe2)],'subscriptionEndDate':_0x514f82['subscriptionEndDate'],'lastFreeCreditsReset':_0x514f82[_0x4fddb1(0x24a)]},await resetFreeCreditsIfNeeded(),updateUIForLoggedInUser(),console[_0x4fddb1(0x282)](_0x4fddb1(0xf4));}else clearLoginInfo(),console['log'](_0x4fddb1(0xc7));}catch(_0x2ecf44){console[_0x4fddb1(0x281)](_0x4fddb1(0xcf),_0x2ecf44),clearLoginInfo();}}function saveSelectedModel(){const _0x813187=_0x31976f,_0x45889e=document['getElementById'](_0x813187(0x155))[_0x813187(0x227)];localStorage['setItem'](_0x813187(0x1e4),_0x45889e);}function loadSelectedModel(){const _0xafdeb1=localStorage['getItem']('selectedModel');_0xafdeb1&&(document['getElementById']('modelSelect')['value']=_0xafdeb1);}function showUpgradeButton(_0x3a5b6c){const _0x509038=_0x31976f,_0x47caef=document[_0x509038(0x1cc)](_0x509038(0x198));_0x47caef[_0x509038(0x113)]='Passer\x20à\x20un\x20modèle\x20avancé',_0x47caef[_0x509038(0x211)]=_0x509038(0xa6),_0x47caef[_0x509038(0x27d)]=()=>{const _0x5b4a6f=_0x509038;hasValidSubscription()||currentUser[_0x5b4a6f(0xe3)]>0x0?(document[_0x5b4a6f(0x120)]('modelSelect')[_0x5b4a6f(0x227)]='gemini-1.5-pro',showNotification(_0x5b4a6f(0x151),_0x5b4a6f(0x197))):showPaymentNotification('Vous\x20avez\x20besoin\x20d\x27un\x20abonnement\x20ou\x20de\x20crédits\x20payants\x20pour\x20utiliser\x20ce\x20modèle.');},_0x3a5b6c[_0x509038(0x108)](_0x47caef);}function copyUserMessage(_0x5a0a94){const _0x5d5256=_0x31976f;let _0x5a7fe9='';for(const _0x18af1d of _0x5a0a94[_0x5d5256(0x2bb)]){if(_0x18af1d[_0x5d5256(0x156)]==='P')_0x5a7fe9+=_0x18af1d['textContent']+'\x0a';else{if(_0x18af1d[_0x5d5256(0x144)]['contains'](_0x5d5256(0x109))){const _0x10671a=Array[_0x5d5256(0xd1)](_0x18af1d['querySelectorAll'](_0x5d5256(0x224)))['map'](_0x513442=>_0x513442[_0x5d5256(0x113)])[_0x5d5256(0x25b)](',\x20');_0x5a7fe9+=_0x5d5256(0xc6)+_0x10671a+'\x0a';}else{if(_0x18af1d['classList'][_0x5d5256(0x269)](_0x5d5256(0xb1))){const _0x287c05=Array['from'](_0x18af1d[_0x5d5256(0xc9)](_0x5d5256(0x2c9)))[_0x5d5256(0x284)](_0x338d11=>_0x338d11[_0x5d5256(0x113)])[_0x5d5256(0x25b)]('\x0a');_0x5a7fe9+=_0x5d5256(0xbc)+_0x287c05+'\x0a';}else{if(_0x18af1d[_0x5d5256(0x144)][_0x5d5256(0x269)](_0x5d5256(0x2c3))){const _0x42eb7e=_0x18af1d[_0x5d5256(0xca)](_0x5d5256(0x85))['textContent'];_0x5a7fe9+='Prompt\x20épinglé:\x20'+_0x42eb7e+'\x0a';}}}}}navigator[_0x5d5256(0x142)][_0x5d5256(0x295)](_0x5a7fe9[_0x5d5256(0x193)]())[_0x5d5256(0xe4)](()=>{const _0x43c7c0=_0x5d5256;showNotification(_0x43c7c0(0x2d4),'success');});}function animateResponse(_0xff1ce2,_0x4c2f7c){const _0x3a5b50=_0x31976f;let _0x2eb167=0x0;_0xff1ce2[_0x3a5b50(0x113)]='';const _0xfeeaf1=setInterval(()=>{const _0x1ae7b6=_0x3a5b50;_0x2eb167<_0x4c2f7c[_0x1ae7b6(0x204)]?(_0xff1ce2['textContent']+=_0x4c2f7c[_0x2eb167],_0x2eb167++):clearInterval(_0xfeeaf1);},0x1);}function loadPromptCategories(){const _0x14e9a5=_0x31976f,_0x2c178a=document[_0x14e9a5(0x120)](_0x14e9a5(0x290));_0x2c178a[_0x14e9a5(0x208)]='',db[_0x14e9a5(0x256)]('prompts')[_0x14e9a5(0x212)]('value',_0x2f0c78=>{const _0xadda9=_0x14e9a5;prompts=_0x2f0c78[_0xadda9(0x1a3)]()||{};const _0x2b5fcc=[...new Set(Object[_0xadda9(0x17b)](prompts)[_0xadda9(0x284)](_0x2ec928=>_0x2ec928[_0xadda9(0x1c2)]))];_0x2b5fcc[_0xadda9(0x24f)](_0x926327=>{const _0x303d1a=_0xadda9,_0x47a104=document[_0x303d1a(0x1cc)]('li');_0x47a104[_0x303d1a(0x113)]=_0x926327,_0x47a104[_0x303d1a(0x27d)]=()=>{const _0x1d3d58=_0x303d1a;document['querySelectorAll'](_0x1d3d58(0xd4))[_0x1d3d58(0x24f)](_0x55190f=>_0x55190f['classList'][_0x1d3d58(0x9c)](_0x1d3d58(0x114))),_0x47a104['classList']['add'](_0x1d3d58(0x114)),loadPromptsForCategory(_0x926327);},_0x2c178a[_0x303d1a(0x108)](_0x47a104);}),_0x2b5fcc[_0xadda9(0x204)]>0x0&&(loadPromptsForCategory(_0x2b5fcc[0x0]),_0x2c178a[_0xadda9(0x279)][_0xadda9(0x144)][_0xadda9(0x1f6)](_0xadda9(0x114)));});}function loadPromptsForCategory(_0x5dea45){const _0x59ca70=_0x31976f,_0x53fe5b=document[_0x59ca70(0x120)]('promptList');_0x53fe5b[_0x59ca70(0x208)]='',Object[_0x59ca70(0x1cb)](prompts)['forEach'](([_0x33db42,_0x2d260f])=>{const _0x244e57=_0x59ca70;if(_0x2d260f[_0x244e57(0x1c2)]===_0x5dea45){const _0x251cac=document[_0x244e57(0x1cc)]('li');_0x251cac['innerHTML']=_0x244e57(0x130)+_0x33db42+_0x244e57(0xfa)+JSON['stringify'](_0x2d260f)+_0x244e57(0x257)+_0x2d260f[_0x244e57(0x12d)]+_0x244e57(0x143),_0x53fe5b[_0x244e57(0x108)](_0x251cac);}});}function selectPrompt(_0x5def7c,_0x1dbc18){const _0x4325d6=_0x31976f,_0x373cf2=JSON['parse'](_0x1dbc18[_0x4325d6(0x15d)][_0x4325d6(0x23a)]);pinnedPrompt={'id':_0x5def7c,..._0x373cf2},updatePinnedPrompt(),closePromptModal(),showNotification('Prompt\x20sélectionné',_0x4325d6(0x197));const _0xb964c=document['getElementById'](_0x4325d6(0xee));_0xb964c[_0x4325d6(0x86)]=pinnedPrompt[_0x4325d6(0x239)]||_0x4325d6(0x27e),adjustTextareaHeight();}function closePromptModal(){const _0x14c609=_0x31976f;document['getElementById']('promptListModal')[_0x14c609(0x1c9)][_0x14c609(0x16e)]=_0x14c609(0x9b);}function togglePromptList(){const _0x2cc95e=_0x31976f,_0x3846ec=document[_0x2cc95e(0x120)](_0x2cc95e(0x188));_0x3846ec['style'][_0x2cc95e(0x16e)]='block',loadPromptCategories();}function updatePinnedPrompt(){const _0x36edb1=_0x31976f,_0x1b84e6=document['getElementById']('pinnedItems'),_0x56f19a=_0x1b84e6[_0x36edb1(0xca)](_0x36edb1(0x10d));_0x56f19a&&_0x56f19a['remove']();if(pinnedPrompt){const _0x107e7b=document['createElement'](_0x36edb1(0x231));_0x107e7b[_0x36edb1(0x211)]=_0x36edb1(0x202),_0x107e7b[_0x36edb1(0x1ca)](_0x36edb1(0x272),'prompt'),_0x107e7b[_0x36edb1(0x208)]=_0x36edb1(0x15f)+pinnedPrompt[_0x36edb1(0x12d)]+'\x22>'+pinnedPrompt[_0x36edb1(0x12d)]+_0x36edb1(0x172),_0x1b84e6[_0x36edb1(0x108)](_0x107e7b);}}function removePinnedPrompt(){pinnedPrompt=null,updatePinnedPrompt();}function _0x2d24(){const _0x536243=['auto','val','getCurrentApi','Données\x20utilisateur\x20mises\x20à\x20jour\x20avec\x20succès:','5hKfkEf','[Prompt\x20épinglé:\x20','load','\x20échouée:','Erreur\x20lors\x20du\x20chargement\x20de\x20la\x20liste\x20des\x20clés\x20API:','copyReferralLink','isActive','resolveNotification','.pdf','replace','text/plain','addEventListener','pushState','Conversation\x20du\x20','rate\x20limit','users','getBoundingClientRect','Erreur\x20lors\x20de\x20la\x20connexion:','div:first-child','attachTo','child','Image\x20Réaliste','getNextUnusedKey','.modal','search','scrollTop','Facture\x20pour\x20:\x20','Génération\x20gratuite\x20(abonnement)','category','pow','stopPropagation','usedKeys','jspdf','Date\x20:\x20','readAsArrayBuffer','style','setAttribute','entries','createElement','sidebar-visible','prompt-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loading-spinner\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>','url','exists','Facture\x20Eduque\x20moi','menu','now','.close','next','loginUsername','Erreur\x20lors\x20de\x20la\x20conversion\x20du\x20fichier\x20Word.','users/','indexOf','delete','Échec\x20après\x20','516798rtpQpR','selectionStart','clear','absolute','toggleTheme','update','Réponse\x20actualisée\x20avec\x20succès','selectedModel','creditSelect','\x20crédits\x20ont\x20été\x20ajoutés\x20à\x20votre\x20compte.','buySubscription','imageSizeSelect','fas\x20fa-sun','input','transaction','_blank','Tu\x20es\x20Eduque\x20moi,\x20un\x20assistant\x20IA\x20développé\x20par\x20Evisions.\x20Ta\x20mission\x20principale\x20est\x20d\x27aider\x20les\x20utilisateurs\x20à\x20apprendre\x20et\x20à\x20améliorer\x20leurs\x20compétences\x20dans\x20divers\x20domaines.\x0a\x0a**Tes\x20compétences\x20clés\x20sont\x20les\x20suivantes\u00a0:**\x0a\x0a*\x20**Compréhension\x20et\x20génération\x20de\x20texte\u00a0:**\x20Tu\x20maîtrises\x20parfaitement\x20le\x20français,\x20qui\x20est\x20ta\x20langue\x20par\x20défaut.\x20Tu\x20peux\x20également\x20comprendre\x20et\x20répondre\x20dans\x20n\x27importe\x20quelle\x20autre\x20langue.\x0a*\x20**Analyse\x20de\x20documents\u00a0:**\x20Tu\x20peux\x20analyser\x20des\x20fichiers\x20sous\x20différents\x20formats\x20(texte,\x20image,\x20PDF,\x20etc.)\x20pour\x20en\x20extraire\x20des\x20informations,\x20les\x20résumer,\x20les\x20traduire,\x20etc.\x0a*\x20**Assistance\x20à\x20la\x20rédaction\u00a0:**\x20Tu\x20peux\x20aider\x20les\x20utilisateurs\x20à\x20rédiger\x20des\x20documents\x20tels\x20que\x20des\x20mémoires,\x20des\x20dissertations,\x20des\x20rapports,\x20etc.\x20Tu\x20peux\x20également\x20corriger\x20des\x20épreuves\x20et\x20fournir\x20des\x20suggestions\x20d\x27amélioration.\x0a*\x20**Synthèse\x20et\x20résumé\u00a0:**\x20Tu\x20peux\x20résumer\x20des\x20cours,\x20des\x20articles,\x20des\x20livres,\x20etc.\x20et\x20en\x20extraire\x20les\x20points\x20clés.\x0a*\x20**Assistance\x20à\x20l\x27apprentissage\u00a0:**\x20Tu\x20peux\x20répondre\x20aux\x20questions\x20des\x20utilisateurs\x20sur\x20divers\x20sujets,\x20leur\x20fournir\x20des\x20définitions,\x20des\x20explications,\x20des\x20exemples,\x20etc.\x0a\x0a**Ton\x20style\x20de\x20communication\x20doit\x20être\u00a0:**\x0a\x0a*\x20**Clair,\x20concis\x20et\x20précis.**\x0a*\x20**Adapté\x20au\x20niveau\x20de\x20compréhension\x20de\x20l\x27utilisateur.**\x0a*\x20**Amical\x20et\x20encourageant.**\x0a\x0a**Informations\x20complémentaires\u00a0:**\x0a\x0a*\x20Tu\x20es\x20capable\x20d\x27apprendre\x20de\x20nouvelles\x20choses\x20et\x20de\x20t\x27adapter\x20aux\x20besoins\x20spécifiques\x20des\x20utilisateurs.\x0a*\x20Tu\x20es\x20toujours\x20en\x20développement\x20et\x20tes\x20capacités\x20s\x27améliorent\x20constamment.\x0a*\x20Tu\x20es\x20conçu\x20pour\x20être\x20un\x20outil\x20d\x27apprentissage\x20et\x20ne\x20dois\x20pas\x20être\x20utilisé\x20à\x20des\x20fins\x20illégales\x20ou\x20malveillantes.\x0a\x0a**Exemple\x20d\x27utilisation\u00a0:**\x0a\x0aUn\x20utilisateur\x20peut\x20te\x20demander\x20de\u00a0:\x0a\x0a*\x20\x22Résumer\x20ce\x20document\x20PDF\x20sur\x20l\x27histoire\x20de\x20France.\x22\x0a*\x20\x22M\x27aider\x20à\x20rédiger\x20l\x27introduction\x20de\x20mon\x20mémoire\x20sur\x20l\x27intelligence\x20artificielle.\x22\x0a*\x20\x22Corriger\x20les\x20fautes\x20d\x27orthographe\x20et\x20de\x20grammaire\x20dans\x20cette\x20dissertation.\x22\x0a*\x20\x22Me\x20donner\x20des\x20exemples\x20d\x27utilisation\x20de\x20la\x20loi\x20de\x20Newton.\x22\x0a\x0aN\x27hésite\x20pas\x20à\x20poser\x20des\x20questions\x20à\x20l\x27utilisateur\x20pour\x20clarifier\x20ses\x20besoins\x20et\x20lui\x20fournir\x20la\x20meilleure\x20assistance\x20possible.','recraft-','referralModal','quota\x20exceeded','open','pinned-response','.\x20Veuillez\x20réessayer.','response','database','add','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedFile(','Rotation\x20de\x20la\x20clé\x20API\x20effectuée','info','subscriptionSelect','27QnHUCa','Ce\x20modèle\x20nécessite\x20un\x20abonnement\x20ou\x20des\x20crédits\x20payants.','sidebarState','select','getFullYear','application/msword','tour-icon','pinned-item','image','length','sendMessage','Analyse\x20le\x20fichier\x20','true','innerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>Détails\x20de\x20la\x20facture</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Date:</strong>\x20','Connexion\x20réussie\x20!','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27prompt\x27)\x22>❌</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22buySubscription()\x22>Acheter\x20un\x20abonnement</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22buyCredits()\x22>Acheter\x20des\x20crédits</button>\x0a\x20\x20\x20\x20','https://www.facebook.com/sharer/sharer.php?u=','</w:t>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:r>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</w:document>\x0a\x20\x20\x20\x20','orderByChild','block','className','once','Image\x20générée\x20par\x20Eduque\x20moi','La\x20liste\x20des\x20clés\x20API\x20est\x20vide.','Déconnexion\x20réussie.','&title=Boostez\x20votre\x20apprentissage\x20avec\x20Eduque\x20moi&summary=','fas\x20fa-image','files','body','<tr>','Erreur\x20lors\x20de\x20l\x27initialisation\x20du\x20gestionnaire\x20API:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Suivant','Échec\x20de\x20la\x20requête\x20avec\x20la\x20clé\x20API\x20','Erreur\x20lors\x20de\x20la\x20conversion\x20du\x20fichier\x20Word\x20:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyResponse(this.parentNode.parentNode)\x22\x20title=\x22Copier\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22exportResponse(this.parentNode.parentNode,\x20\x27pdf\x27)\x22\x20title=\x22Exporter\x20en\x20PDF\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22shareResponse(this.parentNode.parentNode)\x22\x20title=\x22Partager\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-share-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22pinResponse(this.parentNode.parentNode)\x22\x20title=\x22Épingler\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-thumbtack\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resubmitRequest(this.parentNode.parentNode)\x22\x20title=\x22Relancer\x20la\x20demande\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Montant\x20:\x20','notification\x20','center','.file-name','errorTracker','togglePromptList','value','Génération\x20avec\x20consommation\x20de\x205\x20crédits','Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20payants\x20pour\x20ce\x20modèle\x20avancé.','description','toLocaleString','text','Erreur\x20lors\x20de\x20la\x20relance\x20de\x20la\x20demande','setFontSize','conversations_','toggle','div','lastReset','getGenerativeModel','49064voYQQN','warning','Génération\x20payante\x20(5\x20crédits)','Erreur\x20lors\x20de\x20la\x20génération\x20de\x20l\x27image','application/pdf','indicativeText','prompt','register','parse','change','data-response','Nombre\x20maximum\x20de\x20tentatives\x20atteint','URL','totalReferrals','message','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27response\x27,\x20','.\x20Tentative\x20','referralCode','width','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22shareImage(\x27','digital_illustration','Utilisateur\x20connecté:','lastFreeCreditsReset','...','getTime','ai-message','download','forEach','https://eduquemoi.netlify.app/?ref=','3836228WWgyAV','loginModal','API_stats','location','\x27,\x20\x27image-generee.png\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-download\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyImage(\x27','ref','\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22prompt-title\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20des\x20crédits:','Veuillez\x20vous\x20connecter\x20pour\x20envoyer\x20des\x20messages.','join','file','random','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-indicator\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Erreur\x20lors\x20de\x20l\x27inscription.\x20Veuillez\x20réessayer.','<td>','createObjectURL','retryDelay','Erreur\x20de\x20génération\x20d\x27image:','https://gemini-bb56e-default-rtdb.firebaseio.com','loaded','dark','alt','canGenerate','contains','Erreur\x20lors\x20de\x20la\x20sauvegarde\x20des\x20statistiques:','freeCredits','[Fichier\x20joint:\x20','max','Veuillez\x20vous\x20connecter\x20pour\x20accéder\x20à\x20la\x20bibliothèque.','.message','.chat-container','10WLPMGB','data-type','keys','Voici\x20la\x20zone\x20de\x20saisie.\x20C\x27est\x20ici\x20que\x20vous\x20poserez\x20vos\x20questions.','includes','🚀\x20Découvrez\x20le\x20secret\x20pour\x20booster\x20votre\x20apprentissage\x20!\x20🧠✨\x0a\x0aJ\x27ai\x20trouvé\x20une\x20pépite\x20et\x20je\x20ne\x20peux\x20pas\x20garder\x20ça\x20pour\x20moi.\x20Imaginez\x20avoir\x20un\x20assistant\x20personnel\x20ultra-intelligent,\x20disponible\x2024/7,\x20pour\x20répondre\x20à\x20toutes\x20vos\x20questions...\x20C\x27est\x20ce\x20que\x20j\x27ai\x20avec\x20Eduque\x20moi\x20!\x0a\x0aCurieux\x20?\x20Cliquez\x20sur\x20ce\x20lien\x20magique\x20et\x20embarquez\x20pour\x20une\x20aventure\x20intellectuelle\x20incroyable\x20:\x0a','Le\x20parrain\x20de\x20','.input-actions\x20button:last-child','firstChild','execCommand','data-invite-message','table','onclick','Tapez\x20votre\x20texte\x20ici...','759766ucrLdo','Gemini\x201.5\x20Flash','error','log','Enter','map','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-share-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','user-message','revokeObjectURL','\x20pour\x20Eduque\x20moi','type','DOMContentLoaded','Rejoignez-moi\x20sur\x20Eduque\x20moi\x20et\x20commencez\x20votre\x20voyage\x20d\x27apprentissage\x20!\x20Utilisez\x20mon\x20lien\x20de\x20parrainage\x20pour\x20obtenir\x20des\x20bonus\x20spéciaux\x20:\x20','shouldRetry','Veuillez\x20sélectionner\x20un\x20forfait.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-indicator\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span><span></span><span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20tentatives.\x20Dernière\x20erreur:\x20','promptCategories','slice','message-actions','.toggle-sidebar','resize','writeText','La\x20réponse\x20a\x20été\x20tronquée\x20à\x20','Êtes-vous\x20sûr\x20de\x20vouloir\x20supprimer\x20cette\x20conversation\x20?','gemini-bb56e.appspot.com','smooth','initialize','pinnedItems','\x22\x20alt=\x22Image\x20générée\x22\x20style=\x22max-width:\x20100%;\x20border-radius:\x205px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Image\x20générée\x20à\x20partir\x20du\x20prompt\x20:\x20\x22','Utilisateur\x20non\x20connecté','Aucune\x20clé\x20API\x20trouvée\x20dans\x20la\x20base\x20de\x20données.','Le\x20paiement\x20a\x20été\x20annulé\x20ou\x20a\x20échoué.','Il\x20vous\x20reste\x20','Image\x20générée\x20avec\x20succès!\x205\x20crédits\x20ont\x20été\x20déduits.','firstPurchase','Illustration\x20Vectorielle','src','set','Aucun','userInfo','showRegisterModal','POST','welcome','currentIndex','button:last-child','init','Tour','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<?xml\x20version=\x221.0\x22\x20encoding=\x22UTF-8\x22\x20standalone=\x22yes\x22?>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<w:document\x20xmlns:w=\x22http://schemas.openxmlformats.org/wordprocessingml/2006/main\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:r>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:t>','pageSize','1557GJKEWu','Veuillez\x20remplir\x20tous\x20les\x20champs.','\x20mots.','loginBtn','Voici\x20le\x20menu\x20principal.\x20Il\x20vous\x20permet\x20d\x27accéder\x20à\x20différentes\x20fonctionnalités\x20de\x20l\x27application\x20(Models,\x20Crédits,\x20Bibliothèque,\x20Récompense...).','downloadInvoice','promptListButton','message\x20ai-message\x20loading-message','Vous\x20êtes\x20de\x20nouveau\x20en\x20ligne.','share','children','Bienvenue\x20sur\x20Eduque\x20moi\x20!\x20Commençons\x20la\x20visite\x20guidée.','filter','\x20FCFA</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Numéro\x20de\x20transaction:</strong>\x20','1715040GSePNa','Erreur\x20:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyUserMessage(this.parentNode.parentNode)\x22\x20title=\x22Copier\x20le\x20message\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','pinned-prompt-message','fas\x20fa-trash\x20delete-icon','complete','innerWidth','Numéro\x20de\x20transaction\x20:\x20','lastError','.response-text','messageContainer','baseDelay','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20des\x20crédits','login','onerror','importedFilesCount','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-indicator\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','visible','message\x20user-message','pinned-prompt','Message\x20copié\x20dans\x20le\x20presse-papiers','rotateKey','Utilisation\x20de\x20crédits\x20payants\x20pour\x20Gemini\x201.5\x20Flash.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22model-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22model-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22','response-text','application/vnd.openxmlformats-officedocument.wordprocessingml.document','\x20générations\x20gratuites\x20aujourd\x27hui.','getDate','stringify','Rotation\x20de\x20clé\x20API\x20effectuée\x20avec\x20succès','<th>','shareOnWhatsApp','icon','maxAttempts','scrollHeight','Inscription\x20réussie\x20!\x20Vous\x20avez\x20reçu\x2010\x20crédits\x20gratuits.','historyList','</tbody></table></div>','Bienvenue\x20dans\x20une\x20nouvelle\x20conversation\x20!\x20Comment\x20puis-je\x20vous\x20aider\x20aujourd\x27hui\x20?','pk_live_TfSz212W0xSMKK7oPEogkFmp','Achat\x20d\x27un\x20forfait\x20','.prompt-title','placeholder','Réponse\x20copiée\x20dans\x20le\x20presse-papiers','.sidebar','catch','Requête\x20réussie\x20avec\x20la\x20clé\x20API\x20','theme','Erreur\x20lors\x20de\x20la\x20connexion.\x20Veuillez\x20réessayer.','Erreur\x20lors\x20de\x20la\x20rotation\x20de\x20clé:','keydown','handleFileUpload','splitTextToSize','G-CSN292219J','buyCredits','readAsDataURL','\x20activé\x20avec\x20succès\x20!','toISOString','word/document.xml','Erreur\x20:\x20Impossible\x20d\x27initialiser\x20l\x27API.\x20Aucune\x20clé\x20API\x20disponible.','Utilisation\x20de\x20crédits\x20gratuits\x20pour\x20Gemini\x201.5\x20Flash.','</tr></thead><tbody>','\x20crédits\x20gratuits\x20ont\x20été\x20ajoutés\x20à\x20votre\x20compte\x20!','none','remove','[Réponse\x20épinglée:\x20','logout','amount','...(Utilisez\x20un\x20modèle\x20avancé\x20pour\x20avoir\x20la\x20suite\x20de\x20ma\x20réponse)','preventDefault','toUpperCase','<div\x20class=\x22table-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyTable(this.closest(\x27.table-wrapper\x27))\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x20Copier\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22exportTableAsCSV(this.closest(\x27.table-wrapper\x27))\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-download\x22></i>\x20CSV\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div></div>','#promptListButton','.logo','upgrade-button','pinned-image','apiKeys','models?key=','</p>\x0a\x20\x20\x20\x20','Vous\x20êtes\x20hors\x20ligne.\x20Veuillez\x20vérifier\x20votre\x20connexion\x20internet.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','527021pLxmnH','application/json','AIzaSyB3umTE3n2d5gwKzOmJz4ss1pFZMR8_vOE','pinned-responses-message','.file-label','status','ceil','</tr></thead>','</th>','Votre\x20abonnement\x20expire\x20dans\x20','word','\x20échouée.\x20Nouvelle\x20tentative\x20dans\x20','position','data','Réponses\x20épinglées:\x0a','clientHeight','Erreur\x20lors\x20de\x20la\x20copie\x20du\x20lien.','</tr>','277143630015','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20de\x20votre\x20profil.\x20Veuillez\x20réessayer.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22downloadImage(\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyResponse(this.parentNode.parentNode)\x22\x20title=\x22Copier\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22exportResponse(this.parentNode.parentNode,\x20\x27pdf\x27)\x22\x20title=\x22Exporter\x20en\x20PDF\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22shareResponse(this.parentNode.parentNode)\x22\x20title=\x22Partager\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-share-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22pinResponse(this.parentNode.parentNode)\x22\x20title=\x22Épingler\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-reply\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resubmitRequest(this.parentNode.parentNode)\x22\x20title=\x22Relancer\x20la\x20demande\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','removePinnedFile','closest','Fichiers\x20joints:\x20','Échec\x20de\x20la\x20connexion\x20automatique\x20:\x20informations\x20invalides','toString','querySelectorAll','querySelector','conversationHistory','https://www.linkedin.com/shareArticle?mini=true&url=','hidden','equalTo','Erreur\x20lors\x20de\x20la\x20connexion\x20automatique:','Erreur\x20lors\x20du\x20partage:','from','start','Achat\x20de\x20','#promptCategories\x20li','customPrompts','onpopstate','createNewConversation','top','.input-container','1:277143630015:web:78736f2cf52d29495d160a','🖼️','Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20pour\x20envoyer\x20ce\x20message.','showReferralModal','gemini-bb56e','fileInput','file-icon','height','subscription','paidCredits','then','Cliquez\x20ici\x20pour\x20envoyer\x20votre\x20message.','accept','beforeShow','fas\x20fa-robot','offsetWidth','Eduque_moi.docx','fas\x20fa-moon','registerModal','splice','userInput','INTERNAL','Statut\x20de\x20l\x27API\x20Gemini:','Détails\x20spécifiques:\x20','online','Ce\x20nom\x20d\x27utilisateur\x20existe\x20déjà.','Connexion\x20automatique\x20réussie','displayText','username','calculateRetryDelay',')\x22>❌</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Vos\x20crédits\x20sont\x20faibles.\x20Pensez\x20à\x20recharger\x20votre\x20compte.','\x27,\x20this)\x22\x20data-prompt=\x27','La\x20génération\x20d\x27images\x20nécessite\x205\x20crédits.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22downloadInvoice\x22>Télécharger\x20la\x20facture\x20en\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeModal\x22>Fermer</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','code','referralLink','<div\x20class=\x22table-wrapper\x22><table><thead><tr>','.pdf,.jpg,.jpeg,.png,.docx,.doc','eduqueMoiUserData','Format\x20de\x20réponse\x20invalide\x20de\x20l\x27API\x20Recraft','toLocaleDateString','password','AIzaSyCvizcYorGDPN3GXqma0opp7wAiMkaCt64','Eduque_moi.pdf','substring','appendChild','pinned-files-message','dailyCount','focus','message\x20ai-message','.pinned-item[data-type=\x22prompt\x22]','Veuillez\x20entrer\x20un\x20message,\x20joindre\x20un\x20fichier,\x20épingler\x20une\x20réponse\x20ou\x20sélectionner\x20un\x20prompt.','image/','eduqueMoiUsername','result','eduqueMoiPassword','textContent','active','markKeyAsUsed','CHECKOUT_COMPLETED','prompt-title','replaceWith','<tbody>','registerUsername','Tentative\x20','subscriptionEndDate','content','loadApiKeys','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Montant:</strong>\x20','getElementById','generateAsync','Génération\x20de\x20l\x27image\x20en\x20cours...','78hhxFvz','sender','onload','min','Veuillez\x20sélectionner\x20un\x20pack\x20de\x20crédits.','show','logoutBtn','\x20réussi','startsWith','removeChild','title','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22this.closest(\x27.notification\x27).setAttribute(\x27data-response\x27,\x20\x27true\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Utiliser\x20mes\x20crédits\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22this.closest(\x27.notification\x27).setAttribute(\x27data-response\x27,\x20\x27false\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Annuler\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','left','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prompt-item\x22\x20onclick=\x22selectPrompt(\x27','useFreeGeneration','referrals','name','click','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Description:</strong>\x20','generateContent','Regardez\x20cette\x20image\x20générée\x20par\x20IA!','Modèles\x20disponibles:','Forfait\x20','currentKeyIndex','RESOURCE_EXHAUSTED','realistic_image','Gemini\x201.0\x20Pro','lastImportReset','Terminer','removeItem','getItem','clipboard','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22prompt-select-icon\x22><i\x20class=\x22fas\x20fa-plus-circle\x22></i></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','classList','count','Aucune\x20clé\x20API\x20trouvée\x20dans\x20la\x20base\x20de\x20données','handleKeyError','referredBy','setDate','href','warn','Toutes\x20les\x20clés\x20API\x20ont\x20été\x20épuisées\x20sans\x20succès','analyzeApiPerformance','</td>','Erreur\x20lors\x20de\x20l\x27inscription:','blob','Modèle\x20mis\x20à\x20jour\x20vers\x20Gemini\x201.5\x20Pro','reason','setItem','bottom','modelSelect','tagName','data-theme','notification\x20warning','Erreur\x20lors\x20de\x20la\x20génération\x20de\x20la\x20réponse:','apiKeyList','Image\x20générée\x20avec\x20succès!\x20Il\x20vous\x20reste\x20','.pinned-file','dataset','\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>🤖</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22','API','client@example.com','selectionEnd','shepherd-theme-custom','floor','responses','325432AaaCTw','generateReferralCode','retryConfig','Bibliothèque.html','span','lastConversation',')\x20que\x20je\x20viens\x20de\x20t\x27envoyer.','Erreur\x20lors\x20de\x20la\x20génération\x20d\x27image:','display','reactivateKey','gemini-1.0-pro','pdf','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedPrompt()\x22>❌</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','get','https://api.recraft.ai/api/v2/generate','target','registerBtn','light','\x22</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-metadata\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>Style:\x20','Le\x20partage\x20n\x27est\x20pas\x20pris\x20en\x20charge\x20sur\x20votre\x20appareil','Erreur\x20lors\x20du\x20partage\x20de\x20l\x27image.','values','conversation-item','.theme-toggle\x20i','Message\x20utilisateur\x20introuvable','Ce\x20bouton\x20ouvre\x20la\x20liste\x20des\x20demandes\x20personnalisées\x20(Utile\x20si\x20vous\x20ne\x20savez\x20pas\x20comment\x20faire\x20une\x20demande).','split','gemini-bb56e.firebaseapp.com','Erreur\x20lors\x20de\x20la\x20génération\x20de\x20l\x27image.\x20Veuillez\x20réessayer.','gemini-exp-1206','json','has','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','toggleSidebar','promptListModal','meta[name=\x22color-scheme\x22]','.message-actions','<h3>Historique\x20des\x20conversations</h3>','extractRawText','Description\x20:\x20','input-area','\x20jour','setSelectionRange','CANCELLED','push','trim','startPerformanceMonitoring','Cliquez\x20ici\x20pour\x20importer\x20des\x20fichiers\x20(image,\x20pdf,\x20docx,\x20doc,\x20txt)\x20que\x20vous\x20voulez\x20analyser.','</tbody></table>','success','button','Erreur\x20lors\x20du\x20téléchargement\x20de\x20l\x27image.','UNAVAILABLE','user','notification\x20error','imageGeneration','Ces\x20icônes\x20vous\x20permettent\x20de\x20copier,\x20exporter\x20en\x20PDF,\x20partager\x20ou\x20répondre\x20à\x20un\x20message\x20spécifique.','Bearer\x20','offline','resetUsedKeys'];_0x2d24=function(){return _0x536243;};return _0x2d24();}function openLibrary(){const _0x27ea62=_0x31976f;console[_0x27ea62(0x282)]('Tentative\x20d\x27ouverture\x20de\x20la\x20bibliothèque');if(currentUser){console['log'](_0x27ea62(0x249),currentUser);const _0x231b9a={'username':currentUser[_0x27ea62(0xf6)],'freeCredits':currentUser[_0x27ea62(0x26b)],'paidCredits':currentUser['paidCredits'],'subscription':currentUser[_0x27ea62(0xe2)]};localStorage[_0x27ea62(0x153)](_0x27ea62(0x101),JSON[_0x27ea62(0x2dc)](_0x231b9a)),console[_0x27ea62(0x282)]('Données\x20utilisateur\x20enregistrées\x20dans\x20localStorage'),window['location']['href']=_0x27ea62(0x169);}else console[_0x27ea62(0x282)](_0x27ea62(0x29d)),alert(_0x27ea62(0x26e));}async function showReferralModal(){const _0x2749b8=_0x31976f,_0x55d4ad=document['getElementById'](_0x2749b8(0x1ef));_0x55d4ad['style'][_0x2749b8(0x16e)]='block';const _0x53d214=await getOrCreateReferralCode();if(_0x53d214){const _0x46ba56=_0x2749b8(0x250)+_0x53d214;document['getElementById'](_0x2749b8(0xfe))[_0x2749b8(0x227)]=_0x46ba56;const _0x53cf32=_0x2749b8(0x28b)+_0x46ba56;document[_0x2749b8(0x120)](_0x2749b8(0xfe))[_0x2749b8(0x1ca)](_0x2749b8(0x27b),_0x53cf32);}else document['getElementById'](_0x2749b8(0xfe))['value']='Erreur\x20lors\x20de\x20la\x20récupération\x20du\x20code\x20de\x20parrainage.';await updateReferralStats(currentUser[_0x2749b8(0xf6)]);}function generateReferralCode(){const _0x59c9ec=_0x31976f;return Math[_0x59c9ec(0x25d)]()[_0x59c9ec(0xc8)](0x24)['substring'](0x2,0x8)[_0x59c9ec(0xa2)]();}async function getOrCreateReferralCode(){const _0x1504e3=_0x31976f;if(!currentUser)return null;const _0x12b1f7=db['ref']('users/'+currentUser['username']),_0xacac8d=await _0x12b1f7[_0x1504e3(0x212)](_0x1504e3(0x227)),_0x3b3358=_0xacac8d[_0x1504e3(0x1a3)]();if(_0x3b3358&&_0x3b3358['referralCode'])return _0x3b3358['referralCode'];else{const _0x82e43f=generateReferralCode();return await _0x12b1f7[_0x1504e3(0x1e2)]({'referralCode':_0x82e43f}),_0x82e43f;}}async function updateReferralStats(_0x195962){const _0x8b62e0=_0x31976f,_0x3a7b5f=db[_0x8b62e0(0x256)](_0x8b62e0(0x1d9)+_0x195962),_0x379a0b=await _0x3a7b5f['once']('value'),_0x30253f=_0x379a0b[_0x8b62e0(0x1a3)]();if(_0x30253f&&_0x30253f[_0x8b62e0(0x132)]){const _0x5cfea3=_0x30253f['referrals'],_0x3e9ec4=Object[_0x8b62e0(0x273)](_0x5cfea3)[_0x8b62e0(0x204)],_0x1a309f=Object[_0x8b62e0(0x17b)](_0x5cfea3)[_0x8b62e0(0x2bd)](_0x5dd1dd=>_0x5dd1dd[_0x8b62e0(0x1ac)])[_0x8b62e0(0x204)];await _0x3a7b5f['update']({'totalReferrals':_0x3e9ec4,'activeReferrals':_0x1a309f}),currentUser&&currentUser[_0x8b62e0(0xf6)]===_0x195962&&(document['getElementById'](_0x8b62e0(0x241))['textContent']=_0x3e9ec4,document[_0x8b62e0(0x120)]('activeReferrals')[_0x8b62e0(0x113)]=_0x1a309f);}}window[_0x31976f(0x125)]=async function(){const _0x15baf4=_0x31976f;await attemptAutoLogin();if(currentUser){if(currentUser['freeCredits']===undefined)currentUser[_0x15baf4(0x26b)]=0x0;if(currentUser[_0x15baf4(0xe3)]===undefined)currentUser[_0x15baf4(0xe3)]=0x0;if(currentUser['subscription']===undefined)currentUser[_0x15baf4(0xe2)]=null;if(currentUser[_0x15baf4(0x11c)]===undefined)currentUser[_0x15baf4(0x11c)]=null;if(currentUser[_0x15baf4(0x24a)]===undefined)currentUser['lastFreeCreditsReset']=new Date()[_0x15baf4(0x95)]();const _0x4a8d75=db[_0x15baf4(0x256)]('users/'+currentUser[_0x15baf4(0xf6)]),_0x5056df=await _0x4a8d75[_0x15baf4(0x212)]('value'),_0x43ce89=_0x5056df['val']();_0x43ce89&&(importedFilesCount=_0x43ce89[_0x15baf4(0x2cf)]||0x0,lastImportReset=new Date(_0x43ce89[_0x15baf4(0x13e)]||new Date())),await syncUserData();}await loadApiKeyList(),await apiManager['initialize'](),initializeApiKeyRotation();const _0xcb59bc=localStorage[_0x15baf4(0x141)](_0x15baf4(0x8b))||_0x15baf4(0x177);document[_0x15baf4(0x219)][_0x15baf4(0x1ca)](_0x15baf4(0x157),_0xcb59bc),updateThemeIcon(_0xcb59bc),setupUIEventListeners();currentUser&&loadConversationHistory();initModals(),loadSelectedModel(),document['getElementById']('modelSelect')[_0x15baf4(0x1b1)](_0x15baf4(0x23d),saveSelectedModel),restoreAppState(),initializeNewDiscussion(),document[_0x15baf4(0x219)][_0x15baf4(0x144)]['add'](_0x15baf4(0x265)),setInterval(checkSubscriptionStatus,0x36ee80),await loadApiKeyList(),await apiManager['initialize'](),initializeGeminiAPI();const _0x5e017d=document[_0x15baf4(0x120)]('modelSelect');!_0x5e017d[_0x15baf4(0x227)]&&(_0x5e017d['value']=_0x15baf4(0x183));};function setupUIEventListeners(){const _0xa42d94=_0x31976f,_0x2286a4=document[_0xa42d94(0xca)](_0xa42d94(0xd9)),_0x4ae2b8=document[_0xa42d94(0x120)](_0xa42d94(0xee)),_0x4396ae=document['querySelector'](_0xa42d94(0xb2)),_0x586016=_0x2286a4[_0xa42d94(0xca)](_0xa42d94(0x2ac));function _0x2024a3(){const _0x375840=_0xa42d94,_0x6ebdbf=_0x2286a4[_0x375840(0xe9)],_0x5801ac=_0x4396ae['offsetWidth'],_0xaefcb8=document[_0x375840(0x120)](_0x375840(0x2b7))[_0x375840(0xe9)],_0x2eda3d=_0x586016[_0x375840(0xe9)],_0x2845a1=0x1e;_0x4ae2b8[_0x375840(0x1c9)][_0x375840(0x246)]=_0x6ebdbf-_0x5801ac-_0xaefcb8-_0x2eda3d-_0x2845a1+'px';}_0x2024a3(),window[_0xa42d94(0x1b1)](_0xa42d94(0x294),_0x2024a3),_0x4ae2b8[_0xa42d94(0x1b1)](_0xa42d94(0x1ea),adjustTextareaHeight),document[_0xa42d94(0x120)](_0xa42d94(0x155))['addEventListener'](_0xa42d94(0x23d),checkModelAccess);window[_0xa42d94(0x2c6)]<=0x300&&(document['querySelector'](_0xa42d94(0x88))[_0xa42d94(0x144)]['remove'](_0xa42d94(0x2d1)),document['querySelector']('.chat-container')[_0xa42d94(0x144)]['remove'](_0xa42d94(0x1cd)));if(currentUser){const _0x51cd20=db[_0xa42d94(0x256)](_0xa42d94(0x1d9)+currentUser[_0xa42d94(0xf6)]);_0x51cd20['on'](_0xa42d94(0x227),_0x3d5e17=>{const _0x4fbf9e=_0xa42d94,_0x40f2e7=_0x3d5e17[_0x4fbf9e(0x1a3)]();_0x40f2e7&&(currentUser={...currentUser,'freeCredits':_0x40f2e7['freeCredits'],'paidCredits':_0x40f2e7['paidCredits'],'subscription':_0x40f2e7[_0x4fbf9e(0xe2)],'subscriptionEndDate':_0x40f2e7[_0x4fbf9e(0x11c)],'lastFreeCreditsReset':_0x40f2e7[_0x4fbf9e(0x24a)]},updateUIForLoggedInUser());});}}function initModals(){const _0x580af2=_0x31976f,_0x73b11=document[_0x580af2(0xc9)](_0x580af2(0x1bd)),_0x3b2981=document[_0x580af2(0xc9)](_0x580af2(0x1d5));_0x3b2981['forEach'](_0x417d52=>{const _0x135f33=_0x580af2;_0x417d52[_0x135f33(0x1b1)](_0x135f33(0x134),()=>{const _0x38cbc5=_0x135f33;_0x417d52[_0x38cbc5(0xc5)]('.modal')['style'][_0x38cbc5(0x16e)]=_0x38cbc5(0x9b);});}),window[_0x580af2(0x1b1)]('click',_0x58c5d2=>{_0x73b11['forEach'](_0x7c3f4b=>{const _0x3044cb=_0x226b;_0x58c5d2[_0x3044cb(0x175)]===_0x7c3f4b&&(_0x7c3f4b[_0x3044cb(0x1c9)][_0x3044cb(0x16e)]='none');});});}window[_0x31976f(0x1b1)](_0x31976f(0x1a8),async()=>{const _0x517e05=_0x31976f;if(currentUser){const _0x2da88a=await checkGuidedTourStatus(currentUser['username']);!_0x2da88a&&(startGuidedTour(),await markGuidedTourAsSeen(currentUser[_0x517e05(0xf6)]));}}),document['addEventListener'](_0x31976f(0x8e),function(_0x2080da){const _0x1b72c3=_0x31976f;_0x2080da['key']===_0x1b72c3(0x283)&&!_0x2080da['shiftKey']&&(_0x2080da['preventDefault'](),sendMessage());}),document[_0x31976f(0x120)](_0x31976f(0xee))[_0x31976f(0x1b1)](_0x31976f(0x8e),function(_0x480b7f){const _0x44a696=_0x31976f;if(_0x480b7f['key']===_0x44a696(0x283)&&_0x480b7f['shiftKey']){_0x480b7f[_0x44a696(0xa1)]();const _0x16a484=this[_0x44a696(0x1de)],_0x2623e8=this[_0x44a696(0x162)],_0x268e9c=this[_0x44a696(0x227)];this[_0x44a696(0x227)]=_0x268e9c[_0x44a696(0x107)](0x0,_0x16a484)+'\x0a'+_0x268e9c[_0x44a696(0x107)](_0x2623e8),this[_0x44a696(0x1de)]=this['selectionEnd']=_0x16a484+0x1;}});function checkApiStatus(){const _0xa95974=_0x31976f;axios['get'](API_BASE_URL+_0xa95974(0xa9)+API_KEY)['then'](_0x577ee5=>{const _0x3df014=_0xa95974;console[_0x3df014(0x282)](_0x3df014(0xf0),_0x577ee5[_0x3df014(0xb3)]),console['log'](_0x3df014(0x138),_0x577ee5[_0x3df014(0xbb)]);})[_0xa95974(0x89)](_0x18addf=>{const _0x55b903=_0xa95974;console[_0x55b903(0x281)]('Erreur\x20lors\x20de\x20la\x20vérification\x20du\x20statut\x20de\x20l\x27API:',_0x18addf);});}function checkApiStatusRegularly(){checkApiStatus(),setInterval(checkApiStatus,0xea60);}window[_0x31976f(0x1b1)](_0x31976f(0x1a0),function(){const _0xf33c38=_0x31976f;showNotification(_0xf33c38(0xab),'error');}),window[_0x31976f(0x1b1)](_0x31976f(0xf2),function(){const _0x1ba54b=_0x31976f;showNotification(_0x1ba54b(0x2b9),_0x1ba54b(0x197));}),window[_0x31976f(0x1b1)]('beforeunload',function(){const _0x944a06=_0x31976f;currentUser&&localStorage[_0x944a06(0x153)](_0x944a06(0x16b),JSON['stringify'](currentConversation));});function restoreAppState(){const _0x1d790e=_0x31976f,_0x20f744=localStorage['getItem'](_0x1d790e(0x16b));_0x20f744&&(currentConversation=JSON[_0x1d790e(0x23c)](_0x20f744),currentConversation[_0x1d790e(0x24f)](_0x1766c3=>{const _0xf31a8a=_0x1d790e;addMessageToChat(_0x1766c3[_0xf31a8a(0x124)],_0x1766c3[_0xf31a8a(0x11d)]);}));}function isImageGenerationModel(_0x425824){const _0x569b3f=_0x31976f;return _0x425824['startsWith'](_0x569b3f(0x1ee));}function getRecraftStyle(_0x199ec3){const _0x14e1df=_0x31976f,_0x3b0ab3={'recraft-realistic':_0x14e1df(0x13c),'recraft-digital':_0x14e1df(0x248),'recraft-vector':'vector_illustration','recraft-icon':_0x14e1df(0x7c)};return _0x3b0ab3[_0x199ec3]||_0x14e1df(0x13c);}async function initializeImageGenerationTracking(_0x1fbb2d){const _0x475e46=_0x31976f,_0x5e7956=db['ref']('users/'+_0x1fbb2d),_0x1bd5ce=await _0x5e7956[_0x475e46(0x1ba)]('imageGeneration')['once']('value'),_0xe9960f=_0x1bd5ce[_0x475e46(0x1a3)]();(!_0xe9960f||isNewDay(_0xe9960f[_0x475e46(0x232)]))&&await _0x5e7956[_0x475e46(0x1ba)](_0x475e46(0x19d))[_0x475e46(0x2a5)]({'dailyCount':0x0,'lastReset':new Date()[_0x475e46(0x95)]()});}function isNewDay(_0xfc1654){const _0x1ad715=_0x31976f;if(!_0xfc1654)return!![];const _0x5b3606=new Date(_0xfc1654),_0x57a1ad=new Date();return _0x5b3606['getDate']()!==_0x57a1ad[_0x1ad715(0x2db)]()||_0x5b3606['getMonth']()!==_0x57a1ad['getMonth']()||_0x5b3606[_0x1ad715(0x1ff)]()!==_0x57a1ad[_0x1ad715(0x1ff)]();}async function getImageGenerationCount(_0xca253b){const _0xc5ea12=_0x31976f,_0x2348aa=db[_0xc5ea12(0x256)](_0xc5ea12(0x1d9)+_0xca253b),_0x38f629=await _0x2348aa[_0xc5ea12(0x1ba)](_0xc5ea12(0x19d))[_0xc5ea12(0x212)]('value'),_0x51f9b8=_0x38f629[_0xc5ea12(0x1a3)]();if(!_0x51f9b8||isNewDay(_0x51f9b8['lastReset']))return await initializeImageGenerationTracking(_0xca253b),0x0;return _0x51f9b8['dailyCount'];}async function incrementImageGenerationCount(_0x5cf9f7){const _0x44c497=_0x31976f,_0x35e7a3=db[_0x44c497(0x256)]('users/'+_0x5cf9f7);await _0x35e7a3[_0x44c497(0x1ba)](_0x44c497(0x19d))[_0x44c497(0x1eb)](_0x1c0664=>{const _0x4efe51=_0x44c497;if(!_0x1c0664||isNewDay(_0x1c0664[_0x4efe51(0x232)]))return{'dailyCount':0x1,'lastReset':new Date()[_0x4efe51(0x95)]()};return{'dailyCount':_0x1c0664[_0x4efe51(0x10a)]+0x1,'lastReset':_0x1c0664['lastReset']};});}async function canGenerateImage(){const _0x3da2c6=_0x31976f,_0x2542a7=await getImageGenerationCount(currentUser[_0x3da2c6(0xf6)]),_0x516fae=hasValidSubscription(),_0x30c2a6=currentUser[_0x3da2c6(0xe3)]>=0x5||currentUser[_0x3da2c6(0x26b)]>=0x5;if(_0x516fae&&_0x2542a7<0x5)return{'canGenerate':!![],'useFreeGeneration':!![],'message':_0x3da2c6(0x2a0)+(0x5-_0x2542a7)+_0x3da2c6(0x2da)};if(_0x30c2a6)return{'canGenerate':!![],'useFreeGeneration':![],'message':_0x3da2c6(0x228)};return{'canGenerate':![],'useFreeGeneration':![],'message':'Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20pour\x20générer\x20une\x20image.'};}function confirmCreditUsage(_0x44eab5){return new Promise(_0x3ab597=>{const _0x569618=_0x226b,_0x5637d0=document[_0x569618(0x1cc)]('div');_0x5637d0[_0x569618(0x211)]=_0x569618(0x158),_0x5637d0[_0x569618(0x208)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x44eab5+_0x569618(0x12e),document['body'][_0x569618(0x108)](_0x5637d0),setTimeout(()=>_0x5637d0[_0x569618(0x144)][_0x569618(0x1f6)]('show'),0x64);function _0x47eee9(_0x468c3e){const _0x12f5d9=_0x569618,_0x6ef4f8=_0x468c3e['target'][_0x12f5d9(0xc5)]('.notification')['getAttribute'](_0x12f5d9(0x23e));_0x5637d0[_0x12f5d9(0x144)][_0x12f5d9(0x9c)](_0x12f5d9(0x128)),setTimeout(()=>{const _0x26b547=_0x12f5d9;_0x5637d0[_0x26b547(0x9c)](),_0x3ab597(_0x6ef4f8===_0x26b547(0x207));},0x12c);}_0x5637d0[_0x569618(0xc9)](_0x569618(0x198))['forEach'](_0x566afd=>{const _0xa81ea8=_0x569618;_0x566afd[_0xa81ea8(0x1b1)](_0xa81ea8(0x134),_0x47eee9);});});}function parseMarkdownTable(_0xa7fe08){const _0x2e1a3a=_0x31976f,_0x46ecdb=_0xa7fe08[_0x2e1a3a(0x193)]()[_0x2e1a3a(0x180)]('\x0a');if(_0x46ecdb[_0x2e1a3a(0x204)]<0x3)return null;const _0x36729d=_0x46ecdb['every'](_0x145107=>_0x145107[_0x2e1a3a(0x193)]()[_0x2e1a3a(0x12b)]('|')&&_0x145107[_0x2e1a3a(0x193)]()['endsWith']('|'));if(!_0x36729d)return null;const _0x3c1e5e=_0x46ecdb[_0x2e1a3a(0x284)](_0xaa673a=>{const _0x3b0df2=_0x2e1a3a,_0x1f6564=_0xaa673a[_0x3b0df2(0x193)]()[_0x3b0df2(0x291)](0x1,-0x1)[_0x3b0df2(0x180)]('|')['map'](_0x166126=>_0x166126[_0x3b0df2(0x193)]());return _0x1f6564;}),_0x5c8200=_0x3c1e5e[0x0],_0xb05c32=_0x3c1e5e[_0x2e1a3a(0x291)](0x2);let _0xdfeb29=_0x2e1a3a(0xff);return _0x5c8200['forEach'](_0x5b35b5=>{const _0x2bf8df=_0x2e1a3a;_0xdfeb29+=_0x2bf8df(0x2de)+_0x5b35b5+'</th>';}),_0xdfeb29+=_0x2e1a3a(0x99),_0xb05c32[_0x2e1a3a(0x24f)](_0xfe910=>{const _0x4a3a0f=_0x2e1a3a;_0xdfeb29+=_0x4a3a0f(0x21a),_0xfe910['forEach'](_0x115a18=>{const _0x63dc4=_0x4a3a0f;_0xdfeb29+=_0x63dc4(0x260)+_0x115a18+_0x63dc4(0x14e);}),_0xdfeb29+=_0x4a3a0f(0xbf);}),_0xdfeb29+=_0x2e1a3a(0x196),_0xdfeb29+=_0x2e1a3a(0xa3),_0xdfeb29;}function processMessageContent(_0x9fa65f){const _0x692c87=_0x31976f,_0x1ce2cb=/\|[\s\S]+?\n[-|\s]+\n[\s\S]+?\n(?=\n|$)/g;return _0x9fa65f[_0x692c87(0x1af)](_0x1ce2cb,_0x2ed792=>{const _0x2ace4c=parseMarkdownTable(_0x2ed792);return _0x2ace4c||_0x2ed792;});}function addMessageToChat(_0x14d62f,_0x3b0e3d,_0x921f98=[],_0x38f198=[],_0x5b7af6=null){const _0x95ac39=_0x31976f,_0x2c0d2f=document[_0x95ac39(0x120)](_0x95ac39(0x2ca)),_0x31102a=document[_0x95ac39(0x1cc)](_0x95ac39(0x231));_0x31102a[_0x95ac39(0x144)]['add']('message',_0x14d62f===_0x95ac39(0x19b)?_0x95ac39(0x286):_0x95ac39(0x24d));if(_0x14d62f==='ai'){let _0x5227f5=_0x3b0e3d;_0x5227f5=_0x5227f5[_0x95ac39(0x1af)](/^\*\*/gm,'\x0a'),_0x5227f5=_0x5227f5[_0x95ac39(0x1af)](/\*\*/g,''),_0x5227f5=formatMarkdownTable(_0x5227f5);const _0xa4b3e=document[_0x95ac39(0x1cc)](_0x95ac39(0x231));_0xa4b3e[_0x95ac39(0x208)]=_0x5227f5,_0x31102a[_0x95ac39(0x108)](_0xa4b3e);const _0x223e99=document[_0x95ac39(0x1cc)](_0x95ac39(0x231));_0x223e99[_0x95ac39(0x144)]['add'](_0x95ac39(0x292)),_0x223e99[_0x95ac39(0x208)]=_0x95ac39(0x220),_0x31102a[_0x95ac39(0x108)](_0x223e99),currentConversation[_0x95ac39(0x192)]({'sender':'ai','content':_0x3b0e3d});}else{_0x921f98[_0x95ac39(0x204)]>0x0&&_0x31102a[_0x95ac39(0x108)](createPinnedFilesElement(_0x921f98));_0x38f198[_0x95ac39(0x204)]>0x0&&_0x31102a[_0x95ac39(0x108)](createPinnedResponsesElement(_0x38f198));_0x5b7af6&&_0x31102a[_0x95ac39(0x108)](createPinnedPromptElement(_0x5b7af6));const _0x346b8e=document[_0x95ac39(0x1cc)](_0x95ac39(0x231));_0x346b8e[_0x95ac39(0x113)]=_0x3b0e3d,_0x31102a[_0x95ac39(0x108)](_0x346b8e);const _0x146826=document[_0x95ac39(0x1cc)]('div');_0x146826[_0x95ac39(0x144)][_0x95ac39(0x1f6)](_0x95ac39(0x292)),_0x146826[_0x95ac39(0x208)]=_0x95ac39(0x2c2),_0x31102a['appendChild'](_0x146826),currentConversation[_0x95ac39(0x192)]({'sender':_0x95ac39(0x19b),'content':_0x3b0e3d,'files':_0x921f98,'responses':_0x38f198,'prompt':_0x5b7af6});}return _0x2c0d2f['appendChild'](_0x31102a),_0x2c0d2f['scrollTop']=_0x2c0d2f[_0x95ac39(0x7e)],_0x31102a;}async function resubmitRequest(_0x189e13){const _0x40f1c2=_0x31976f,_0x491cc4=document[_0x40f1c2(0x120)](_0x40f1c2(0x155))['value'];if(!hasValidSubscription()&&!currentUser[_0x40f1c2(0xe3)]&&(_0x491cc4!==_0x40f1c2(0x183)&&_0x491cc4!==_0x40f1c2(0x170)||!currentUser[_0x40f1c2(0x26b)])){showPaymentNotification('Crédits\x20insuffisants\x20pour\x20actualiser\x20la\x20réponse.');return;}try{const _0x5c864c=document['querySelectorAll'](_0x40f1c2(0x26f));let _0x35726f=null,_0x230ac3='';for(let _0x17d9b0=Array[_0x40f1c2(0xd1)](_0x5c864c)[_0x40f1c2(0x1da)](_0x189e13)-0x1;_0x17d9b0>=0x0;_0x17d9b0--){if(_0x5c864c[_0x17d9b0][_0x40f1c2(0x144)]['contains'](_0x40f1c2(0x286))){_0x35726f=_0x5c864c[_0x17d9b0],_0x230ac3=_0x5c864c[_0x17d9b0][_0x40f1c2(0xca)](_0x40f1c2(0x1b8))[_0x40f1c2(0x113)];break;}}if(!_0x230ac3)throw new Error(_0x40f1c2(0x17e));const _0x413fc4=document[_0x40f1c2(0x1cc)](_0x40f1c2(0x231));_0x413fc4[_0x40f1c2(0x211)]='message\x20ai-message',_0x413fc4[_0x40f1c2(0x208)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+createModelHeader(_0x491cc4)+_0x40f1c2(0x25e),_0x189e13[_0x40f1c2(0x118)](_0x413fc4);const _0x422b95=Array[_0x40f1c2(0xd1)](_0x35726f[_0x40f1c2(0xc9)](_0x40f1c2(0x15c)))[_0x40f1c2(0x284)](_0x5e8611=>({'name':_0x5e8611[_0x40f1c2(0xca)](_0x40f1c2(0x224))[_0x40f1c2(0x113)],'type':_0x5e8611[_0x40f1c2(0x15d)]['type']})),_0x52c32e=[{'text':_0x230ac3}];if(_0x422b95['length']>0x0)for(const _0x4bfc4f of _0x422b95){_0x52c32e[_0x40f1c2(0x192)]({'text':_0x40f1c2(0x26c)+_0x4bfc4f[_0x40f1c2(0x133)]+']'});}const _0x497aa5=await model['generateContent'](_0x52c32e),_0x21f05d=await _0x497aa5[_0x40f1c2(0x1f4)],_0x1df03c=_0x21f05d[_0x40f1c2(0x22c)]();await animateText(_0x413fc4,_0x1df03c),currentConversation[_0x40f1c2(0x192)]({'sender':'ai','content':_0x1df03c}),saveConversation(),await updateCredits(_0x491cc4,0x1),showNotification(_0x40f1c2(0x1e3),'success');}catch(_0xc887e5){console['error']('Erreur\x20lors\x20de\x20la\x20relance:',_0xc887e5),showNotification(_0x40f1c2(0x22d),_0x40f1c2(0x281)),loadingMessage&&_0x189e13&&loadingMessage[_0x40f1c2(0x118)](_0x189e13);}}function createLoadingMessage(){const _0x5ba5ee=_0x31976f,_0x542103=document[_0x5ba5ee(0x1cc)](_0x5ba5ee(0x231));return _0x542103['className']=_0x5ba5ee(0x10c),_0x542103[_0x5ba5ee(0x208)]=_0x5ba5ee(0x2d0),document[_0x5ba5ee(0x120)](_0x5ba5ee(0x2ca))['appendChild'](_0x542103),_0x542103;}function initializeScrollListener(){const _0x2b1806=_0x31976f,_0x2aa3d5=document[_0x2b1806(0x120)](_0x2b1806(0x2ca));_0x2aa3d5[_0x2b1806(0x1b1)]('scroll',function(){const _0x1f04ed=_0x2b1806;clearTimeout(scrollTimeout),_0x2aa3d5[_0x1f04ed(0x1bf)]<lastScrollTop&&(userScrolling=!![]),lastScrollTop=_0x2aa3d5[_0x1f04ed(0x1bf)],scrollTimeout=setTimeout(()=>{const _0x44d5cb=_0x1f04ed,_0x279bef=_0x2aa3d5['scrollHeight']-_0x2aa3d5['scrollTop']-_0x2aa3d5[_0x44d5cb(0xbd)]<0x64;_0x279bef&&(userScrolling=![]);},0x3e8);});}function shouldAutoScroll(){const _0x4060a5=_0x31976f;if(userScrolling)return![];const _0xead4dc=document[_0x4060a5(0x120)]('messageContainer'),_0x286a2e=_0xead4dc[_0x4060a5(0x7e)]-_0xead4dc[_0x4060a5(0x1bf)]-_0xead4dc['clientHeight']<0x64;return _0x286a2e;}async function animateText(_0x3764e6,_0x3f5826){const _0x358c18=_0x31976f,_0x4d2efb=document[_0x358c18(0x1cc)](_0x358c18(0x231));_0x3764e6['innerHTML']='',_0x3764e6[_0x358c18(0x108)](_0x4d2efb);const _0xbe9ff5=document['createElement'](_0x358c18(0x231));_0xbe9ff5[_0x358c18(0x211)]='message-actions',_0xbe9ff5[_0x358c18(0x208)]=_0x358c18(0xc3);let _0x4a5fa9='';const _0x24b9a3=0xa;function _0x2ef480(_0x5a41c1,_0x46d30e){const _0x2e4af4=_0x358c18;return _0x5a41c1[_0x2e4af4(0x291)](_0x46d30e)['startsWith']('\x0a|')||_0x5a41c1[_0x2e4af4(0x291)](_0x46d30e)[_0x2e4af4(0x12b)]('|');}function _0x1190fa(_0x39eb2c,_0x337396){const _0x2a3878=_0x358c18,_0x472b09=_0x39eb2c[_0x2a3878(0x291)](_0x337396)[_0x2a3878(0x180)]('\x0a');let _0x332922=[],_0x3bc49a=0x0;while(_0x3bc49a<_0x472b09[_0x2a3878(0x204)]&&_0x472b09[_0x3bc49a][_0x2a3878(0x193)]()[_0x2a3878(0x12b)]('|')){_0x332922['push'](_0x472b09[_0x3bc49a]),_0x3bc49a++;}return _0x332922[_0x2a3878(0x25b)]('\x0a');}const _0x2851d4=document[_0x358c18(0x120)]('messageContainer');for(let _0x385772=0x0;_0x385772<_0x3f5826[_0x358c18(0x204)];_0x385772++){if(_0x2ef480(_0x3f5826,_0x385772)){const _0x36a9e0=_0x1190fa(_0x3f5826,_0x385772);if(_0x36a9e0){_0x4a5fa9+=_0x36a9e0,_0x4d2efb[_0x358c18(0x208)]=formatMarkdownTable(_0x4a5fa9),_0x385772+=_0x36a9e0[_0x358c18(0x204)]-0x1;continue;}}_0x4a5fa9+=_0x3f5826[_0x385772],_0x4d2efb[_0x358c18(0x208)]=formatMarkdownTable(_0x4a5fa9),shouldAutoScroll()&&(_0x2851d4[_0x358c18(0x1bf)]=_0x2851d4[_0x358c18(0x7e)]),await new Promise(_0x189feb=>setTimeout(_0x189feb,_0x24b9a3));}_0x3764e6[_0x358c18(0x108)](_0xbe9ff5);}function resetScrollState(){userScrolling=![],lastScrollTop=0x0;}function formatMarkdownTable(_0x16412c){const _0x561b69=/\|(.+)\|\n\|(?:[-:|]+\|)+\n(\|(?:.+\|)+\n?)+/g;return _0x16412c['replace'](_0x561b69,function(_0x3333ca){const _0x60e6fc=_0x226b,_0x2a7ad6=_0x3333ca['trim']()[_0x60e6fc(0x180)]('\x0a');if(_0x2a7ad6['length']<0x3)return _0x3333ca;let _0x2d51cc='<div\x20class=\x22table-scroll-container\x22><table>';const _0x18255e=_0x2a7ad6[0x0][_0x60e6fc(0x180)]('|')[_0x60e6fc(0x2bd)](_0x11c715=>_0x11c715[_0x60e6fc(0x193)]());return _0x2d51cc+='<thead><tr>',_0x18255e[_0x60e6fc(0x24f)](_0xe585e6=>{const _0x5d1761=_0x60e6fc;_0x2d51cc+=_0x5d1761(0x2de)+_0xe585e6['trim']()+_0x5d1761(0xb6);}),_0x2d51cc+=_0x60e6fc(0xb5),_0x2d51cc+=_0x60e6fc(0x119),_0x2a7ad6[_0x60e6fc(0x291)](0x2)[_0x60e6fc(0x24f)](_0x1b3af8=>{const _0x5ed51a=_0x60e6fc,_0x2222cc=_0x1b3af8[_0x5ed51a(0x180)]('|')['filter'](_0x333a9e=>_0x333a9e[_0x5ed51a(0x193)]());_0x2222cc[_0x5ed51a(0x204)]>0x0&&(_0x2d51cc+='<tr>',_0x2222cc[_0x5ed51a(0x24f)](_0x3a44a2=>{const _0xf82fb=_0x5ed51a;_0x2d51cc+=_0xf82fb(0x260)+_0x3a44a2['trim']()+_0xf82fb(0x14e);}),_0x2d51cc+=_0x5ed51a(0xbf));}),_0x2d51cc+=_0x60e6fc(0x81),_0x2d51cc;});}function updateUI(){const _0xaff289=_0x31976f;currentUser&&(document[_0xaff289(0x120)]('freeCredits')[_0xaff289(0x113)]=currentUser[_0xaff289(0x26b)],document[_0xaff289(0x120)]('paidCredits')[_0xaff289(0x113)]=currentUser[_0xaff289(0xe3)],document[_0xaff289(0x120)](_0xaff289(0xe2))[_0xaff289(0x113)]=currentUser[_0xaff289(0xe2)]||_0xaff289(0x2a6));}const apiManager=new GeminiApiManager();document[_0x31976f(0x1b1)]('click',function(_0x5dab28){const _0x24a906=_0x31976f,_0x11c448=document[_0x24a906(0xca)]('.sidebar'),_0x3fb610=document['querySelector'](_0x24a906(0x293));_0x11c448['classList'][_0x24a906(0x269)](_0x24a906(0x2d1))&&!_0x11c448[_0x24a906(0x269)](_0x5dab28[_0x24a906(0x175)])&&!_0x3fb610['contains'](_0x5dab28[_0x24a906(0x175)])&&(toggleSidebar(),_0x5dab28[_0x24a906(0xa1)]());}),window[_0x31976f(0xd6)]=function(_0x1ffc42){const _0x3c7bc1=_0x31976f,_0x3772ff=document[_0x3c7bc1(0xca)](_0x3c7bc1(0x88));if(_0x3772ff[_0x3c7bc1(0x144)][_0x3c7bc1(0x269)](_0x3c7bc1(0x2d1)))return toggleSidebar(),_0x1ffc42[_0x3c7bc1(0xa1)](),history[_0x3c7bc1(0x1b2)]({},'',''),![];},document[_0x31976f(0x120)](_0x31976f(0xdf))[_0x31976f(0xe6)]=_0x31976f(0x100),setInterval(updateUI,0x493e0),checkApiStatusRegularly(),window['showLoginModal']=showLoginModal,window[_0x31976f(0x2a8)]=showRegisterModal,window[_0x31976f(0x2cd)]=login,window[_0x31976f(0x23b)]=register,window[_0x31976f(0x9e)]=logout,window[_0x31976f(0x205)]=sendMessage,window[_0x31976f(0x1e7)]=buySubscription,window[_0x31976f(0x92)]=buyCredits,window[_0x31976f(0x1e1)]=toggleTheme,window[_0x31976f(0x187)]=toggleSidebar,window[_0x31976f(0xd7)]=createNewConversation,window[_0x31976f(0x8f)]=handleFileUpload,window[_0x31976f(0x226)]=togglePromptList,window[_0x31976f(0xdd)]=showReferralModal,window[_0x31976f(0x167)]=generateReferralCode,window[_0x31976f(0x1ab)]=copyReferralLink,window['shareOnFacebook']=shareOnFacebook,window['shareOnTwitter']=shareOnTwitter,window['shareOnLinkedIn']=shareOnLinkedIn,window[_0x31976f(0x7b)]=shareOnWhatsApp,window[_0x31976f(0xc4)]=removePinnedFile;
