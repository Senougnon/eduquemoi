const _0x2eb720=_0x4f43;(function(_0x44868b,_0x37b7a3){const _0x259a89=_0x4f43,_0x4b35c8=_0x44868b();while(!![]){try{const _0x49902e=-parseInt(_0x259a89(0x22d))/0x1+parseInt(_0x259a89(0x283))/0x2*(parseInt(_0x259a89(0x34b))/0x3)+-parseInt(_0x259a89(0x358))/0x4+parseInt(_0x259a89(0x1f9))/0x5+parseInt(_0x259a89(0x229))/0x6+parseInt(_0x259a89(0x1c2))/0x7+-parseInt(_0x259a89(0x200))/0x8;if(_0x49902e===_0x37b7a3)break;else _0x4b35c8['push'](_0x4b35c8['shift']());}catch(_0x52e114){_0x4b35c8['push'](_0x4b35c8['shift']());}}}(_0x1d46,0x93207));const API_KEY=_0x2eb720(0x13e),API_BASE_URL=_0x2eb720(0x2c7);let currentUser=null,pinnedFiles=[],currentConversation=[],conversations={},currentApiKeyIndex=0x0,userScrolling=![],lastScrollTop=0x0,scrollTimeout;const FREE_CREDITS_PER_DAY=0x3,FREE_CREDITS_REGISTER=0xa,FREE_MODEL_MAX_WORDS=0xc350,FREE_MODEL_MAX_RESPONSE=0x7d0,RETRY_CONFIG={'maxAttempts':0x32,'retryDelay':0x2710},SYSTEM_INSTRUCTION=_0x2eb720(0x2ab),firebaseConfig={'apiKey':'AIzaSyCvizcYorGDPN3GXqma0opp7wAiMkaCt64','authDomain':_0x2eb720(0x129),'databaseURL':_0x2eb720(0x21c),'projectId':_0x2eb720(0x282),'storageBucket':_0x2eb720(0x1ad),'messagingSenderId':_0x2eb720(0x195),'appId':'1:277143630015:web:78736f2cf52d29495d160a','measurementId':_0x2eb720(0x2d4)};firebase[_0x2eb720(0x216)](firebaseConfig);const db=firebase['database']();let prompts={},pinnedPrompt=null,pinnedResponses=[],genAI;const API_KEY_LIST_REF=db[_0x2eb720(0x25d)]('API');let apiKeyList=[];class GeminiApiManager{constructor(){const _0x3e2550=_0x2eb720;this['db']=firebase[_0x3e2550(0x15f)](),this['apiKeyList']=[],this['currentKeyIndex']=0x0,this[_0x3e2550(0x1f8)]={'maxAttempts':0x3,'baseDelay':0x3e8,'maxDelay':0x1388},this['errorTracker']=new Map();}async[_0x2eb720(0x184)](){const _0x4a8087=_0x2eb720;try{return await this[_0x4a8087(0x31d)](),this[_0x4a8087(0x16a)](),!![];}catch(_0x5a4450){return console[_0x4a8087(0x350)]('Erreur\x20lors\x20de\x20l\x27initialisation\x20du\x20gestionnaire\x20API:',_0x5a4450),![];}}async[_0x2eb720(0x31d)](){const _0x87fb36=_0x2eb720,_0x1bb73d=await this['db']['ref']('API')[_0x87fb36(0x223)](_0x87fb36(0x1d9)),_0x2ecab5=_0x1bb73d[_0x87fb36(0x307)]();if(!_0x2ecab5)throw new Error(_0x87fb36(0x363));this[_0x87fb36(0x26e)]=Object[_0x87fb36(0x183)](_0x2ecab5);if(this[_0x87fb36(0x26e)][_0x87fb36(0x139)]===0x0)throw new Error('La\x20liste\x20des\x20clés\x20API\x20est\x20vide');}['getCurrentApi'](){const _0x4e0f92=this['apiKeyList'][this['currentKeyIndex']];return new GoogleGenerativeAI(_0x4e0f92);}['startKeyRotation'](){setInterval(()=>{this['rotateKey']();},0x1388);}[_0x2eb720(0x20d)](){const _0x475090=_0x2eb720;this[_0x475090(0x13d)]=(this['currentKeyIndex']+0x1)%this[_0x475090(0x26e)]['length'];const _0x53dd2a=this[_0x475090(0x26e)][this[_0x475090(0x13d)]];try{genAI=new GoogleGenerativeAI(_0x53dd2a),model=genAI[_0x475090(0x35e)]({'model':document[_0x475090(0x1a9)]('modelSelect')[_0x475090(0x1d9)],'systemInstruction':SYSTEM_INSTRUCTION}),console[_0x475090(0x2d3)]('Rotation\x20de\x20clé\x20API\x20effectuée\x20avec\x20succès');}catch(_0x5ed1da){console[_0x475090(0x350)](_0x475090(0x12c),_0x5ed1da),this[_0x475090(0x1c3)](this[_0x475090(0x13d)]);}}[_0x2eb720(0x1c3)](_0x840f47){const _0x781d97=_0x2eb720,_0x2daaf3=this['apiKeyList'][_0x840f47];!this['errorTracker']['has'](_0x2daaf3)&&this['errorTracker'][_0x781d97(0x178)](_0x2daaf3,{'count':0x0,'lastError':Date[_0x781d97(0x291)]()});const _0x27bd82=this[_0x781d97(0x2a4)][_0x781d97(0x300)](_0x2daaf3);_0x27bd82[_0x781d97(0x169)]++,_0x27bd82[_0x781d97(0x2f9)]=Date[_0x781d97(0x291)]();}async['reactivateKey'](_0x3e65cb){const _0x1b489f=_0x2eb720;try{this['errorTracker']['delete'](this['apiKeyList'][_0x3e65cb]),console[_0x1b489f(0x2d3)]('Clé\x20API\x20réactivée:\x20'+this[_0x1b489f(0x26e)][_0x3e65cb][_0x1b489f(0x2c5)](0x0,0x8)+_0x1b489f(0x34a));}catch(_0x189478){console[_0x1b489f(0x350)](_0x1b489f(0x221),_0x189478);}}async['executeWithRetry'](_0x1d02bc){const _0xfde657=_0x2eb720;let _0x1c240e=0x0,_0x234f06=null;while(_0x1c240e<this[_0xfde657(0x1f8)]['maxAttempts']){try{genAI=this['getCurrentApi'](),model=genAI[_0xfde657(0x35e)]({'model':document[_0xfde657(0x1a9)](_0xfde657(0x35d))[_0xfde657(0x1d9)],'systemInstruction':SYSTEM_INSTRUCTION});const _0x23bb0b=await _0x1d02bc();return _0x23bb0b;}catch(_0x25fabc){_0x234f06=_0x25fabc,_0x1c240e++;if(!this['shouldRetry'](_0x25fabc)||_0x1c240e>=this[_0xfde657(0x1f8)]['maxAttempts'])throw _0x25fabc;const _0x15505c=this['calculateRetryDelay'](_0x1c240e);console[_0xfde657(0x2d3)](_0xfde657(0x30d)+_0x1c240e+'/'+this['retryConfig']['maxAttempts']+_0xfde657(0x286)+_0x15505c+'ms'),this['rotateKey'](),await new Promise(_0x25633a=>setTimeout(_0x25633a,_0x15505c));}}throw new Error(_0xfde657(0x33b)+_0x1c240e+_0xfde657(0x15b)+_0x234f06[_0xfde657(0x2ce)]);}[_0x2eb720(0x1f7)](_0x5baa0c){const _0x5a020a=_0x2eb720,_0x53ddd8=['RESOURCE_EXHAUSTED',_0x5a020a(0x268),_0x5a020a(0x316),_0x5a020a(0x15d),_0x5a020a(0x2c0)];return _0x53ddd8[_0x5a020a(0x227)](_0x5baa0c[_0x5a020a(0x32f)])||_0x5baa0c[_0x5a020a(0x2ce)][_0x5a020a(0x227)](_0x5a020a(0x16f))||_0x5baa0c[_0x5a020a(0x2ce)][_0x5a020a(0x227)](_0x5a020a(0x2ba))||_0x5baa0c[_0x5a020a(0x1f3)]===0x1ad||_0x5baa0c[_0x5a020a(0x1f3)]>=0x1f4;}[_0x2eb720(0x152)](_0x3ff62d){const _0x3412c3=_0x2eb720,_0x7edc80=Math[_0x3412c3(0x165)](this[_0x3412c3(0x1f8)][_0x3412c3(0x194)],this[_0x3412c3(0x1f8)][_0x3412c3(0x2fd)]*Math[_0x3412c3(0x1ea)](0x2,_0x3ff62d-0x1));return _0x7edc80+Math[_0x3412c3(0x2bf)]()*0x3e8;}['startPerformanceMonitoring'](){setInterval(()=>{const _0x120af5=_0x4f43;this[_0x120af5(0x29b)]();},0x493e0);}async[_0x2eb720(0x29b)](){const _0x2458ca=_0x2eb720,_0x20abf0=Array['from'](this[_0x2458ca(0x2a4)][_0x2458ca(0x31a)]())[_0x2458ca(0x23a)](([_0xdb940b,_0x4a242e])=>({'key':_0xdb940b[_0x2458ca(0x2c5)](0x0,0x8),'errors':_0x4a242e[_0x2458ca(0x169)],'lastError':new Date(_0x4a242e['lastError'])[_0x2458ca(0x230)]()}));console[_0x2458ca(0x164)](_0x20abf0);try{await this['db'][_0x2458ca(0x25d)](_0x2458ca(0x1c8))[_0x2458ca(0x1c7)]({'timestamp':Date[_0x2458ca(0x291)](),'stats':_0x20abf0});}catch(_0x3cb175){console[_0x2458ca(0x350)](_0x2458ca(0x30c),_0x3cb175);}}}async function loadApiKeyList(){const _0x122e96=_0x2eb720;try{const _0x2219e5=await API_KEY_LIST_REF[_0x122e96(0x223)](_0x122e96(0x1d9)),_0x1e4872=_0x2219e5[_0x122e96(0x307)]();_0x1e4872?apiKeyList=Object[_0x122e96(0x183)](_0x1e4872):console[_0x122e96(0x137)](_0x122e96(0x2ca));}catch(_0x191ec5){console[_0x122e96(0x350)](_0x122e96(0x2de),_0x191ec5);}}function getRandomApiKey(){const _0x47ff90=_0x2eb720;if(apiKeyList[_0x47ff90(0x139)]===0x0)return console[_0x47ff90(0x350)]('La\x20liste\x20des\x20clés\x20API\x20est\x20vide.'),null;const _0x589d8f=Math[_0x47ff90(0x235)](Math[_0x47ff90(0x2bf)]()*apiKeyList[_0x47ff90(0x139)]);return apiKeyList[_0x589d8f];}function getNextApiKey(){const _0x3a61be=_0x2eb720;if(apiKeyList[_0x3a61be(0x139)]===0x0)return console[_0x3a61be(0x350)](_0x3a61be(0x247)),null;const _0x552289=apiKeyList[currentApiKeyIndex];return currentApiKeyIndex=(currentApiKeyIndex+0x1)%apiKeyList[_0x3a61be(0x139)],_0x552289;}function initializeApiKeyRotation(){const _0x4d0750=_0x2eb720;apiKeyList[_0x4d0750(0x139)]>0x0&&(genAI=new GoogleGenerativeAI(getNextApiKey())),setInterval(()=>{const _0x282fe4=_0x4d0750,_0x609e3=getNextApiKey();_0x609e3&&(genAI=new GoogleGenerativeAI(_0x609e3),console[_0x282fe4(0x2d3)](_0x282fe4(0x188)),model=genAI[_0x282fe4(0x35e)]({'model':document[_0x282fe4(0x1a9)]('modelSelect')[_0x282fe4(0x1d9)],'systemInstruction':SYSTEM_INSTRUCTION}));},0x1388);}function initializeGeminiAPI(){const _0x232ea1=_0x2eb720,_0x2760ab=getNextApiKey();_0x2760ab?(genAI=new GoogleGenerativeAI(_0x2760ab),model=genAI[_0x232ea1(0x35e)]({'model':document[_0x232ea1(0x1a9)](_0x232ea1(0x35d))[_0x232ea1(0x1d9)],'systemInstruction':SYSTEM_INSTRUCTION})):showNotification(_0x232ea1(0x25e),'error');}class ApiError extends Error{constructor(_0x42e5fa,_0xcd4f37){const _0x50413c=_0x2eb720;super(_0x42e5fa),this[_0x50413c(0x1f3)]=_0xcd4f37,this['name']=_0x50413c(0x177);}}class ApiKeyManager{constructor(_0xf7b34c){const _0x575b44=_0x2eb720;this[_0x575b44(0x1d5)]=_0xf7b34c,this[_0x575b44(0x120)]=0x0,this[_0x575b44(0x2e0)]=new Set();}[_0x2eb720(0x306)](){const _0x183fee=_0x2eb720,_0x3a1d24=this[_0x183fee(0x120)];do{this[_0x183fee(0x120)]=(this[_0x183fee(0x120)]+0x1)%this[_0x183fee(0x1d5)][_0x183fee(0x139)];if(!this[_0x183fee(0x2e0)][_0x183fee(0x1a3)](this[_0x183fee(0x1d5)][this[_0x183fee(0x120)]]))return this[_0x183fee(0x1d5)][this['currentIndex']];}while(this[_0x183fee(0x120)]!==_0x3a1d24);return null;}[_0x2eb720(0x2a2)](){const _0x158879=_0x2eb720;this[_0x158879(0x2e0)]['clear']();}[_0x2eb720(0x357)](_0x33edff){const _0x5b071d=_0x2eb720;this[_0x5b071d(0x2e0)][_0x5b071d(0x170)](_0x33edff);}}async function executeWithRetry(_0x24eb25){const _0x4c0c71=_0x2eb720,_0x3f26fe=new ApiKeyManager(apiKeyList);let _0x321ec0=null,_0x31623d=0x0;while(_0x31623d<RETRY_CONFIG[_0x4c0c71(0x31e)]){const _0x2fc668=_0x3f26fe[_0x4c0c71(0x306)]();if(!_0x2fc668)throw new Error(_0x4c0c71(0x1fb));try{genAI=new GoogleGenerativeAI(_0x2fc668),model=genAI['getGenerativeModel']({'model':document['getElementById'](_0x4c0c71(0x35d))[_0x4c0c71(0x1d9)],'systemInstruction':SYSTEM_INSTRUCTION});const _0x427a88=await _0x24eb25();return console[_0x4c0c71(0x2d3)](_0x4c0c71(0x1cb)+_0x2fc668),_0x427a88;}catch(_0x54b433){_0x321ec0=_0x54b433,_0x3f26fe[_0x4c0c71(0x357)](_0x2fc668),_0x31623d++,console[_0x4c0c71(0x2d3)]('Échec\x20de\x20la\x20requête\x20avec\x20la\x20clé\x20API\x20'+_0x2fc668+_0x4c0c71(0x34e)+_0x31623d+'/'+RETRY_CONFIG[_0x4c0c71(0x31e)]),_0x31623d<RETRY_CONFIG[_0x4c0c71(0x31e)]&&await new Promise(_0x3cf426=>setTimeout(_0x3cf426,RETRY_CONFIG['retryDelay']));}}throw new Error(_0x4c0c71(0x33b)+_0x31623d+_0x4c0c71(0x15b)+_0x321ec0[_0x4c0c71(0x2ce)]);}function shouldRetry(_0x439b55){const _0x5cb0db=_0x2eb720,_0x31215f=['RESOURCE_EXHAUSTED',_0x5cb0db(0x268),_0x5cb0db(0x316),_0x5cb0db(0x15d),'CANCELLED'];return _0x31215f[_0x5cb0db(0x227)](_0x439b55[_0x5cb0db(0x32f)])||_0x439b55['message'][_0x5cb0db(0x227)](_0x5cb0db(0x16f))||_0x439b55[_0x5cb0db(0x2ce)][_0x5cb0db(0x227)]('rate\x20limit')||_0x439b55[_0x5cb0db(0x1f3)]===0x1ad||_0x439b55[_0x5cb0db(0x1f3)]>=0x1f4;}function createPointer(){const _0x5c65f5=_0x2eb720,_0x478d41=document[_0x5c65f5(0x25a)](_0x5c65f5(0x1d2));return _0x478d41['classList']['add'](_0x5c65f5(0x319)),_0x478d41[_0x5c65f5(0x130)]='👆',_0x478d41[_0x5c65f5(0x202)][_0x5c65f5(0x121)]='absolute',_0x478d41[_0x5c65f5(0x202)][_0x5c65f5(0x297)]=_0x5c65f5(0x293),document[_0x5c65f5(0x1af)][_0x5c65f5(0x359)](_0x478d41),_0x478d41;}function positionPointer(_0x1feb96,_0x15b079){const _0x1bcdbf=_0x2eb720,_0xa3eef8=_0x15b079['getBoundingClientRect']();_0x1feb96[_0x1bcdbf(0x202)][_0x1bcdbf(0x2c6)]=_0xa3eef8[_0x1bcdbf(0x2c6)]+_0xa3eef8['width']/0x2+'px',_0x1feb96[_0x1bcdbf(0x202)]['top']=_0xa3eef8[_0x1bcdbf(0x1fd)]+_0xa3eef8[_0x1bcdbf(0x253)]/0x2+'px',_0x1feb96[_0x1bcdbf(0x202)][_0x1bcdbf(0x297)]='block';}function highlightElement(_0xb65c57){const _0x1b565d=_0x2eb720;_0xb65c57[_0x1b565d(0x187)][_0x1b565d(0x170)](_0x1b565d(0x304));}function removeHighlight(_0x273102){const _0x5c14e5=_0x2eb720;_0x273102[_0x5c14e5(0x187)][_0x5c14e5(0x1e3)](_0x5c14e5(0x304));}function startGuidedTour(){const _0x408f51=_0x2eb720,_0x1942b4=createPointer(),_0x4271af=new Shepherd[(_0x408f51(0x12b))]({'defaultStepOptions':{'cancelIcon':{'enabled':!![]},'classes':_0x408f51(0x35f),'scrollTo':{'behavior':'smooth','block':'center'}}}),_0x3a3ac9=[{'id':_0x408f51(0x19f),'text':_0x408f51(0x240),'attachTo':{'element':_0x408f51(0x2e7),'on':_0x408f51(0x1eb)}},{'id':_0x408f51(0x314),'text':'Voici\x20le\x20menu\x20principal.\x20Il\x20vous\x20permet\x20d\x27accéder\x20à\x20différentes\x20fonctionnalités\x20de\x20l\x27application\x20(Models,\x20Crédits,\x20Bibliothèque,\x20Récompense...).','attachTo':{'element':'.toggle-sidebar','on':_0x408f51(0x1e0)},'beforeShow':()=>{const _0x49631e=_0x408f51,_0xe75d86=document[_0x49631e(0x276)](_0x49631e(0x242));highlightElement(_0xe75d86);const _0x2acf4a=document[_0x49631e(0x276)](_0x49631e(0x141));!_0x2acf4a[_0x49631e(0x187)][_0x49631e(0x1fe)]('visible')&&_0xe75d86[_0x49631e(0x266)]();},'beforeHide':()=>{const _0x19f783=document['querySelector']('.toggle-sidebar');removeHighlight(_0x19f783);}},{'id':'input-area','text':_0x408f51(0x1da),'attachTo':{'element':_0x408f51(0x172),'on':_0x408f51(0x1fd)}},{'id':'file-upload','text':'Cliquez\x20ici\x20pour\x20importer\x20des\x20fichiers\x20(image,\x20pdf,\x20docx,\x20doc,\x20txt)\x20que\x20vous\x20voulez\x20analyser.','attachTo':{'element':_0x408f51(0x15a),'on':_0x408f51(0x1fd)}},{'id':_0x408f51(0x28c),'text':'Ce\x20bouton\x20ouvre\x20la\x20liste\x20des\x20demandes\x20personnalisées\x20(Utile\x20si\x20vous\x20ne\x20savez\x20pas\x20comment\x20faire\x20une\x20demande).','attachTo':{'element':'#promptListButton','on':_0x408f51(0x1fd)}},{'id':_0x408f51(0x134),'text':_0x408f51(0x17b),'attachTo':{'element':_0x408f51(0x231),'on':'top'}},{'id':_0x408f51(0x2df),'text':_0x408f51(0x196),'attachTo':{'element':_0x408f51(0x2d2),'on':_0x408f51(0x1eb)}}];_0x3a3ac9[_0x408f51(0x248)]((_0x553689,_0x15e165)=>{const _0x4df275=_0x408f51;_0x4271af['addStep']({..._0x553689,'buttons':[{'text':_0x15e165===_0x3a3ac9[_0x4df275(0x139)]-0x1?_0x4df275(0x265):_0x4df275(0x16e),'action':_0x15e165===_0x3a3ac9[_0x4df275(0x139)]-0x1?_0x4271af[_0x4df275(0x24d)]:_0x4271af['next']}],'beforeShow':()=>{const _0x26f9fd=_0x4df275,_0x588b46=document[_0x26f9fd(0x276)](_0x553689[_0x26f9fd(0x2a0)][_0x26f9fd(0x133)]);_0x588b46&&positionPointer(_0x1942b4,_0x588b46),_0x553689['beforeShow']&&_0x553689[_0x26f9fd(0x325)]();},'beforeHide':()=>{const _0x70366a=_0x4df275;_0x1942b4['style'][_0x70366a(0x297)]='none';}});}),_0x4271af['on'](_0x408f51(0x24d),()=>{const _0x290c53=_0x408f51;_0x1942b4[_0x290c53(0x1e3)]();const _0x38dddf=document[_0x290c53(0x276)](_0x290c53(0x141));_0x38dddf[_0x290c53(0x187)][_0x290c53(0x1fe)](_0x290c53(0x175))&&document['querySelector']('.toggle-sidebar')['click']();}),_0x4271af[_0x408f51(0x29a)]();}async function checkGuidedTourStatus(_0x441ac2){const _0x170e60=_0x2eb720,_0x23a634=db['ref'](_0x170e60(0x1ed)+_0x441ac2),_0x8c8cbb=await _0x23a634[_0x170e60(0x223)]('value'),_0x45142b=_0x8c8cbb[_0x170e60(0x307)]();return _0x45142b&&_0x45142b['hasSeenGuidedTour'];}async function markGuidedTourAsSeen(_0x5f3f09){const _0x443528=_0x2eb720,_0x3ada1c=db[_0x443528(0x25d)](_0x443528(0x1ed)+_0x5f3f09);await _0x3ada1c[_0x443528(0x28f)]({'hasSeenGuidedTour':!![]});}async function checkSubscriptionStatus(){const _0x300ff6=_0x2eb720;if(!currentUser||!currentUser[_0x300ff6(0x367)])return;const _0xa47668=new Date(),_0x5be5b1=new Date(currentUser[_0x300ff6(0x367)]);if(_0xa47668>_0x5be5b1)currentUser[_0x300ff6(0x213)]=null,currentUser[_0x300ff6(0x367)]=null,await syncUserData(),showNotification('Votre\x20abonnement\x20a\x20expiré.',_0x300ff6(0x25c)),updateUIForLoggedInUser();else{if(_0xa47668>new Date(_0x5be5b1[_0x300ff6(0x320)]()-0x3*0x18*0x3c*0x3c*0x3e8)){const _0x2fd15b=Math[_0x300ff6(0x161)]((_0x5be5b1-_0xa47668)/(0x18*0x3c*0x3c*0x3e8));showNotification(_0x300ff6(0x219)+_0x2fd15b+_0x300ff6(0x35b)+(_0x2fd15b>0x1?'s':'')+'.',_0x300ff6(0x262));}}}function generateInvoicePDF(_0x3b26fc){const _0x54af88=_0x2eb720,{jsPDF:_0x403b74}=window[_0x54af88(0x27b)],_0x9dc54a=new _0x403b74();return _0x9dc54a['setFontSize'](0x12),_0x9dc54a[_0x54af88(0x351)](_0x54af88(0x36d),0x69,0x14,null,null,_0x54af88(0x2e2)),_0x9dc54a[_0x54af88(0x2c8)](0xc),_0x9dc54a[_0x54af88(0x351)](_0x54af88(0x364)+currentUser[_0x54af88(0x1e9)],0x14,0x28),_0x9dc54a['text'](_0x54af88(0x298)+new Date()[_0x54af88(0x1e1)](),0x14,0x32),_0x9dc54a['text']('Description\x20:\x20'+_0x3b26fc[_0x54af88(0x1b5)],0x14,0x3c),_0x9dc54a[_0x54af88(0x351)](_0x54af88(0x305)+_0x3b26fc[_0x54af88(0x30a)]+_0x54af88(0x179),0x14,0x46),_0x9dc54a['text'](_0x54af88(0x166)+_0x3b26fc['id'],0x14,0x50),_0x9dc54a;}function showInvoiceDetails(_0x3956d4){const _0x107b48=_0x2eb720,_0x5c5fb5=document[_0x107b48(0x25a)](_0x107b48(0x1d2));_0x5c5fb5['className']=_0x107b48(0x1b9),_0x5c5fb5[_0x107b48(0x130)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>Détails\x20de\x20la\x20facture</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Date:</strong>\x20'+new Date()['toLocaleDateString']()+_0x107b48(0x33c)+_0x3956d4[_0x107b48(0x1b5)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Montant:</strong>\x20'+_0x3956d4[_0x107b48(0x30a)]+'\x20FCFA</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Numéro\x20de\x20transaction:</strong>\x20'+_0x3956d4['id']+_0x107b48(0x2b1),document[_0x107b48(0x1af)][_0x107b48(0x359)](_0x5c5fb5),document[_0x107b48(0x1a9)](_0x107b48(0x158))[_0x107b48(0x1b0)](_0x107b48(0x266),()=>{const _0x44bb3d=_0x107b48,_0x4d362=generateInvoicePDF(_0x3956d4);_0x4d362[_0x44bb3d(0x2a1)](_0x44bb3d(0x33d)+_0x3956d4['id']+_0x44bb3d(0x2c9));}),document[_0x107b48(0x1a9)]('closeModal')[_0x107b48(0x1b0)](_0x107b48(0x266),()=>{const _0x2a4e97=_0x107b48;document[_0x2a4e97(0x1af)][_0x2a4e97(0x2e5)](_0x5c5fb5);});}function initializeNewDiscussion(){const _0x130ee7=_0x2eb720;currentConversation=[];const _0x468982=document['getElementById'](_0x130ee7(0x243));_0x468982[_0x130ee7(0x130)]='',addMessageToChat('ai',_0x130ee7(0x222)),updateConversationHistory();}function showLoginModal(){const _0x1f26d8=_0x2eb720;document[_0x1f26d8(0x1a9)]('loginModal')[_0x1f26d8(0x202)][_0x1f26d8(0x297)]=_0x1f26d8(0x2c2);}function showRegisterModal(){const _0xe96b18=_0x2eb720;document['getElementById']('registerModal')[_0xe96b18(0x202)]['display']=_0xe96b18(0x2c2);}function closeModal(_0x11fed5){const _0x33abdc=_0x2eb720;document[_0x33abdc(0x1a9)](_0x11fed5)[_0x33abdc(0x202)][_0x33abdc(0x297)]=_0x33abdc(0x293);}function updateUIForLoggedInUser(){const _0x1c4651=_0x2eb720;document['getElementById'](_0x1c4651(0x1c5))[_0x1c4651(0x187)][_0x1c4651(0x170)](_0x1c4651(0x343)),document[_0x1c4651(0x1a9)](_0x1c4651(0x160))[_0x1c4651(0x187)][_0x1c4651(0x170)](_0x1c4651(0x343)),document[_0x1c4651(0x1a9)](_0x1c4651(0x2ad))[_0x1c4651(0x187)][_0x1c4651(0x1e3)](_0x1c4651(0x343)),document[_0x1c4651(0x1a9)](_0x1c4651(0x1a2))[_0x1c4651(0x187)]['remove'](_0x1c4651(0x343)),document[_0x1c4651(0x1a9)](_0x1c4651(0x1e9))[_0x1c4651(0x125)]=currentUser[_0x1c4651(0x1e9)],document[_0x1c4651(0x1a9)]('freeCredits')[_0x1c4651(0x125)]=currentUser[_0x1c4651(0x1f4)],document[_0x1c4651(0x1a9)]('paidCredits')[_0x1c4651(0x125)]=currentUser[_0x1c4651(0x1dd)],document[_0x1c4651(0x1a9)](_0x1c4651(0x213))['textContent']=currentUser[_0x1c4651(0x213)]||_0x1c4651(0x33a),loadConversationHistory();}function updateUIForLoggedOutUser(){const _0x381512=_0x2eb720;document[_0x381512(0x1a9)](_0x381512(0x1c5))[_0x381512(0x187)][_0x381512(0x1e3)]('hidden'),document[_0x381512(0x1a9)](_0x381512(0x160))['classList']['remove'](_0x381512(0x343)),document[_0x381512(0x1a9)](_0x381512(0x2ad))['classList'][_0x381512(0x170)](_0x381512(0x343)),document[_0x381512(0x1a9)](_0x381512(0x1a2))[_0x381512(0x187)][_0x381512(0x170)](_0x381512(0x343)),document['getElementById'](_0x381512(0x241))[_0x381512(0x130)]='<h3>Historique\x20des\x20conversations</h3>';}function storeLoginInfo(_0x15501e,_0x20ae4f){const _0x591f28=_0x2eb720;localStorage['setItem'](_0x591f28(0x14d),_0x15501e),localStorage[_0x591f28(0x267)]('eduqueMoiPassword',_0x20ae4f);}function getStoredLoginInfo(){const _0x2f5578=_0x2eb720;return{'username':localStorage[_0x2f5578(0x1bd)](_0x2f5578(0x14d)),'password':localStorage[_0x2f5578(0x1bd)](_0x2f5578(0x206))};}function clearLoginInfo(){const _0x3ab5bd=_0x2eb720;localStorage['removeItem'](_0x3ab5bd(0x14d)),localStorage[_0x3ab5bd(0x313)](_0x3ab5bd(0x206));}async function register(){const _0x3b39d6=_0x2eb720,_0x552310=document[_0x3b39d6(0x1a9)](_0x3b39d6(0x296))['value'],_0x51a4a9=document[_0x3b39d6(0x1a9)](_0x3b39d6(0x318))[_0x3b39d6(0x1d9)],_0x19d123=new URLSearchParams(window[_0x3b39d6(0x254)]['search'])['get']('ref');if(!_0x552310||!_0x51a4a9){showNotification(_0x3b39d6(0x311),_0x3b39d6(0x350));return;}try{const _0x36cbbf=db['ref']('users/'+_0x552310),_0x1ae858=await _0x36cbbf[_0x3b39d6(0x223)]('value');if(_0x1ae858[_0x3b39d6(0x2f1)]()){showNotification('Ce\x20nom\x20d\x27utilisateur\x20existe\x20déjà.',_0x3b39d6(0x350));return;}const _0x3ee8b5=new Date(),_0x59b43f={'password':_0x51a4a9,'freeCredits':FREE_CREDITS_REGISTER,'paidCredits':0x0,'subscription':null,'subscriptionEndDate':null,'lastFreeCreditsReset':_0x3ee8b5[_0x3b39d6(0x18e)](),'referredBy':_0x19d123||null,'firstPurchase':![],'totalReferrals':0x0,'activeReferrals':0x0,'hasSeenGuidedTour':![]};await _0x36cbbf[_0x3b39d6(0x178)](_0x59b43f);if(_0x19d123){const _0x328569=await db[_0x3b39d6(0x25d)](_0x3b39d6(0x327))['orderByChild'](_0x3b39d6(0x36b))['equalTo'](_0x19d123)[_0x3b39d6(0x223)](_0x3b39d6(0x1d9)),_0x90f9fd=_0x328569['val']();if(_0x90f9fd){const _0x1f4d20=Object['keys'](_0x90f9fd)[0x0];await db[_0x3b39d6(0x25d)](_0x3b39d6(0x1ed)+_0x1f4d20+_0x3b39d6(0x159)+_0x552310)[_0x3b39d6(0x178)]({'date':_0x3ee8b5[_0x3b39d6(0x18e)](),'isActive':![]});const _0x3e4856=db[_0x3b39d6(0x25d)]('users/'+_0x1f4d20);await _0x3e4856[_0x3b39d6(0x156)](_0x24aa71=>{const _0x498766=_0x3b39d6;return _0x24aa71&&(_0x24aa71['totalReferrals']=(_0x24aa71[_0x498766(0x28b)]||0x0)+0x1),_0x24aa71;}),currentUser&&currentUser['username']===_0x1f4d20&&(document[_0x3b39d6(0x1a9)]('totalReferrals')[_0x3b39d6(0x125)]=(parseInt(document[_0x3b39d6(0x1a9)](_0x3b39d6(0x28b))['textContent'])||0x0)+0x1);}}currentUser={'username':_0x552310,..._0x59b43f},updateUIForLoggedInUser(),showNotification(_0x3b39d6(0x2e4),'success'),closeModal('registerModal'),storeLoginInfo(_0x552310,_0x51a4a9),startGuidedTour(),await markGuidedTourAsSeen(_0x552310);}catch(_0x1fd39c){console[_0x3b39d6(0x350)]('Erreur\x20lors\x20de\x20l\x27inscription:',_0x1fd39c),showNotification(_0x3b39d6(0x264),'error');}}async function login(_0x3d99ee,_0x4963a2){const _0xb20b67=_0x2eb720;(!_0x3d99ee||!_0x4963a2)&&(_0x3d99ee=document[_0xb20b67(0x1a9)](_0xb20b67(0x154))[_0xb20b67(0x1d9)],_0x4963a2=document[_0xb20b67(0x1a9)](_0xb20b67(0x2e9))['value']);if(!_0x3d99ee||!_0x4963a2){showNotification(_0xb20b67(0x311),_0xb20b67(0x350));return;}try{const _0x1d039a=db[_0xb20b67(0x25d)](_0xb20b67(0x1ed)+_0x3d99ee),_0x10e0f9=await _0x1d039a[_0xb20b67(0x223)](_0xb20b67(0x1d9));if(_0x10e0f9[_0xb20b67(0x2f1)]()&&_0x10e0f9[_0xb20b67(0x307)]()[_0xb20b67(0x239)]===_0x4963a2){const _0x3639d6=_0x10e0f9['val']();currentUser={'username':_0x3d99ee,'freeCredits':_0x3639d6[_0xb20b67(0x1f4)]||0x0,'paidCredits':_0x3639d6[_0xb20b67(0x1dd)]||0x0,'subscription':_0x3639d6[_0xb20b67(0x213)]||null,'subscriptionEndDate':_0x3639d6[_0xb20b67(0x367)]||null,'lastFreeCreditsReset':_0x3639d6[_0xb20b67(0x18a)]||new Date()['toISOString'](),'referralCode':_0x3639d6[_0xb20b67(0x36b)]||null,'totalReferrals':_0x3639d6[_0xb20b67(0x28b)]||0x0,'activeReferrals':_0x3639d6['activeReferrals']||0x0},await resetFreeCreditsIfNeeded(),await checkSubscriptionStatus(),await initializeImageGenerationTracking(_0x3d99ee),updateUIForLoggedInUser(),storeLoginInfo(_0x3d99ee,_0x4963a2),loadConversationHistory();const _0x208ebd=await checkGuidedTourStatus(_0x3d99ee);!_0x208ebd&&(startGuidedTour(),await markGuidedTourAsSeen(_0x3d99ee)),_0x3639d6[_0xb20b67(0x352)]&&await updateReferralStats(_0x3d99ee),importedFilesCount=_0x3639d6[_0xb20b67(0x252)]||0x0,lastImportReset=new Date(_0x3639d6[_0xb20b67(0x23b)]||new Date()),await syncUserData(),showNotification('Connexion\x20réussie\x20!','success'),closeModal(_0xb20b67(0x25b)),_0x3639d6[_0xb20b67(0x2a5)]&&loadCustomPrompts(_0x3639d6[_0xb20b67(0x2a5)]),checkPendingNotifications(),initializeGeminiAPI(),createNewConversation();}else showNotification(_0xb20b67(0x232),'error');}catch(_0x13f91a){console[_0xb20b67(0x350)](_0xb20b67(0x309),_0x13f91a),showNotification(_0xb20b67(0x1d3),_0xb20b67(0x350));}}async function checkPendingNotifications(){const _0x29ca92=_0x2eb720;if(currentUser[_0x29ca92(0x213)]){const _0x4a1ca7=new Date(currentUser[_0x29ca92(0x367)]),_0x3ee5c8=new Date(),_0x3232f3=Math['ceil']((_0x4a1ca7-_0x3ee5c8)/(0x3e8*0x3c*0x3c*0x18));_0x3232f3<=0x3&&_0x3232f3>0x0&&showNotification(_0x29ca92(0x219)+_0x3232f3+_0x29ca92(0x35b)+(_0x3232f3>0x1?'s':'')+'.',_0x29ca92(0x262));}!currentUser[_0x29ca92(0x213)]&&currentUser[_0x29ca92(0x1dd)]<0xa&&currentUser[_0x29ca92(0x1f4)]<0x3&&showNotification(_0x29ca92(0x279),'warning');}function loadCustomPrompts(_0x1a6baa){const _0xac8904=_0x2eb720;Array['isArray'](_0x1a6baa)&&_0x1a6baa[_0xac8904(0x248)](_0x3a5d3e=>{!prompts[_0x3a5d3e['id']]&&(prompts[_0x3a5d3e['id']]=_0x3a5d3e);});}function logout(){const _0x440017=_0x2eb720;currentUser&&syncUserData(),currentUser=null,updateUIForLoggedOutUser(),showNotification(_0x440017(0x1cd),_0x440017(0x2e8)),clearLoginInfo();}async function resetFreeCreditsIfNeeded(){const _0x526776=_0x2eb720,_0x57827b=new Date(),_0x2c3aad=new Date(currentUser[_0x526776(0x18a)]);if(_0x57827b['getTime']()-_0x2c3aad[_0x526776(0x320)]()>=0x18*0x3c*0x3c*0x3e8){const _0x4235fb=currentUser[_0x526776(0x1f4)];currentUser[_0x526776(0x1f4)]=FREE_CREDITS_PER_DAY,currentUser[_0x526776(0x18a)]=_0x57827b[_0x526776(0x18e)](),await syncUserData(),document[_0x526776(0x1a9)](_0x526776(0x1f4))[_0x526776(0x125)]=currentUser[_0x526776(0x1f4)];const _0x359cf0=currentUser['freeCredits']-_0x4235fb;_0x359cf0>0x0&&showNotification(_0x359cf0+_0x526776(0x258),_0x526776(0x2e8));}}async function checkModelAccess(){const _0x3acaff=_0x2eb720,_0x2df24e=document[_0x3acaff(0x1a9)]('modelSelect')['value'],_0x31ddab=document['getElementById'](_0x3acaff(0x308));_0x31ddab[_0x3acaff(0x202)][_0x3acaff(0x297)]=isImageGenerationModel(_0x2df24e)?_0x3acaff(0x2c2):_0x3acaff(0x293);if(isImageGenerationModel(_0x2df24e)){if(!hasValidSubscription()&&currentUser[_0x3acaff(0x1dd)]<0x5&&currentUser['freeCredits']<0x5){showPaymentNotification(_0x3acaff(0x29f)),document[_0x3acaff(0x1a9)](_0x3acaff(0x35d))['value']=_0x3acaff(0x2c4),_0x31ddab[_0x3acaff(0x202)]['display']=_0x3acaff(0x293);return;}}else![_0x3acaff(0x2c4),_0x3acaff(0x1ac)][_0x3acaff(0x227)](_0x2df24e)&&!hasValidSubscription()&&currentUser[_0x3acaff(0x1dd)]<=0x0&&(showPaymentNotification(_0x3acaff(0x151)),document[_0x3acaff(0x1a9)](_0x3acaff(0x35d))[_0x3acaff(0x1d9)]='gemini-2.0-flash-exp');}async function handleFileUpload(_0x14f523){const _0x136e73=_0x2eb720,_0x157d46=_0x14f523['target'][_0x136e73(0x149)];for(let _0x57f49d=0x0;_0x57f49d<_0x157d46[_0x136e73(0x139)];_0x57f49d++){const _0x51f68c=_0x157d46[_0x57f49d];if(_0x51f68c[_0x136e73(0x27d)]===_0x136e73(0x2ec)||_0x51f68c[_0x136e73(0x27d)]===_0x136e73(0x16c))try{const _0x495e2b=await convertWordToText(_0x51f68c);pinnedFiles[_0x136e73(0x1c7)]({'name':_0x51f68c[_0x136e73(0x1b7)][_0x136e73(0x348)](/\.[^/.]+$/,'')+_0x136e73(0x2d1),'type':_0x136e73(0x317),'content':_0x495e2b}),updatePinnedFiles(),importedFilesCount++,await db['ref']('users/'+currentUser[_0x136e73(0x1e9)])['update']({'importedFilesCount':importedFilesCount});}catch(_0xea39cb){console[_0x136e73(0x350)](_0x136e73(0x218),_0xea39cb),showNotification(_0x136e73(0x29d),_0x136e73(0x350));}else(_0x51f68c[_0x136e73(0x27d)][_0x136e73(0x204)]('image/')||_0x51f68c[_0x136e73(0x27d)]==='application/pdf')&&(pinnedFiles['push'](_0x51f68c),updatePinnedFiles());}}function convertWordToText(_0x464dbe){return new Promise((_0x46001e,_0x433def)=>{const _0xc8eab2=_0x4f43,_0x10c1d1=new FileReader();_0x10c1d1[_0xc8eab2(0x2d9)]=function(_0xe305c4){const _0x233001=_0xc8eab2,_0x17a2d8=_0xe305c4[_0x233001(0x1e8)][_0x233001(0x369)];mammoth['extractRawText']({'arrayBuffer':_0x17a2d8})[_0x233001(0x337)](function(_0x2d5214){const _0x37bd8d=_0x233001;_0x46001e(_0x2d5214[_0x37bd8d(0x1d9)]);})[_0x233001(0x14f)](function(_0x281848){_0x433def(_0x281848);});},_0x10c1d1[_0xc8eab2(0x275)](_0x464dbe);});}function updatePinnedFiles(){const _0x22852a=_0x2eb720,_0x5ef11a=document[_0x22852a(0x1a9)]('pinnedItems'),_0x484a18=_0x5ef11a[_0x22852a(0x276)](_0x22852a(0x20b));_0x5ef11a[_0x22852a(0x130)]='',_0x484a18&&_0x5ef11a[_0x22852a(0x359)](_0x484a18),pinnedFiles['forEach']((_0x249819,_0x42b772)=>{const _0x2e5bc5=_0x22852a,_0x1a615b=document[_0x2e5bc5(0x25a)](_0x2e5bc5(0x1d2));_0x1a615b[_0x2e5bc5(0x1a7)]=_0x2e5bc5(0x27c),_0x1a615b[_0x2e5bc5(0x365)](_0x2e5bc5(0x1c6),_0x2e5bc5(0x12f)),_0x1a615b[_0x2e5bc5(0x130)]=_0x2e5bc5(0x263)+(_0x249819[_0x2e5bc5(0x27d)]['startsWith'](_0x2e5bc5(0x2cb))?_0x2e5bc5(0x366):'📄')+_0x2e5bc5(0x2a9)+_0x249819[_0x2e5bc5(0x1b7)]+'\x22>'+_0x249819[_0x2e5bc5(0x1b7)]+_0x2e5bc5(0x22b)+_0x42b772+')\x22>❌</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x5ef11a[_0x2e5bc5(0x359)](_0x1a615b);});}function removePinnedFile(_0x1f2014){const _0x28c01c=_0x2eb720;pinnedFiles[_0x28c01c(0x303)](_0x1f2014,0x1),updatePinnedFiles();}function createPinnedFilesElement(_0x11d30d){const _0x32b1de=_0x2eb720,_0x2d257e=document[_0x32b1de(0x25a)](_0x32b1de(0x1d2));return _0x2d257e[_0x32b1de(0x1a7)]=_0x32b1de(0x341),_0x11d30d['forEach'](_0x2f4fc2=>{const _0x10c8b7=_0x32b1de,_0x3aee9a=document[_0x10c8b7(0x25a)](_0x10c8b7(0x1d2));_0x3aee9a[_0x10c8b7(0x1a7)]=_0x10c8b7(0x23f);if(_0x2f4fc2[_0x10c8b7(0x27d)][_0x10c8b7(0x204)](_0x10c8b7(0x2cb))){const _0x113d16=document[_0x10c8b7(0x25a)](_0x10c8b7(0x162));_0x113d16['src']=URL[_0x10c8b7(0x174)](_0x2f4fc2),_0x113d16[_0x10c8b7(0x140)]=_0x2f4fc2[_0x10c8b7(0x1b7)],_0x113d16['className']=_0x10c8b7(0x1a5),_0x3aee9a[_0x10c8b7(0x359)](_0x113d16);}else{const _0x2a8525=document[_0x10c8b7(0x25a)](_0x10c8b7(0x167));_0x2a8525[_0x10c8b7(0x1a7)]=_0x10c8b7(0x2dd),_0x2a8525[_0x10c8b7(0x125)]=_0x2f4fc2[_0x10c8b7(0x27d)][_0x10c8b7(0x204)](_0x10c8b7(0x1ee))?'📄':'📎',_0x3aee9a[_0x10c8b7(0x359)](_0x2a8525);}const _0x3a3bf5=document[_0x10c8b7(0x25a)](_0x10c8b7(0x167));_0x3a3bf5[_0x10c8b7(0x1a7)]=_0x10c8b7(0x2ed),_0x3a3bf5['textContent']=_0x2f4fc2[_0x10c8b7(0x1b7)],_0x3aee9a['appendChild'](_0x3a3bf5),_0x2d257e[_0x10c8b7(0x359)](_0x3aee9a);}),_0x2d257e;}function createPinnedResponsesElement(_0x1d8d58){const _0x46d6a0=_0x2eb720,_0x1a2d98=document['createElement']('div');return _0x1a2d98[_0x46d6a0(0x1a7)]='pinned-responses-message',_0x1d8d58[_0x46d6a0(0x248)](_0x585476=>{const _0x2cc795=_0x46d6a0,_0x39d66d=document[_0x2cc795(0x25a)]('div');_0x39d66d['className']=_0x2cc795(0x148);const _0x40446e=document[_0x2cc795(0x25a)]('span');_0x40446e[_0x2cc795(0x1a7)]='response-icon',_0x40446e[_0x2cc795(0x125)]='💬';const _0x488db7=document[_0x2cc795(0x25a)](_0x2cc795(0x167));_0x488db7['className']=_0x2cc795(0x336),_0x488db7[_0x2cc795(0x125)]=_0x585476[_0x2cc795(0x2cc)],_0x39d66d['appendChild'](_0x40446e),_0x39d66d[_0x2cc795(0x359)](_0x488db7),_0x1a2d98['appendChild'](_0x39d66d);}),_0x1a2d98;}function createPinnedPromptElement(_0x3a5507){const _0x5ef1ad=_0x2eb720,_0x589bd9=document[_0x5ef1ad(0x25a)](_0x5ef1ad(0x1d2));_0x589bd9[_0x5ef1ad(0x1a7)]=_0x5ef1ad(0x191);const _0x50c139=document[_0x5ef1ad(0x25a)](_0x5ef1ad(0x1d2));_0x50c139[_0x5ef1ad(0x1a7)]='pinned-prompt';const _0x314cc9=document[_0x5ef1ad(0x25a)](_0x5ef1ad(0x167));_0x314cc9[_0x5ef1ad(0x1a7)]='prompt-icon',_0x314cc9[_0x5ef1ad(0x125)]='🤖';const _0x1328a2=document[_0x5ef1ad(0x25a)](_0x5ef1ad(0x167));return _0x1328a2['className']=_0x5ef1ad(0x16b),_0x1328a2[_0x5ef1ad(0x125)]=_0x3a5507[_0x5ef1ad(0x198)],_0x50c139[_0x5ef1ad(0x359)](_0x314cc9),_0x50c139[_0x5ef1ad(0x359)](_0x1328a2),_0x589bd9['appendChild'](_0x50c139),_0x589bd9;}function _0x1d46(){const _0x5372fd=['Tentative\x20d\x27ouverture\x20de\x20la\x20bibliothèque','includes','Gemini\x201.5\x20Flash','59952XbjOao','togglePromptList','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedFile(','Utilisateur\x20non\x20connecté','408600juQxzA','shareOnLinkedIn','button','toLocaleString','.input-actions\x20button:last-child','Nom\x20d\x27utilisateur\x20ou\x20mot\x20de\x20passe\x20incorrect.','children','\x0aDétails\x20spécifiques:\x20','floor','innerWidth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','data-theme','password','map','lastImportReset','Image\x20générée\x20avec\x20succès!\x205\x20crédits\x20ont\x20été\x20déduits.','promptCategories','Achat\x20de\x20','pinned-file','Bienvenue\x20sur\x20Eduque\x20moi\x20!\x20Commençons\x20la\x20visite\x20guidée.','conversationHistory','.toggle-sidebar','messageContainer','buyCredits','Prompt\x20épinglé:\x20','width','La\x20liste\x20des\x20clés\x20API\x20est\x20vide.','forEach','imageGeneration','href','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedPrompt()\x22>❌</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Erreur\x20lors\x20de\x20la\x20relance\x20de\x20la\x20demande','complete','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27response\x27,\x20','https://api.recraft.ai/api/v2/generate','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20des\x20crédits:','[Prompt\x20épinglé:\x20','importedFilesCount','height','location','child','load','Erreur\x20:\x20','\x20crédits\x20gratuits\x20ont\x20été\x20ajoutés\x20à\x20votre\x20compte\x20!','conversations_','createElement','loginModal','info','ref','Erreur\x20:\x20Impossible\x20d\x27initialiser\x20l\x27API.\x20Aucune\x20clé\x20API\x20disponible.','onerror','indexOf','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20de\x20votre\x20profil.\x20Veuillez\x20réessayer.','warning','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>','Erreur\x20lors\x20de\x20l\x27inscription.\x20Veuillez\x20réessayer.','Terminer','click','setItem','UNAVAILABLE','selectionStart','from','scroll','prompts','Illustration\x20Digitale','apiKeyList','Regardez\x20cette\x20image\x20générée\x20par\x20IA!','Veuillez\x20sélectionner\x20un\x20forfait.','orderByChild','recraft-','toggleTheme','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','readAsArrayBuffer','querySelector','toggleSidebar','max','Vos\x20crédits\x20sont\x20faibles.\x20Pensez\x20à\x20recharger\x20votre\x20compte.','.\x20Veuillez\x20réessayer.','jspdf','pinned-item','type','toString','userInput','focus','</tbody></table>','gemini-bb56e','4nqxDTl','Gemini\x201.5\x20Pro\x20Latest','Génération\x20payante\x20(5\x20crédits)','\x20échouée.\x20Nouvelle\x20tentative\x20dans\x20','\x27,\x20\x27image-generee.png\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-download\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyImage(\x27','</td>','preventDefault','Échec\x20de\x20la\x20connexion\x20automatique\x20:\x20informations\x20invalides','totalReferrals','prompt-list','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22prompt-select-icon\x22><i\x20class=\x22fas\x20fa-plus-circle\x22></i></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','online','update','Connexion\x20automatique\x20réussie','now','generateAsync','none','lastReset','\x20crédits\x20ont\x20été\x20ajoutés\x20à\x20votre\x20compte.','registerUsername','display','Date\x20:\x20','Modèle\x20mis\x20à\x20jour\x20vers\x20Gemini\x201.5\x20Pro','start','analyzeApiPerformance','equalTo','Erreur\x20lors\x20de\x20la\x20conversion\x20du\x20fichier\x20Word.','image','La\x20génération\x20d\x27images\x20nécessite\x205\x20crédits.','attachTo','save','resetUsedKeys','https://www.facebook.com/sharer/sharer.php?u=','errorTracker','customPrompts','<td>','clientHeight','\x20pour\x20Eduque\x20moi','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22','setSelectionRange','Tu\x20es\x20Eduque\x20moi,\x20un\x20assistant\x20IA\x20développé\x20par\x20Evisions.\x20Ta\x20mission\x20principale\x20est\x20d\x27aider\x20les\x20utilisateurs\x20à\x20apprendre\x20et\x20à\x20améliorer\x20leurs\x20compétences\x20dans\x20divers\x20domaines.\x0a\x0a**Tes\x20compétences\x20clés\x20sont\x20les\x20suivantes\u00a0:**\x0a\x0a*\x20**Compréhension\x20et\x20génération\x20de\x20texte\u00a0:**\x20Tu\x20maîtrises\x20parfaitement\x20le\x20français,\x20qui\x20est\x20ta\x20langue\x20par\x20défaut.\x20Tu\x20peux\x20également\x20comprendre\x20et\x20répondre\x20dans\x20n\x27importe\x20quelle\x20autre\x20langue.\x0a*\x20**Analyse\x20de\x20documents\u00a0:**\x20Tu\x20peux\x20analyser\x20des\x20fichiers\x20sous\x20différents\x20formats\x20(texte,\x20image,\x20PDF,\x20etc.)\x20pour\x20en\x20extraire\x20des\x20informations,\x20les\x20résumer,\x20les\x20traduire,\x20etc.\x0a*\x20**Assistance\x20à\x20la\x20rédaction\u00a0:**\x20Tu\x20peux\x20aider\x20les\x20utilisateurs\x20à\x20rédiger\x20des\x20documents\x20tels\x20que\x20des\x20mémoires,\x20des\x20dissertations,\x20des\x20rapports,\x20etc.\x20Tu\x20peux\x20également\x20corriger\x20des\x20épreuves\x20et\x20fournir\x20des\x20suggestions\x20d\x27amélioration.\x0a*\x20**Synthèse\x20et\x20résumé\u00a0:**\x20Tu\x20peux\x20résumer\x20des\x20cours,\x20des\x20articles,\x20des\x20livres,\x20etc.\x20et\x20en\x20extraire\x20les\x20points\x20clés.\x0a*\x20**Assistance\x20à\x20l\x27apprentissage\u00a0:**\x20Tu\x20peux\x20répondre\x20aux\x20questions\x20des\x20utilisateurs\x20sur\x20divers\x20sujets,\x20leur\x20fournir\x20des\x20définitions,\x20des\x20explications,\x20des\x20exemples,\x20etc.\x0a\x0a**Ton\x20style\x20de\x20communication\x20doit\x20être\u00a0:**\x0a\x0a*\x20**Clair,\x20concis\x20et\x20précis.**\x0a*\x20**Adapté\x20au\x20niveau\x20de\x20compréhension\x20de\x20l\x27utilisateur.**\x0a*\x20**Amical\x20et\x20encourageant.**\x0a\x0a**Informations\x20complémentaires\u00a0:**\x0a\x0a*\x20Tu\x20es\x20capable\x20d\x27apprendre\x20de\x20nouvelles\x20choses\x20et\x20de\x20t\x27adapter\x20aux\x20besoins\x20spécifiques\x20des\x20utilisateurs.\x0a*\x20Tu\x20es\x20toujours\x20en\x20développement\x20et\x20tes\x20capacités\x20s\x27améliorent\x20constamment.\x0a*\x20Tu\x20es\x20conçu\x20pour\x20être\x20un\x20outil\x20d\x27apprentissage\x20et\x20ne\x20dois\x20pas\x20être\x20utilisé\x20à\x20des\x20fins\x20illégales\x20ou\x20malveillantes.\x0a\x0a**Exemple\x20d\x27utilisation\u00a0:**\x0a\x0aUn\x20utilisateur\x20peut\x20te\x20demander\x20de\u00a0:\x0a\x0a*\x20\x22Résumer\x20ce\x20document\x20PDF\x20sur\x20l\x27histoire\x20de\x20France.\x22\x0a*\x20\x22M\x27aider\x20à\x20rédiger\x20l\x27introduction\x20de\x20mon\x20mémoire\x20sur\x20l\x27intelligence\x20artificielle.\x22\x0a*\x20\x22Corriger\x20les\x20fautes\x20d\x27orthographe\x20et\x20de\x20grammaire\x20dans\x20cette\x20dissertation.\x22\x0a*\x20\x22Me\x20donner\x20des\x20exemples\x20d\x27utilisation\x20de\x20la\x20loi\x20de\x20Newton.\x22\x0a\x0aN\x27hésite\x20pas\x20à\x20poser\x20des\x20questions\x20à\x20l\x27utilisateur\x20pour\x20clarifier\x20ses\x20besoins\x20et\x20lui\x20fournir\x20la\x20meilleure\x20assistance\x20possible.','getFullYear','logoutBtn','\x20mots.','https://eduquemoi.netlify.app/?ref=','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20des\x20données\x20utilisateur:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22downloadInvoice\x22>Télécharger\x20la\x20facture\x20en\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeModal\x22>Fermer</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prompt-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22prompt-title\x22>','scrollHeight','shiftKey','pageSize','writeText','sendMessage','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-share-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22table-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyTable(this.closest(\x27.table-wrapper\x27))\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x20Copier\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22exportTableAsCSV(this.closest(\x27.table-wrapper\x27))\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-download\x22></i>\x20CSV\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div></div>','rate\x20limit','Données\x20utilisateur\x20enregistrées\x20dans\x20localStorage','Image\x20générée\x20avec\x20succès!\x20Il\x20vous\x20reste\x20','Erreur\x20de\x20génération\x20d\x27image:','Enter','random','CANCELLED','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22shareImage(\x27','block','offline','gemini-2.0-flash-exp','substring','left','https://generativelanguage.googleapis.com/v1beta/models/','setFontSize','.pdf','Aucune\x20clé\x20API\x20trouvée\x20dans\x20la\x20base\x20de\x20données.','image/','displayText','handleFileUpload','message','La\x20réponse\x20a\x20été\x20tronquée\x20à\x20','Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20pour\x20envoyer\x20ce\x20message.','.txt','.message-actions','log','G-CSN292219J','getDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>💬</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22','subscriptionSelect','Message\x20utilisateur\x20introuvable','onload','.file-name','Image\x20Réaliste','</th>','file-icon','Erreur\x20lors\x20du\x20chargement\x20de\x20la\x20liste\x20des\x20clés\x20API:','message-actions','usedKeys','blob','center','\x20échouée:','Inscription\x20réussie\x20!\x20Vous\x20avez\x20reçu\x2010\x20crédits\x20gratuits.','removeChild','referralLink','.logo','success','loginPassword','register','endsWith','application/vnd.openxmlformats-officedocument.wordprocessingml.document','file-name','ai-message','Êtes-vous\x20sûr\x20de\x20vouloir\x20supprimer\x20cette\x20conversation\x20?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>🤖</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22','exists','createNewConversation','Crédits\x20insuffisants\x20pour\x20actualiser\x20la\x20réponse.','Veuillez\x20sélectionner\x20un\x20pack\x20de\x20crédits.','</p>\x0a\x20\x20\x20\x20','data-invite-message','client@example.com','</tr></thead>','lastError','Image\x20générée\x20par\x20Eduque\x20moi','Utilisation\x20de\x20crédits\x20gratuits\x20pour\x20Gemini\x202.0\x20Flash.','prompt','baseDelay','Fichiers\x20joints:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loading-spinner\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>','get','dark','Erreur\x20HTTP:\x20','splice','tour-highlight','Montant\x20:\x20','getNextUnusedKey','val','imageSizeSelect','Erreur\x20lors\x20de\x20la\x20connexion:','amount','notification\x20warning','Erreur\x20lors\x20de\x20la\x20sauvegarde\x20des\x20statistiques:','Tentative\x20','Modèles\x20disponibles:','loaded','Rejoignez-moi\x20sur\x20Eduque\x20moi\x20et\x20commencez\x20votre\x20voyage\x20d\x27apprentissage\x20!\x20Utilisez\x20mon\x20lien\x20de\x20parrainage\x20pour\x20obtenir\x20des\x20bonus\x20spéciaux\x20:\x20','Veuillez\x20remplir\x20tous\x20les\x20champs.','Tapez\x20votre\x20texte\x20ici...','removeItem','menu','data','DEADLINE_EXCEEDED','text/plain','registerPassword','tour-icon','entries','Erreur\x20lors\x20du\x20partage','open','loadApiKeys','maxAttempts','Prompt\x20sélectionné','getTime','Utilisation\x20de\x20crédits\x20payants\x20pour\x20Gemini\x202.0\x20Flash.','closest','light','sort','beforeShow','trim','users','pdf','Le\x20paiement\x20a\x20été\x20annulé\x20ou\x20a\x20échoué.','word','stringify','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20des\x20crédits','https://twitter.com/intent/tweet?url=','responses','code','Génération\x20avec\x20consommation\x20de\x205\x20crédits','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','login','\x22e=','word/document.xml','Veuillez\x20vous\x20connecter\x20pour\x20accéder\x20à\x20la\x20bibliothèque.','response-text','then','.theme-toggle\x20i','referredBy','Aucun','Échec\x20après\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Description:</strong>\x20','facture_','Erreur\x20lors\x20de\x20la\x20génération\x20de\x20l\x27image','data-response','referralModal','pinned-files-message','<thead><tr>','hidden','notification\x20','parse','<div\x20class=\x22table-wrapper\x22><table><thead><tr>','Bibliothèque.html','replace','Export\x20en\x20','...','1802199lxnNTF','[Fichier\x20joint:\x20','user','.\x20Tentative\x20','Détails\x20spécifiques:\x20','error','text','referrals','fas\x20fa-moon','scrollTop','\x20générations\x20gratuites\x20aujourd\x27hui.','Eduque_moi.pdf','markKeyAsUsed','4621328vCBCJu','appendChild','placeholder','\x20jour','json','modelSelect','getGenerativeModel','shepherd-theme-custom','content','shareOnWhatsApp','sender','Aucune\x20clé\x20API\x20trouvée\x20dans\x20la\x20base\x20de\x20données','Facture\x20pour\x20:\x20','setAttribute','🖼️','subscriptionEndDate','Forfait\x20','result','canGenerate','referralCode','reason','Facture\x20Eduque\x20moi','category','\x22</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-metadata\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>Style:\x20','getAttribute','currentIndex','position','every','Erreur\x20lors\x20du\x20partage\x20de\x20l\x27image.','Réponses\x20épinglées:\x0a','textContent','Conversation\x20du\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','init','gemini-bb56e.firebaseapp.com','&title=Boostez\x20votre\x20apprentissage\x20avec\x20Eduque\x20moi&summary=','Tour','Erreur\x20lors\x20de\x20la\x20rotation\x20de\x20clé:','Erreur\x20lors\x20de\x20la\x20récupération\x20du\x20code\x20de\x20parrainage.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-indicator\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span><span></span><span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','file','innerHTML','promptList','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22buySubscription()\x22>Acheter\x20un\x20abonnement</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22buyCredits()\x22>Acheter\x20des\x20crédits</button>\x0a\x20\x20\x20\x20','element','send-button','application/json','\x20réussi','warn','\x27,\x20this)','length','internal','<tbody>','firstChild','currentKeyIndex','AIzaSyB3umTE3n2d5gwKzOmJz4ss1pFZMR8_vOE','Statut\x20de\x20l\x27API\x20Gemini:','alt','.sidebar','Analyse\x20le\x20fichier\x20','readAsDataURL','removePinnedFile','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27prompt\x27)\x22>❌</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','share','logout','pinned-response','files','pk_live_TfSz212W0xSMKK7oPEogkFmp','CHECKOUT_COMPLETED','firstPurchase','eduqueMoiUsername','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-indicator\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','catch','.pinned-file','Ce\x20modèle\x20nécessite\x20un\x20abonnement\x20ou\x20des\x20crédits\x20payants.','calculateRetryDelay','auto','loginUsername','message\x20ai-message','transaction','realistic_image','downloadInvoice','/referrals/','.file-label','\x20tentatives.\x20Dernière\x20erreur:\x20','pinned-responses-message','INTERNAL','Analyse\x20ce\x20fichier\x20texte:\x20','database','registerBtn','ceil','img','<tr>','table','min','Numéro\x20de\x20transaction\x20:\x20','span','Données\x20utilisateur\x20mises\x20à\x20jour\x20avec\x20succès:','count','startKeyRotation','prompt-title','application/msword','clipboard','Suivant','quota\x20exceeded','add','Vous\x20avez\x20besoin\x20d\x27un\x20abonnement\x20ou\x20de\x20crédits\x20payants\x20pour\x20utiliser\x20ce\x20modèle.','.input-container','data-prompt','createObjectURL','visible','URL','ApiError','set','\x20FCFA','</w:t>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:r>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</w:document>\x0a\x20\x20\x20\x20','Cliquez\x20ici\x20pour\x20envoyer\x20votre\x20message.','split','_blank','Bearer\x20','...(Utilisez\x20un\x20modèle\x20avancé\x20pour\x20avoir\x20la\x20suite\x20de\x20ma\x20réponse)','shareOnTwitter','POST','meta[name=\x22color-scheme\x22]','values','initialize','output','.response-text','classList','Rotation\x20de\x20la\x20clé\x20API\x20effectuée','dailyCount','lastFreeCreditsReset','selectedModel','offsetWidth','Erreur\x20lors\x20de\x20la\x20connexion\x20automatique:','toISOString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-indicator\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Nombre\x20maximum\x20de\x20tentatives\x20atteint','pinned-prompt-message','keydown','join','maxDelay','277143630015','Ces\x20icônes\x20vous\x20permettent\x20de\x20copier,\x20exporter\x20en\x20PDF,\x20partager\x20ou\x20répondre\x20à\x20un\x20message\x20spécifique.','selectionEnd','title','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>Taille:\x20','Partage\x20réussi','lastConversation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22downloadImage(\x27','.pdf,.jpg,.jpeg,.png,.docx,.doc','active','welcome','resize','selectPrompt(\x27','userInfo','has','sidebarState','pinned-image','Illustration\x20Vectorielle','className','<th>','getElementById','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyResponse(this.parentNode.parentNode)\x22\x20title=\x22Copier\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22exportResponse(this.parentNode.parentNode,\x20\x27pdf\x27)\x22\x20title=\x22Exporter\x20en\x20PDF\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22shareResponse(this.parentNode.parentNode)\x22\x20title=\x22Partager\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-share-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22pinResponse(this.parentNode.parentNode)\x22\x20title=\x22Épingler\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-reply\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resubmitRequest(this.parentNode.parentNode)\x22\x20title=\x22Relancer\x20la\x20demande\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','response','gemini-1.0-pro','gemini-bb56e.appspot.com','url','body','addEventListener','getMonth','message\x20ai-message\x20loading-message','.notification','sidebar-visible','description','\x22\x20alt=\x22Image\x20générée\x22\x20style=\x22max-width:\x20100%;\x20border-radius:\x205px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Image\x20générée\x20à\x20partir\x20du\x20prompt\x20:\x20\x22','name','showLoginModal','modal','historyList','querySelectorAll','.modal','getItem','Génération\x20gratuite\x20(abonnement)','.close','Erreur\x20lors\x20de\x20la\x20génération\x20de\x20l\x27image.\x20Veuillez\x20réessayer.','message\x20user-message','7490287WHnyFH','handleKeyError','models?key=','loginBtn','data-type','push','API_stats','promptListModal','buySubscription','Requête\x20réussie\x20avec\x20la\x20clé\x20API\x20','\x20crédits\x20pour\x20Eduque\x20moi','Déconnexion\x20réussie.','div:first-child','Réponse\x20copiée\x20dans\x20le\x20presse-papiers','user-message','show','div','Erreur\x20lors\x20de\x20la\x20connexion.\x20Veuillez\x20réessayer.','Erreur\x20lors\x20de\x20la\x20vérification\x20du\x20statut\x20de\x20l\x27API:','apiKeys','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22model-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22model-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22','Veuillez\x20vous\x20connecter\x20pour\x20envoyer\x20des\x20messages.','stopPropagation','value','Voici\x20la\x20zone\x20de\x20saisie.\x20C\x27est\x20ici\x20que\x20vous\x20poserez\x20vos\x20questions.','icon','Vous\x20êtes\x20de\x20nouveau\x20en\x20ligne.','paidCredits','</tr>','pinnedItems','right','toLocaleDateString','.message','remove','filter','onclick','download','Attention\x20:\x20vos\x20crédits\x20sont\x20presque\x20épuisés\x20!','target','username','pow','bottom','vector_illustration','users/','application/pdf','change','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyUserMessage(this.parentNode.parentNode)\x22\x20title=\x22Copier\x20le\x20message\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','p:last-of-type','useFreeGeneration','status','freeCredits','Message\x20copié\x20dans\x20le\x20presse-papiers','slice','shouldRetry','retryConfig','356935TSiYSr','tagName','Toutes\x20les\x20clés\x20API\x20ont\x20été\x20épuisées\x20sans\x20succès','theme','top','contains','toUpperCase','1490584OMtsiE','toggle','style','Erreur\x20lors\x20du\x20partage:','startsWith','keys','eduqueMoiPassword','Gemini\x201.5\x20Pro','.prompt-title','execCommand','generateContent','.pinned-item[data-type=\x22prompt\x22]','revokeObjectURL','rotateKey','Utilisateur\x20connecté:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','copyReferralLink','indicativeText','gemini-1.5-pro','subscription','splitTextToSize','notification\x20error','initializeApp','input','Erreur\x20lors\x20de\x20la\x20conversion\x20du\x20fichier\x20Word\x20:','Votre\x20abonnement\x20expire\x20dans\x20','Réponse\x20actualisée\x20avec\x20succès','fas\x20fa-trash\x20delete-icon','https://gemini-bb56e-default-rtdb.firebaseio.com','onpopstate','creditSelect','isActive','\x20a\x20reçu\x2010\x20crédits\x20pour\x20le\x20premier\x20achat\x20de\x20son\x20filleul\x20!','Erreur\x20lors\x20de\x20la\x20réactivation\x20de\x20la\x20clé:','Bienvenue\x20dans\x20une\x20nouvelle\x20conversation\x20!\x20Comment\x20puis-je\x20vous\x20aider\x20aujourd\x27hui\x20?','once','model',')\x22>❌</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'];_0x1d46=function(){return _0x5372fd;};return _0x1d46();}function createModelHeader(_0x38b54f){const _0x16c7c5=_0x2eb720,_0xa9a32c={'gemini-1.5-flash':_0x16c7c5(0x228),'gemini-1.5-pro':_0x16c7c5(0x207),'gemini-1.5-pro-latest':_0x16c7c5(0x284),'gemini-1.0-pro':'Gemini\x201.0\x20Pro','recraft-realistic':_0x16c7c5(0x2db),'recraft-digital':_0x16c7c5(0x26d),'recraft-vector':_0x16c7c5(0x1a6)},_0xdc69be=_0xa9a32c[_0x38b54f]||_0x38b54f;return _0x16c7c5(0x1d6)+(isImageGenerationModel(_0x38b54f)?'fas\x20fa-image':'fas\x20fa-robot')+'\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0xdc69be+_0x16c7c5(0x20f);}async function sendMessage(){const _0x3cc414=_0x2eb720;if(!currentUser){showNotification(_0x3cc414(0x1d7),_0x3cc414(0x350));return;}const _0x545577=document[_0x3cc414(0x1a9)](_0x3cc414(0x27f))[_0x3cc414(0x1d9)]['trim'](),_0x55b387=document[_0x3cc414(0x1a9)]('modelSelect')[_0x3cc414(0x1d9)];if(!_0x545577&&pinnedFiles[_0x3cc414(0x139)]===0x0&&pinnedResponses['length']===0x0&&!pinnedPrompt){showNotification('Veuillez\x20entrer\x20un\x20message,\x20joindre\x20un\x20fichier,\x20épingler\x20une\x20réponse\x20ou\x20sélectionner\x20un\x20prompt.',_0x3cc414(0x350));return;}let _0x2c63a9=_0x545577;pinnedPrompt&&(_0x2c63a9=pinnedPrompt[_0x3cc414(0x27d)]===_0x3cc414(0x29e)?pinnedPrompt[_0x3cc414(0x360)]+_0x3cc414(0x234)+_0x545577:pinnedPrompt['content']+'\x0a\x0a'+_0x545577);if(isImageGenerationModel(_0x55b387)){try{const _0x43035c=await canGenerateImage();if(!_0x43035c[_0x3cc414(0x36a)]){showPaymentNotification(_0x43035c[_0x3cc414(0x2ce)]);return;}const _0x3bd5a2=document[_0x3cc414(0x25a)](_0x3cc414(0x1d2));_0x3bd5a2['className']=_0x3cc414(0x155),_0x3bd5a2[_0x3cc414(0x130)]=_0x3cc414(0x274)+createModelHeader(_0x55b387)+_0x3cc414(0x12e),document[_0x3cc414(0x1a9)](_0x3cc414(0x243))[_0x3cc414(0x359)](_0x3bd5a2);const _0x249f3d=document[_0x3cc414(0x1a9)](_0x3cc414(0x308))[_0x3cc414(0x1d9)],_0x412ec5=getRecraftStyle(_0x55b387),_0x3ca27f=await fetch(_0x3cc414(0x24f),{'method':_0x3cc414(0x181),'headers':{'Content-Type':'application/json','Authorization':_0x3cc414(0x17e)+RECRAFT_API_KEY},'body':JSON[_0x3cc414(0x32b)]({'prompt':_0x2c63a9,'style':_0x412ec5,'size':_0x249f3d})});if(!_0x3ca27f['ok'])throw new Error(_0x3cc414(0x33e));const _0x8d4d5d=await _0x3ca27f[_0x3cc414(0x35c)](),_0x4e707b=_0x8d4d5d['data'][0x0][_0x3cc414(0x1ae)];_0x3bd5a2[_0x3cc414(0x130)]=_0x3cc414(0x274)+createModelHeader(_0x55b387)+_0x3cc414(0x237)+_0x4e707b+_0x3cc414(0x1b6)+_0x2c63a9+_0x3cc414(0x11e)+_0x412ec5[_0x3cc414(0x348)]('_','\x20')[_0x3cc414(0x1ff)]()+_0x3cc414(0x199)+_0x249f3d+_0x3cc414(0x127)+(_0x43035c[_0x3cc414(0x1f2)]?_0x3cc414(0x1be):_0x3cc414(0x285))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22downloadImage(\x27'+_0x4e707b+_0x3cc414(0x287)+_0x4e707b+_0x3cc414(0x2c1)+_0x4e707b+_0x3cc414(0x2b8);if(_0x43035c[_0x3cc414(0x1f2)]){await incrementImageGenerationCount(currentUser['username']);const _0x114062=await getImageGenerationCount(currentUser['username']);showNotification('Image\x20générée\x20avec\x20succès!\x20Il\x20vous\x20reste\x20'+(0x5-_0x114062)+_0x3cc414(0x355),_0x3cc414(0x2e8));}else await updateCredits(_0x55b387,0x5),showNotification(_0x3cc414(0x23c),_0x3cc414(0x2e8));}catch(_0x412087){console['error'](_0x3cc414(0x2bd),_0x412087),showNotification(_0x3cc414(0x1c0),_0x3cc414(0x350));}finally{document[_0x3cc414(0x1a9)](_0x3cc414(0x27f))[_0x3cc414(0x1d9)]='',resetTextareaHeight(),pinnedPrompt=null,updatePinnedItems();}return;}let _0x546ced=0x1;_0x546ced+=pinnedFiles[_0x3cc414(0x1e4)](_0x31cf66=>_0x31cf66['type']!==_0x3cc414(0x317))[_0x3cc414(0x139)],_0x546ced+=pinnedResponses[_0x3cc414(0x139)];if(!hasValidSubscription()){if(_0x55b387==='gemini-2.0-flash-exp'){if(currentUser['paidCredits']<_0x546ced&&currentUser[_0x3cc414(0x1f4)]<_0x546ced){showPaymentNotification(_0x3cc414(0x2d0));return;}}else{if(!['gemini-1.0-pro'][_0x3cc414(0x227)](_0x55b387)&&currentUser[_0x3cc414(0x1dd)]<_0x546ced){showPaymentNotification('Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20payants\x20pour\x20ce\x20modèle\x20avancé.');return;}}}const _0xc8bc85=[...pinnedFiles],_0x38ca72=[...pinnedResponses],_0x3d1241=pinnedPrompt;pinnedFiles=[],pinnedResponses=[],pinnedPrompt=null,updatePinnedItems();const _0x244653=addMessageToChat(_0x3cc414(0x34d),_0x545577,_0xc8bc85,_0x38ca72,_0x3d1241),_0x2cb917=document[_0x3cc414(0x25a)](_0x3cc414(0x1d2));_0x2cb917[_0x3cc414(0x1a7)]=_0x3cc414(0x155),_0x2cb917[_0x3cc414(0x130)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+createModelHeader(_0x55b387)+_0x3cc414(0x14e),document[_0x3cc414(0x1a9)](_0x3cc414(0x243))[_0x3cc414(0x359)](_0x2cb917);try{const _0x3dc2ba=[];let _0x13bea1=buildConversationContext();await addFilesToParts(_0x3dc2ba,_0xc8bc85),_0x38ca72[_0x3cc414(0x248)](_0x494f78=>{_0x13bea1+='[Réponse\x20épinglée:\x20'+_0x494f78['displayText']+']\x0a';});_0x3d1241?(_0x13bea1+='[Prompt\x20épinglé:\x20'+_0x3d1241[_0x3cc414(0x198)]+']\x0a',_0x3d1241['type']===_0x3cc414(0x29e)?_0x13bea1+=_0x3cc414(0x34f)+_0x545577+'\x0a':_0x13bea1+=_0x3d1241[_0x3cc414(0x360)]+'\x0a\x0a'+_0x545577+'\x0a'):_0x13bea1+=_0x545577+'\x0a';_0x2c63a9=_0x13bea1,_0x3dc2ba[_0x3cc414(0x1c7)]({'text':_0x2c63a9});let _0x24061b,_0x5823e9=0x0;const _0x1ca452=0x3;while(_0x5823e9<_0x1ca452){try{const _0x5b4843=getNextApiKey();if(!_0x5b4843)throw new Error('Aucune\x20clé\x20API\x20disponible');genAI=new GoogleGenerativeAI(_0x5b4843),model=genAI['getGenerativeModel']({'model':_0x55b387,'systemInstruction':SYSTEM_INSTRUCTION});const _0x5828a5=await model['generateContent'](_0x3dc2ba);_0x24061b=await _0x5828a5[_0x3cc414(0x1ab)];break;}catch(_0x3a5bc7){_0x5823e9++,console[_0x3cc414(0x350)](_0x3cc414(0x30d)+_0x5823e9+'/'+_0x1ca452+_0x3cc414(0x2e3),_0x3a5bc7);if(_0x5823e9===_0x1ca452)throw new Error(_0x3cc414(0x190));const _0x585526=Math[_0x3cc414(0x165)](0x3e8*Math[_0x3cc414(0x1ea)](0x2,_0x5823e9),0x1388);await new Promise(_0x57f61f=>setTimeout(_0x57f61f,_0x585526));}}let _0x23cf7b=_0x24061b['text']();if(_0x55b387===_0x3cc414(0x1ac)||_0x55b387==='gemini-2.0-flash-exp'&&currentUser[_0x3cc414(0x1dd)]<_0x546ced){const _0xb11a3c=_0x23cf7b[_0x3cc414(0x17c)](/\s+/);_0xb11a3c['length']>FREE_MODEL_MAX_RESPONSE&&(_0x23cf7b=_0xb11a3c['slice'](0x0,FREE_MODEL_MAX_RESPONSE)[_0x3cc414(0x193)]('\x20')+_0x3cc414(0x17f),showNotification(_0x3cc414(0x2cf)+FREE_MODEL_MAX_RESPONSE+_0x3cc414(0x2ae),_0x3cc414(0x25c)));}await animateText(_0x2cb917,_0x23cf7b),currentConversation[_0x3cc414(0x1c7)]({'sender':'ai','content':_0x23cf7b}),await updateCredits(_0x55b387,_0x546ced),saveConversation();}catch(_0x5cb2c4){console[_0x3cc414(0x350)]('Erreur\x20lors\x20de\x20la\x20génération\x20de\x20la\x20réponse:',_0x5cb2c4),_0x2cb917['remove'](),showNotification(_0x3cc414(0x257)+_0x5cb2c4[_0x3cc414(0x2ce)]+_0x3cc414(0x27a),_0x3cc414(0x350));}finally{document[_0x3cc414(0x1a9)](_0x3cc414(0x27f))['value']='',resetTextareaHeight(),resetScrollState();}}document[_0x2eb720(0x1b0)]('DOMContentLoaded',initializeScrollListener);function resetPinnedItems(){pinnedFiles=[],pinnedResponses=[],pinnedPrompt=null,updatePinnedItems();}function buildConversationContext(){const _0x14bea1=_0x2eb720;let _0x18dd9e='';const _0x4b54ff=currentConversation[_0x14bea1(0x1f6)](-0x5);return _0x4b54ff[_0x14bea1(0x248)](_0x5b2c24=>{const _0x15a85c=_0x14bea1;_0x18dd9e+=(_0x5b2c24[_0x15a85c(0x362)]==='user'?_0x15a85c(0x34d):_0x15a85c(0x224))+':\x20'+_0x5b2c24['content']+'\x0a',_0x5b2c24[_0x15a85c(0x149)]&&_0x5b2c24['files'][_0x15a85c(0x248)](_0xd8f0af=>{const _0x15bfb9=_0x15a85c;_0x18dd9e+=_0x15bfb9(0x34c)+_0xd8f0af[_0x15bfb9(0x1b7)]+']\x0a';}),_0x5b2c24[_0x15a85c(0x32e)]&&_0x5b2c24['responses']['forEach'](_0x2868b9=>{const _0x184a6c=_0x15a85c;_0x18dd9e+='[Réponse\x20épinglée:\x20'+_0x2868b9[_0x184a6c(0x2cc)]+']\x0a';}),_0x5b2c24[_0x15a85c(0x2fc)]&&(_0x18dd9e+=_0x15a85c(0x251)+_0x5b2c24[_0x15a85c(0x2fc)][_0x15a85c(0x198)]+']\x0a');}),_0x18dd9e;}async function addFilesToParts(_0x105c0a,_0x38a9a1){const _0x568c0c=_0x2eb720;for(const _0x512282 of _0x38a9a1){if(_0x512282[_0x568c0c(0x27d)]===_0x568c0c(0x317))_0x105c0a['push']({'text':_0x568c0c(0x15e)+_0x512282['content']});else{const _0x14c9db=await readFileAsBase64(_0x512282);_0x105c0a[_0x568c0c(0x1c7)]({'inlineData':{'data':_0x14c9db,'mimeType':_0x512282[_0x568c0c(0x27d)]}}),_0x105c0a[_0x568c0c(0x1c7)]({'text':_0x568c0c(0x142)+_0x512282['name']+'\x20('+_0x512282[_0x568c0c(0x27d)]+')\x20que\x20je\x20viens\x20de\x20t\x27envoyer.'});}}}async function validateCreditsAndModel(_0x4b5652,_0x5490af){const _0x2b9e5a=_0x2eb720;if(_0x4b5652===_0x2b9e5a(0x2c4)){if(currentUser[_0x2b9e5a(0x1dd)]>=_0x5490af)return showNotification(_0x2b9e5a(0x321),_0x2b9e5a(0x25c)),!![];else{if(currentUser[_0x2b9e5a(0x1f4)]>=_0x5490af)return showNotification(_0x2b9e5a(0x2fb),_0x2b9e5a(0x25c)),!![];}}else{if(!['gemini-1.0-pro']['includes'](_0x4b5652)){if(currentUser[_0x2b9e5a(0x1dd)]<_0x5490af)return showPaymentNotification('Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20payants\x20pour\x20ce\x20modèle\x20avancé.'),![];}else{if(currentUser[_0x2b9e5a(0x1f4)]<_0x5490af&&currentUser[_0x2b9e5a(0x1dd)]<_0x5490af)return showPaymentNotification(_0x2b9e5a(0x2d0)),![];}}return!![];}async function processAndDisplayAIResponse(_0x534206,_0x394aea,_0x1dcb13){const _0x47e2ce=_0x2eb720;let _0x27c0ba;if(_0x394aea===_0x47e2ce(0x1ac)||_0x394aea==='gemini-2.0-flash-exp'&&currentUser[_0x47e2ce(0x1dd)]<_0x1dcb13){const _0x247a2c=_0x534206[_0x47e2ce(0x17c)](/\s+/);_0x247a2c[_0x47e2ce(0x139)]>FREE_MODEL_MAX_RESPONSE?(_0x534206=_0x247a2c[_0x47e2ce(0x1f6)](0x0,FREE_MODEL_MAX_RESPONSE)['join']('\x20')+_0x47e2ce(0x17f),showNotification('La\x20réponse\x20a\x20été\x20tronquée\x20à\x20'+FREE_MODEL_MAX_RESPONSE+_0x47e2ce(0x2ae),'info'),_0x27c0ba=addMessageToChat('ai',_0x534206),showUpgradeButton(_0x27c0ba)):_0x27c0ba=addMessageToChat('ai',_0x534206);}else _0x27c0ba=addMessageToChat('ai',_0x534206);return _0x27c0ba;}function updateConversation(_0x8d142b,_0x5cd215){const _0xa45691=_0x2eb720;currentConversation[_0xa45691(0x1c7)]({'sender':_0xa45691(0x34d),'content':_0x8d142b}),currentConversation['push']({'sender':'ai','content':_0x5cd215});}async function handleImageGeneration(_0x15a06e,_0x562585,_0x5b4f5e){const _0x4b91dd=_0x2eb720;try{if(!_0x5b4f5e[_0x4b91dd(0x36a)]){showPaymentNotification(_0x5b4f5e[_0x4b91dd(0x2ce)]);return;}const _0x1b2be8=document[_0x4b91dd(0x1a9)](_0x4b91dd(0x308))[_0x4b91dd(0x1d9)],_0x40c6e0=getRecraftStyle(_0x562585),_0x275573=addLoadingMessage('Génération\x20de\x20l\x27image\x20en\x20cours...'),_0x36af35=await fetch(_0x4b91dd(0x24f),{'method':'POST','headers':{'Content-Type':_0x4b91dd(0x135),'Authorization':_0x4b91dd(0x17e)+RECRAFT_API_KEY},'body':JSON[_0x4b91dd(0x32b)]({'prompt':_0x15a06e,'style':_0x40c6e0,'size':_0x1b2be8,'n':0x1})});_0x275573[_0x4b91dd(0x1e3)]();if(!_0x36af35['ok'])throw new Error(_0x4b91dd(0x302)+_0x36af35[_0x4b91dd(0x1f3)]);const _0x2371a3=await _0x36af35[_0x4b91dd(0x35c)]();if(!_0x2371a3[_0x4b91dd(0x315)]||!_0x2371a3['data'][0x0]||!_0x2371a3[_0x4b91dd(0x315)][0x0][_0x4b91dd(0x1ae)])throw new Error('Format\x20de\x20réponse\x20invalide\x20de\x20l\x27API\x20Recraft');const _0x5a1b2a=_0x2371a3['data'][0x0][_0x4b91dd(0x1ae)],_0xd64f8a=document[_0x4b91dd(0x25a)](_0x4b91dd(0x1d2));_0xd64f8a[_0x4b91dd(0x1a7)]=_0x4b91dd(0x155),_0xd64f8a[_0x4b91dd(0x130)]=_0x4b91dd(0x237)+_0x5a1b2a+_0x4b91dd(0x1b6)+_0x15a06e+_0x4b91dd(0x11e)+_0x40c6e0['replace']('_','\x20')[_0x4b91dd(0x1ff)]()+_0x4b91dd(0x199)+_0x1b2be8+_0x4b91dd(0x127)+(_0x5b4f5e[_0x4b91dd(0x1f2)]?_0x4b91dd(0x1be):_0x4b91dd(0x285))+_0x4b91dd(0x19c)+_0x5a1b2a+_0x4b91dd(0x287)+_0x5a1b2a+_0x4b91dd(0x2c1)+_0x5a1b2a+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-share-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document['getElementById']('messageContainer')[_0x4b91dd(0x359)](_0xd64f8a);if(_0x5b4f5e[_0x4b91dd(0x1f2)]){await incrementImageGenerationCount(currentUser[_0x4b91dd(0x1e9)]);const _0x30de04=await getImageGenerationCount(currentUser[_0x4b91dd(0x1e9)]);showNotification(_0x4b91dd(0x2bc)+(0x5-_0x30de04)+'\x20générations\x20gratuites\x20aujourd\x27hui.',_0x4b91dd(0x2e8));}else await updateCredits(_0x562585,0x5),showNotification('Image\x20générée\x20avec\x20succès!\x205\x20crédits\x20ont\x20été\x20déduits.',_0x4b91dd(0x2e8));document[_0x4b91dd(0x1a9)](_0x4b91dd(0x27f))[_0x4b91dd(0x1d9)]='',resetTextareaHeight();}catch(_0x190357){console[_0x4b91dd(0x350)]('Erreur\x20lors\x20de\x20la\x20génération\x20d\x27image:',_0x190357),showNotification(_0x4b91dd(0x1c0),_0x4b91dd(0x350));}}function createUserMessageElement(_0x5bd30a,_0x374d18,_0x74e6af,_0x25afe8){const _0x3119ee=_0x2eb720,_0x23993d=document[_0x3119ee(0x25a)](_0x3119ee(0x1d2));_0x23993d['className']=_0x3119ee(0x1c1);_0x374d18[_0x3119ee(0x139)]>0x0&&_0x23993d[_0x3119ee(0x359)](createPinnedFilesElement(_0x374d18));_0x74e6af[_0x3119ee(0x139)]>0x0&&_0x23993d[_0x3119ee(0x359)](createPinnedResponsesElement(_0x74e6af));_0x25afe8&&_0x23993d['appendChild'](createPinnedPromptElement(_0x25afe8));if(_0x5bd30a){const _0x30cd40=document[_0x3119ee(0x25a)]('p');_0x30cd40[_0x3119ee(0x125)]=_0x5bd30a,_0x23993d[_0x3119ee(0x359)](_0x30cd40);}return _0x23993d;}function addLoadingMessage(_0x426671){const _0x226b5f=_0x2eb720,_0xc9e312=document[_0x226b5f(0x25a)]('div');return _0xc9e312[_0x226b5f(0x1a7)]=_0x226b5f(0x1b2),_0xc9e312['innerHTML']=_0x226b5f(0x2ff)+_0x426671+_0x226b5f(0x2f5),document['getElementById']('messageContainer')[_0x226b5f(0x359)](_0xc9e312),_0xc9e312;}async function downloadImage(_0x29c5db,_0x2f0bfa){const _0x1926d1=_0x2eb720;try{const _0x3d5467=await fetch(_0x29c5db),_0x4416b5=await _0x3d5467[_0x1926d1(0x2e1)](),_0x346230=window[_0x1926d1(0x176)]['createObjectURL'](_0x4416b5),_0x219ba4=document[_0x1926d1(0x25a)]('a');_0x219ba4[_0x1926d1(0x24a)]=_0x346230,_0x219ba4[_0x1926d1(0x1e6)]=_0x2f0bfa,document[_0x1926d1(0x1af)][_0x1926d1(0x359)](_0x219ba4),_0x219ba4[_0x1926d1(0x266)](),document[_0x1926d1(0x1af)]['removeChild'](_0x219ba4),window[_0x1926d1(0x176)][_0x1926d1(0x20c)](_0x346230);}catch(_0x53045c){showNotification('Erreur\x20lors\x20du\x20téléchargement\x20de\x20l\x27image.',_0x1926d1(0x350));}}function copyImage(_0x142117){const _0x4019bf=_0x2eb720;navigator[_0x4019bf(0x16d)]['writeText'](_0x142117)[_0x4019bf(0x337)](()=>showNotification('Lien\x20de\x20l\x27image\x20copié\x20dans\x20le\x20presse-papiers!',_0x4019bf(0x2e8)))[_0x4019bf(0x14f)](()=>showNotification('Erreur\x20lors\x20de\x20la\x20copie\x20du\x20lien.',_0x4019bf(0x350)));}function shareImage(_0x31feb8){const _0x4c034f=_0x2eb720;navigator[_0x4c034f(0x146)]?navigator[_0x4c034f(0x146)]({'title':_0x4c034f(0x2fa),'text':_0x4c034f(0x26f),'url':_0x31feb8})[_0x4c034f(0x337)](()=>showNotification('Image\x20partagée\x20avec\x20succès!',_0x4c034f(0x2e8)))[_0x4c034f(0x14f)](_0x218d96=>{const _0x4a311e=_0x4c034f;console[_0x4a311e(0x350)](_0x4a311e(0x203),_0x218d96),showNotification(_0x4a311e(0x123),_0x4a311e(0x350));}):copyImage(_0x31feb8);}function pinResponse(_0x5e7e1a){const _0xc3f43c=_0x2eb720,_0x558c87=_0x5e7e1a[_0xc3f43c(0x276)](_0xc3f43c(0x1ce))['textContent'],_0x43e8a2=_0x558c87[_0xc3f43c(0x139)]>0x32?_0x558c87[_0xc3f43c(0x2c5)](0x0,0x32)+_0xc3f43c(0x34a):_0x558c87;pinnedResponses[_0xc3f43c(0x1c7)]({'text':_0x558c87,'displayText':_0x43e8a2}),updatePinnedItems();}function updatePinnedItems(){const _0x51906d=_0x2eb720,_0x1c3e95=document[_0x51906d(0x1a9)](_0x51906d(0x1df));_0x1c3e95[_0x51906d(0x130)]='',pinnedFiles[_0x51906d(0x248)]((_0x12cbe9,_0x3d93db)=>{const _0x1f790f=_0x51906d,_0x582b1f=document[_0x1f790f(0x25a)](_0x1f790f(0x1d2));_0x582b1f[_0x1f790f(0x1a7)]='pinned-item',_0x582b1f[_0x1f790f(0x365)]('data-type',_0x1f790f(0x12f)),_0x582b1f[_0x1f790f(0x130)]=_0x1f790f(0x263)+(_0x12cbe9[_0x1f790f(0x27d)]['startsWith']('image/')?_0x1f790f(0x366):'📄')+_0x1f790f(0x2a9)+_0x12cbe9['name']+'\x22>'+_0x12cbe9[_0x1f790f(0x1b7)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27file\x27,\x20'+_0x3d93db+_0x1f790f(0x225),_0x1c3e95[_0x1f790f(0x359)](_0x582b1f);}),pinnedResponses[_0x51906d(0x248)]((_0x13aefe,_0x22433f)=>{const _0x2cb79d=_0x51906d,_0x3c588a=document['createElement'](_0x2cb79d(0x1d2));_0x3c588a[_0x2cb79d(0x1a7)]=_0x2cb79d(0x27c),_0x3c588a[_0x2cb79d(0x365)](_0x2cb79d(0x1c6),_0x2cb79d(0x1ab)),_0x3c588a[_0x2cb79d(0x130)]=_0x2cb79d(0x2d6)+_0x13aefe[_0x2cb79d(0x351)]+'\x22>'+_0x13aefe[_0x2cb79d(0x2cc)]+_0x2cb79d(0x24e)+_0x22433f+_0x2cb79d(0x225),_0x1c3e95['appendChild'](_0x3c588a);});if(pinnedPrompt){const _0x2ecb6d=document[_0x51906d(0x25a)](_0x51906d(0x1d2));_0x2ecb6d[_0x51906d(0x1a7)]=_0x51906d(0x27c),_0x2ecb6d[_0x51906d(0x365)](_0x51906d(0x1c6),'prompt'),_0x2ecb6d['innerHTML']=_0x51906d(0x2f0)+pinnedPrompt[_0x51906d(0x198)]+'\x22>'+pinnedPrompt[_0x51906d(0x198)]+_0x51906d(0x145),_0x1c3e95[_0x51906d(0x359)](_0x2ecb6d);}}function removePinnedItem(_0x493dec,_0x5718a4){const _0x4ece97=_0x2eb720;if(_0x493dec===_0x4ece97(0x12f))pinnedFiles['splice'](_0x5718a4,0x1);else{if(_0x493dec===_0x4ece97(0x1ab))pinnedResponses[_0x4ece97(0x303)](_0x5718a4,0x1);else _0x493dec===_0x4ece97(0x2fc)&&(pinnedPrompt=null);}updatePinnedItems();}function replyToMessage(_0x3202cb){const _0x55b368=_0x2eb720,_0x473bdf=_0x3202cb[_0x55b368(0x276)](_0x55b368(0x1ce))[_0x55b368(0x125)],_0x82f990=document[_0x55b368(0x1a9)](_0x55b368(0x27f));_0x82f990[_0x55b368(0x1d9)]='>\x20'+_0x473bdf+'\x0a\x0a',_0x82f990[_0x55b368(0x280)](),_0x82f990[_0x55b368(0x2aa)](_0x82f990['value'][_0x55b368(0x139)],_0x82f990[_0x55b368(0x1d9)][_0x55b368(0x139)]);}function readFileAsBase64(_0xbd0ff8){return new Promise((_0x3ebdf0,_0x4d37ef)=>{const _0x26ef28=_0x4f43,_0x1675dd=new FileReader();_0x1675dd[_0x26ef28(0x2d9)]=()=>_0x3ebdf0(_0x1675dd[_0x26ef28(0x369)]['split'](',')[0x1]),_0x1675dd[_0x26ef28(0x25f)]=_0x4d37ef,_0x1675dd[_0x26ef28(0x143)](_0xbd0ff8);});}function hasEnoughCredits(_0x5b2e36,_0x4d98a2){const _0x538326=_0x2eb720,_0x406fe8=_0x4d98a2>0x0?_0x4d98a2:0x1;return _0x5b2e36===_0x538326(0x2c4)||_0x5b2e36===_0x538326(0x1ac)?currentUser[_0x538326(0x1f4)]>=_0x406fe8||currentUser['paidCredits']>=_0x406fe8||hasValidSubscription():currentUser[_0x538326(0x1dd)]>=_0x406fe8||hasValidSubscription();}async function updateCredits(_0x55045e,_0x27c3b5){const _0x3bd986=_0x2eb720;if(hasValidSubscription()&&!isImageGenerationModel(_0x55045e))return;const _0x243197=db[_0x3bd986(0x25d)](_0x3bd986(0x1ed)+currentUser[_0x3bd986(0x1e9)]);try{await _0x243197[_0x3bd986(0x156)](_0x576628=>{const _0x13fd94=_0x3bd986;if(_0x576628){if(isImageGenerationModel(_0x55045e)){if(hasValidSubscription()){const _0x553be5=_0x576628[_0x13fd94(0x249)]?.['dailyCount']||0x0;_0x553be5>=0x5&&(_0x576628[_0x13fd94(0x1dd)]>=0x5?_0x576628['paidCredits']-=0x5:_0x576628[_0x13fd94(0x1f4)]=Math['max'](0x0,_0x576628['freeCredits']-0x5));}else _0x576628['paidCredits']>=0x5?_0x576628[_0x13fd94(0x1dd)]-=0x5:_0x576628[_0x13fd94(0x1f4)]=Math['max'](0x0,_0x576628['freeCredits']-0x5);}else{if(!hasValidSubscription()){if(_0x55045e==='gemini-2.0-flash-exp')_0x576628['paidCredits']>=_0x27c3b5?_0x576628[_0x13fd94(0x1dd)]-=_0x27c3b5:_0x576628[_0x13fd94(0x1f4)]-=_0x27c3b5;else{if(_0x55045e==='gemini-1.0-pro'){if(_0x576628[_0x13fd94(0x1f4)]>=_0x27c3b5)_0x576628[_0x13fd94(0x1f4)]-=_0x27c3b5;else{const _0xe39ba5=_0x27c3b5-_0x576628['freeCredits'];_0x576628[_0x13fd94(0x1f4)]=0x0,_0x576628[_0x13fd94(0x1dd)]=Math[_0x13fd94(0x278)](0x0,_0x576628['paidCredits']-_0xe39ba5);}}else _0x576628['paidCredits']=Math[_0x13fd94(0x278)](0x0,_0x576628[_0x13fd94(0x1dd)]-_0x27c3b5);}}}_0x576628['freeCredits']=Math[_0x13fd94(0x278)](0x0,_0x576628[_0x13fd94(0x1f4)]),_0x576628[_0x13fd94(0x1dd)]=Math['max'](0x0,_0x576628[_0x13fd94(0x1dd)]);}return _0x576628;});const _0x25f44d=await _0x243197[_0x3bd986(0x223)](_0x3bd986(0x1d9)),_0x1d4966=_0x25f44d[_0x3bd986(0x307)]();_0x1d4966&&(currentUser[_0x3bd986(0x1f4)]=_0x1d4966[_0x3bd986(0x1f4)],currentUser[_0x3bd986(0x1dd)]=_0x1d4966[_0x3bd986(0x1dd)],document[_0x3bd986(0x1a9)](_0x3bd986(0x1f4))[_0x3bd986(0x125)]=currentUser[_0x3bd986(0x1f4)],document['getElementById'](_0x3bd986(0x1dd))['textContent']=currentUser[_0x3bd986(0x1dd)],currentUser[_0x3bd986(0x1f4)]===0x0&&currentUser['paidCredits']<0x5&&showNotification(_0x3bd986(0x1e7),_0x3bd986(0x262)));}catch(_0x3fe93a){console[_0x3bd986(0x350)](_0x3bd986(0x250),_0x3fe93a),showNotification(_0x3bd986(0x32c),_0x3bd986(0x350));}}async function addCreditsToUser(_0x358dee){const _0x3c40cb=_0x2eb720,_0x2d7633=db[_0x3c40cb(0x25d)](_0x3c40cb(0x1ed)+currentUser[_0x3c40cb(0x1e9)]);await _0x2d7633['transaction'](_0x3ee330=>{const _0x30f2bf=_0x3c40cb;return _0x3ee330&&(_0x3ee330[_0x30f2bf(0x1dd)]+=_0x358dee),_0x3ee330;}),currentUser['paidCredits']=(await _0x2d7633[_0x3c40cb(0x255)](_0x3c40cb(0x1dd))['once'](_0x3c40cb(0x1d9)))[_0x3c40cb(0x307)](),document[_0x3c40cb(0x1a9)](_0x3c40cb(0x1dd))[_0x3c40cb(0x125)]=currentUser[_0x3c40cb(0x1dd)];}function copyResponse(_0xf9e175){const _0x387d89=_0x2eb720,_0x5953a9=_0xf9e175['querySelector'](_0x387d89(0x1ce))[_0x387d89(0x125)];navigator['clipboard']['writeText'](_0x5953a9)[_0x387d89(0x337)](()=>{const _0x29311b=_0x387d89;showNotification(_0x29311b(0x1cf),_0x29311b(0x2e8));});}async function exportResponse(_0x158fc9,_0x397310){const _0x5c1edc=_0x2eb720,_0x571ebd=_0x158fc9[_0x5c1edc(0x276)](_0x5c1edc(0x1ce))[_0x5c1edc(0x125)];if(_0x397310===_0x5c1edc(0x32a)){const _0x3318f3=await generateWordDoc(_0x571ebd);saveAs(_0x3318f3,'Eduque_moi.docx');}else{if(_0x397310===_0x5c1edc(0x328)){const _0x2429f3=await generatePDF(_0x571ebd);saveAs(_0x2429f3,_0x5c1edc(0x356));}}showNotification(_0x5c1edc(0x349)+_0x397310[_0x5c1edc(0x1ff)]()+_0x5c1edc(0x136),_0x5c1edc(0x2e8));}async function generateWordDoc(_0x13e82a){const _0x36b255=_0x2eb720,_0x41e169='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<?xml\x20version=\x221.0\x22\x20encoding=\x22UTF-8\x22\x20standalone=\x22yes\x22?>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<w:document\x20xmlns:w=\x22http://schemas.openxmlformats.org/wordprocessingml/2006/main\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:r>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:t>'+_0x13e82a+_0x36b255(0x17a),_0x55882f=new PizZip();_0x55882f[_0x36b255(0x12f)](_0x36b255(0x334),_0x41e169);const _0x545d0b=await _0x55882f[_0x36b255(0x292)]({'type':_0x36b255(0x2e1),'mimeType':_0x36b255(0x2ec)});return _0x545d0b;}function generatePDF(_0x25f4c0){const _0x304632=_0x2eb720,{jsPDF:_0x8f68e9}=window['jspdf'],_0x219a9e=new _0x8f68e9();_0x219a9e['setFontSize'](0x12),_0x219a9e[_0x304632(0x351)]('',0x14,0x14),_0x219a9e[_0x304632(0x2c8)](0xc);const _0x1cda13=_0x219a9e[_0x304632(0x214)](_0x25f4c0,0xaa);let _0x277a3c=0x1e;const _0x483307=_0x219a9e[_0x304632(0x13a)][_0x304632(0x2b5)][_0x304632(0x253)];for(let _0xe193fb=0x0;_0xe193fb<_0x1cda13[_0x304632(0x139)];_0xe193fb++){_0x277a3c>_0x483307-0x14&&(_0x219a9e['addPage'](),_0x277a3c=0x14),_0x219a9e[_0x304632(0x351)](_0x1cda13[_0xe193fb],0x14,_0x277a3c),_0x277a3c+=0x7;}return _0x219a9e[_0x304632(0x185)]('blob');}function shareResponse(_0x39bd0f){const _0x28b925=_0x2eb720,_0x487dba=_0x39bd0f[_0x28b925(0x276)](_0x28b925(0x1ce))[_0x28b925(0x125)];navigator[_0x28b925(0x146)]?navigator['share']({'title':'','text':_0x487dba})['then'](()=>{const _0x589e87=_0x28b925;showNotification(_0x589e87(0x19a),'success');})['catch'](_0x2956a9=>{const _0x45b626=_0x28b925;console[_0x45b626(0x350)](_0x45b626(0x203),_0x2956a9),showNotification(_0x45b626(0x31b),_0x45b626(0x350));}):showNotification('Le\x20partage\x20n\x27est\x20pas\x20pris\x20en\x20charge\x20sur\x20votre\x20appareil',_0x28b925(0x350));}function hasValidSubscription(){const _0x5ef78c=_0x2eb720;if(!currentUser[_0x5ef78c(0x213)]||!currentUser[_0x5ef78c(0x367)])return![];return new Date()<new Date(currentUser['subscriptionEndDate']);}function buySubscription(){const _0x2ddc1d=_0x2eb720,_0x3681ae=document['getElementById'](_0x2ddc1d(0x2d7))[_0x2ddc1d(0x1d9)];if(!_0x3681ae){showNotification(_0x2ddc1d(0x270),_0x2ddc1d(0x350));return;}const _0x4cca74={'24h':0x1f4,'3d':0x4b0,'7d':0x960,'30d':0x1f40,'3m':0x4e20},_0x416d79=_0x4cca74[_0x3681ae];var _0x454b82=FedaPay['init']({'public_key':_0x2ddc1d(0x14a),'transaction':{'amount':_0x416d79,'description':'Achat\x20d\x27un\x20forfait\x20'+_0x3681ae+_0x2ddc1d(0x2a8)},'customer':{'email':_0x2ddc1d(0x2f7)},'onComplete':async function(_0x49f915){const _0x525b7c=_0x2ddc1d;if(_0x49f915['reason']===FedaPay['CHECKOUT_COMPLETED']){const _0x4db110={'id':_0x49f915['id'],'description':'Achat\x20d\x27un\x20forfait\x20'+_0x3681ae+_0x525b7c(0x2a8),'amount':_0x416d79};await activateSubscription(_0x3681ae),showInvoiceDetails(_0x4db110),showNotification(_0x525b7c(0x368)+_0x3681ae+'\x20activé\x20avec\x20succès\x20!',_0x525b7c(0x2e8)),await checkFirstPurchaseAndRewardReferrer(currentUser[_0x525b7c(0x1e9)],_0x416d79);}else showNotification(_0x525b7c(0x329),_0x525b7c(0x350));}});_0x454b82['open']();}async function activateSubscription(_0x3a1765){const _0x4b714a=_0x2eb720,_0x5876c0={'24h':0x1,'3d':0x3,'7d':0x7,'30d':0x1e,'3m':0x5a},_0x2728d0=_0x5876c0[_0x3a1765],_0x4b2431=new Date();_0x4b2431['setDate'](_0x4b2431[_0x4b714a(0x2d5)]()+_0x2728d0),currentUser['subscription']=_0x3a1765,currentUser['subscriptionEndDate']=_0x4b2431[_0x4b714a(0x18e)](),await syncUserData(),document['getElementById'](_0x4b714a(0x213))[_0x4b714a(0x125)]=_0x3a1765;}function buyCredits(){const _0x9f8efa=_0x2eb720,_0x10c20f=document[_0x9f8efa(0x1a9)](_0x9f8efa(0x21e))[_0x9f8efa(0x1d9)];if(!_0x10c20f){showNotification(_0x9f8efa(0x2f4),_0x9f8efa(0x350));return;}const _0x9dad54={'10':0xc8,'100':0x3e8,'500':0x1194,'1000':0x1f40},_0x349a1d=_0x9dad54[_0x10c20f];var _0x520ca1=FedaPay[_0x9f8efa(0x128)]({'public_key':_0x9f8efa(0x14a),'transaction':{'amount':_0x349a1d,'description':_0x9f8efa(0x23e)+_0x10c20f+_0x9f8efa(0x1cc)},'customer':{'email':_0x9f8efa(0x2f7)},'onComplete':async function(_0x340559){const _0x3f6939=_0x9f8efa;if(_0x340559[_0x3f6939(0x36c)]===FedaPay[_0x3f6939(0x14b)]){const _0x1d35dc={'id':_0x340559['id'],'description':_0x3f6939(0x23e)+_0x10c20f+_0x3f6939(0x1cc),'amount':_0x349a1d};await addCreditsToUser(parseInt(_0x10c20f)),showInvoiceDetails(_0x1d35dc),showNotification(_0x10c20f+_0x3f6939(0x295),_0x3f6939(0x2e8)),await checkFirstPurchaseAndRewardReferrer(currentUser['username'],_0x349a1d);}else showNotification('Le\x20paiement\x20a\x20été\x20annulé\x20ou\x20a\x20échoué.',_0x3f6939(0x350));}});_0x520ca1[_0x9f8efa(0x31c)]();}async function checkFirstPurchaseAndRewardReferrer(_0xa36346,_0x4f734e){const _0x260cca=_0x2eb720,_0x3ccb83=db[_0x260cca(0x25d)](_0x260cca(0x1ed)+_0xa36346),_0x411c80=await _0x3ccb83[_0x260cca(0x223)](_0x260cca(0x1d9)),_0x554001=_0x411c80[_0x260cca(0x307)]();if(_0x554001&&!_0x554001[_0x260cca(0x14c)]){await _0x3ccb83[_0x260cca(0x28f)]({'firstPurchase':!![]});if(_0x554001['referredBy']){const _0xe4efaa=await db[_0x260cca(0x25d)](_0x260cca(0x327))[_0x260cca(0x271)](_0x260cca(0x36b))[_0x260cca(0x29c)](_0x554001[_0x260cca(0x339)])[_0x260cca(0x223)]('value'),_0x29ee18=_0xe4efaa['val']();if(_0x29ee18){const _0x1808f3=Object[_0x260cca(0x205)](_0x29ee18)[0x0],_0xda215e=db[_0x260cca(0x25d)](_0x260cca(0x1ed)+_0x1808f3);await _0xda215e['transaction'](_0x2e2f94=>{const _0x5228e1=_0x260cca;return _0x2e2f94&&(_0x2e2f94[_0x5228e1(0x1dd)]=(_0x2e2f94[_0x5228e1(0x1dd)]||0x0)+0xa,_0x2e2f94[_0x5228e1(0x352)]&&_0x2e2f94[_0x5228e1(0x352)][_0xa36346]&&(_0x2e2f94['referrals'][_0xa36346][_0x5228e1(0x21f)]=!![])),_0x2e2f94;}),await updateReferralStats(_0x1808f3),showNotification('Le\x20parrain\x20de\x20'+_0xa36346+_0x260cca(0x220),'success');}}}}function getShareMessage(_0x179ef1){return encodeURIComponent('🚀\x20Découvrez\x20le\x20secret\x20pour\x20booster\x20votre\x20apprentissage\x20!\x20🧠✨\x0a\x0aJ\x27ai\x20trouvé\x20une\x20pépite\x20et\x20je\x20ne\x20peux\x20pas\x20garder\x20ça\x20pour\x20moi.\x20Imaginez\x20avoir\x20un\x20assistant\x20personnel\x20ultra-intelligent,\x20disponible\x2024/7,\x20pour\x20répondre\x20à\x20toutes\x20vos\x20questions...\x20C\x27est\x20ce\x20que\x20j\x27ai\x20avec\x20Eduque\x20moi\x20!\x0a\x0aCurieux\x20?\x20Cliquez\x20sur\x20ce\x20lien\x20magique\x20et\x20embarquez\x20pour\x20une\x20aventure\x20intellectuelle\x20incroyable\x20:\x0a'+_0x179ef1+'\x0a\x0aPS\x20:\x20En\x20utilisant\x20mon\x20lien,\x20vous\x20me\x20donnez\x20un\x20petit\x20coup\x20de\x20pouce.\x20Mais\x20chut,\x20c\x27est\x20notre\x20secret\x20!\x20😉');}function shareOnFacebook(){const _0x1298df=_0x2eb720,_0x155f80=document[_0x1298df(0x1a9)](_0x1298df(0x2e6))[_0x1298df(0x1d9)],_0x309da9=getShareMessage(_0x155f80);window[_0x1298df(0x31c)](_0x1298df(0x2a3)+_0x155f80+_0x1298df(0x333)+_0x309da9,_0x1298df(0x17d));}function shareOnTwitter(){const _0x90a219=_0x2eb720,_0x4c700e=document[_0x90a219(0x1a9)]('referralLink')[_0x90a219(0x1d9)],_0xac2528=getShareMessage(_0x4c700e);window[_0x90a219(0x31c)](_0x90a219(0x32d)+_0x4c700e+'&text='+_0xac2528,_0x90a219(0x17d));}function shareOnLinkedIn(){const _0x30b4dc=_0x2eb720,_0x3f3e80=document[_0x30b4dc(0x1a9)]('referralLink')[_0x30b4dc(0x1d9)],_0x4a568f=getShareMessage(_0x3f3e80);window[_0x30b4dc(0x31c)]('https://www.linkedin.com/shareArticle?mini=true&url='+_0x3f3e80+_0x30b4dc(0x12a)+_0x4a568f,_0x30b4dc(0x17d));}function shareOnWhatsApp(){const _0x426e08=_0x2eb720,_0x4a93d1=document[_0x426e08(0x1a9)]('referralLink')[_0x426e08(0x1d9)],_0x4ea0da=getShareMessage(_0x4a93d1);window['open']('https://wa.me/?text='+_0x4ea0da,'_blank');}function copyReferralLink(){const _0x46bb1f=_0x2eb720,_0x5782d6=document['getElementById'](_0x46bb1f(0x2e6));_0x5782d6['select'](),document[_0x46bb1f(0x209)]('copy'),showNotification('Lien\x20de\x20partage\x20copié\x20!',_0x46bb1f(0x2e8));}function _0x4f43(_0x6a025,_0x1f69b1){const _0x1d46a0=_0x1d46();return _0x4f43=function(_0x4f4349,_0x1e4930){_0x4f4349=_0x4f4349-0x11d;let _0x2a4adb=_0x1d46a0[_0x4f4349];return _0x2a4adb;},_0x4f43(_0x6a025,_0x1f69b1);}function showNotification(_0x546444,_0xbdd49e){const _0x42b152=_0x2eb720,_0x27bb54=document[_0x42b152(0x25a)](_0x42b152(0x1d2));_0x27bb54[_0x42b152(0x125)]=_0x546444,_0x27bb54[_0x42b152(0x1a7)]=_0x42b152(0x344)+_0xbdd49e,document[_0x42b152(0x1af)][_0x42b152(0x359)](_0x27bb54),setTimeout(()=>{const _0x468b06=_0x42b152;_0x27bb54[_0x468b06(0x187)][_0x468b06(0x170)]('show'),setTimeout(()=>{const _0x4fc3b9=_0x468b06;_0x27bb54[_0x4fc3b9(0x187)][_0x4fc3b9(0x1e3)](_0x4fc3b9(0x1d1)),setTimeout(()=>{const _0xfecc39=_0x4fc3b9;_0x27bb54[_0xfecc39(0x1e3)]();},0x12c);},0xbb8);},0x64);}function showPaymentNotification(_0x1fd6b7){const _0x1ed813=_0x2eb720,_0xde6be5=document[_0x1ed813(0x25a)](_0x1ed813(0x1d2));_0xde6be5[_0x1ed813(0x1a7)]=_0x1ed813(0x215),_0xde6be5[_0x1ed813(0x130)]=_0x1ed813(0x331)+_0x1fd6b7+_0x1ed813(0x132),document[_0x1ed813(0x1af)][_0x1ed813(0x359)](_0xde6be5),setTimeout(()=>{const _0x3f854a=_0x1ed813;_0xde6be5[_0x3f854a(0x187)][_0x3f854a(0x170)]('show'),setTimeout(()=>{const _0x3e5eb2=_0x3f854a;_0xde6be5[_0x3e5eb2(0x187)][_0x3e5eb2(0x1e3)]('show'),setTimeout(()=>{_0xde6be5['remove']();},0x12c);},0x2710);},0x64);}async function showPaymentNotificationWithFreeOption(_0x1b58a4){return new Promise(_0x391235=>{const _0x55b0ad=_0x4f43,_0x464176=document[_0x55b0ad(0x25a)](_0x55b0ad(0x1d2));_0x464176[_0x55b0ad(0x1a7)]=_0x55b0ad(0x215),_0x464176[_0x55b0ad(0x130)]=_0x55b0ad(0x274)+_0x1b58a4+'<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27free\x27)\x22>Utiliser\x20le\x20modèle\x20gratuit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27subscription\x27)\x22>Acheter\x20un\x20abonnement</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27credits\x27)\x22>Acheter\x20des\x20crédits</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27cancel\x27)\x22>Annuler</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x55b0ad(0x1af)][_0x55b0ad(0x359)](_0x464176),window['resolveNotification']=function(_0x147e2f){_0x464176['remove'](),_0x391235(_0x147e2f);},setTimeout(()=>{const _0xc4f109=_0x55b0ad;_0x464176[_0xc4f109(0x187)][_0xc4f109(0x170)](_0xc4f109(0x1d1));},0x64);});}function toggleTheme(){const _0x28b976=_0x2eb720,_0x1567be=document['body'],_0x5d464e=_0x1567be[_0x28b976(0x11f)](_0x28b976(0x238)),_0x5ccfdb=_0x5d464e===_0x28b976(0x301)?_0x28b976(0x323):_0x28b976(0x301);_0x1567be[_0x28b976(0x365)](_0x28b976(0x238),_0x5ccfdb),localStorage['setItem'](_0x28b976(0x1fc),_0x5ccfdb),updateThemeIcon(_0x5ccfdb),document['querySelector'](_0x28b976(0x182))[_0x28b976(0x365)](_0x28b976(0x360),_0x5ccfdb);}function updateThemeIcon(_0x23d5fe){const _0x4d0e9c=_0x2eb720,_0x3aac7b=document[_0x4d0e9c(0x276)](_0x4d0e9c(0x338));_0x3aac7b[_0x4d0e9c(0x1a7)]=_0x23d5fe===_0x4d0e9c(0x301)?'fas\x20fa-sun':_0x4d0e9c(0x353);}function toggleSidebar(){const _0x4950a5=_0x2eb720,_0x5d14d2=document[_0x4950a5(0x276)](_0x4950a5(0x141)),_0x184ec4=document[_0x4950a5(0x276)]('.chat-container');_0x5d14d2[_0x4950a5(0x187)][_0x4950a5(0x201)](_0x4950a5(0x175)),_0x184ec4[_0x4950a5(0x187)][_0x4950a5(0x201)](_0x4950a5(0x1b4)),localStorage[_0x4950a5(0x267)](_0x4950a5(0x1a4),_0x5d14d2['classList'][_0x4950a5(0x1fe)](_0x4950a5(0x175)));}function saveConversation(){const _0x3ac391=_0x2eb720;if(!currentUser)return;const _0x12de28=currentConversation['id']||Date[_0x3ac391(0x291)]()[_0x3ac391(0x27e)]();conversations[_0x12de28]=currentConversation,currentConversation['id']=_0x12de28,localStorage[_0x3ac391(0x267)](_0x3ac391(0x259)+currentUser[_0x3ac391(0x1e9)],JSON[_0x3ac391(0x32b)](conversations)),updateConversationHistory();}function loadConversationHistory(){const _0x49286a=_0x2eb720;if(!currentUser)return;const _0x23f4d5=localStorage[_0x49286a(0x1bd)](_0x49286a(0x259)+currentUser[_0x49286a(0x1e9)]);_0x23f4d5&&(conversations=JSON['parse'](_0x23f4d5),updateConversationHistory());}function updateConversationHistory(){const _0x1214e4=_0x2eb720,_0x2dc086=document[_0x1214e4(0x1a9)](_0x1214e4(0x1ba));_0x2dc086[_0x1214e4(0x130)]='';const _0x3d0e05=Object[_0x1214e4(0x205)](conversations)[_0x1214e4(0x324)]((_0x19b403,_0x255a30)=>parseInt(_0x255a30)-parseInt(_0x19b403));_0x3d0e05['forEach'](_0x12d0e5=>{const _0x5ab4a7=_0x1214e4,_0x11fda7=conversations[_0x12d0e5],_0x43c4ea=document[_0x5ab4a7(0x25a)](_0x5ab4a7(0x1d2));_0x43c4ea['className']='conversation-item';const _0x357143=document[_0x5ab4a7(0x25a)](_0x5ab4a7(0x167));_0x357143[_0x5ab4a7(0x125)]=_0x5ab4a7(0x126)+new Date(parseInt(_0x12d0e5))[_0x5ab4a7(0x230)](),_0x357143[_0x5ab4a7(0x1e5)]=()=>loadConversation(_0x12d0e5);const _0x252669=document[_0x5ab4a7(0x25a)]('i');_0x252669[_0x5ab4a7(0x1a7)]=_0x5ab4a7(0x21b),_0x252669[_0x5ab4a7(0x1e5)]=_0xdfe697=>{const _0x4a5689=_0x5ab4a7;_0xdfe697[_0x4a5689(0x1d8)](),deleteConversation(_0x12d0e5);},_0x43c4ea[_0x5ab4a7(0x359)](_0x357143),_0x43c4ea[_0x5ab4a7(0x359)](_0x252669),_0x2dc086['appendChild'](_0x43c4ea);});}function deleteConversation(_0x5ef108){const _0x271fa6=_0x2eb720;confirm(_0x271fa6(0x2ef))&&(delete conversations[_0x5ef108],localStorage[_0x271fa6(0x267)](_0x271fa6(0x259)+currentUser[_0x271fa6(0x1e9)],JSON[_0x271fa6(0x32b)](conversations)),updateConversationHistory());}function createNewConversation(){const _0x27094c=_0x2eb720;currentConversation[_0x27094c(0x139)]>0x0&&saveConversation();currentConversation=[];const _0x470ade=document[_0x27094c(0x1a9)](_0x27094c(0x243));_0x470ade[_0x27094c(0x130)]='',updateConversationHistory(),addMessageToChat('ai',_0x27094c(0x222)),_0x470ade['scrollTop']=0x0,document[_0x27094c(0x1a9)](_0x27094c(0x27f))['focus']();}function loadConversation(_0x512ee2){const _0x1e2555=_0x2eb720;currentConversation[_0x1e2555(0x139)]>0x0&&currentConversation['id']!==_0x512ee2&&saveConversation();currentConversation=conversations[_0x512ee2],currentConversation['id']=_0x512ee2;const _0x2a9da4=document[_0x1e2555(0x1a9)](_0x1e2555(0x243));_0x2a9da4[_0x1e2555(0x130)]='',currentConversation[_0x1e2555(0x248)](_0x27bb0a=>{const _0x38e6d1=_0x1e2555;addMessageToChat(_0x27bb0a[_0x38e6d1(0x362)],_0x27bb0a[_0x38e6d1(0x360)]);}),_0x2a9da4[_0x1e2555(0x354)]=0x0;}async function syncUserData(){const _0x1d088b=_0x2eb720;if(!currentUser)return;const _0x376352={'freeCredits':currentUser[_0x1d088b(0x1f4)]||0x0,'paidCredits':currentUser[_0x1d088b(0x1dd)]||0x0,'lastFreeCreditsReset':currentUser['lastFreeCreditsReset']||new Date()[_0x1d088b(0x18e)]()};currentUser[_0x1d088b(0x213)]&&(_0x376352[_0x1d088b(0x213)]=currentUser[_0x1d088b(0x213)]);currentUser[_0x1d088b(0x367)]&&(_0x376352['subscriptionEndDate']=currentUser[_0x1d088b(0x367)]);const _0x7dec82=db[_0x1d088b(0x25d)](_0x1d088b(0x1ed)+currentUser['username']);try{await _0x7dec82[_0x1d088b(0x28f)](_0x376352),console[_0x1d088b(0x2d3)](_0x1d088b(0x168),_0x376352);}catch(_0x51e190){console[_0x1d088b(0x350)](_0x1d088b(0x2b0),_0x51e190),showNotification(_0x1d088b(0x261),_0x1d088b(0x350));}}function adjustTextareaHeight(){const _0x5f081b=_0x2eb720,_0x32611c=document[_0x5f081b(0x1a9)](_0x5f081b(0x27f));_0x32611c[_0x5f081b(0x202)]['height']=_0x5f081b(0x153),_0x32611c[_0x5f081b(0x202)][_0x5f081b(0x253)]=_0x32611c[_0x5f081b(0x2b3)]+'px';}function resetTextareaHeight(){const _0x284bf4=_0x2eb720,_0x5e1304=document[_0x284bf4(0x1a9)](_0x284bf4(0x27f));_0x5e1304['style'][_0x284bf4(0x253)]='auto';}async function attemptAutoLogin(){const _0x516591=_0x2eb720,_0x52a04f=getStoredLoginInfo();if(_0x52a04f[_0x516591(0x1e9)]&&_0x52a04f[_0x516591(0x239)])try{const _0x4d7368=db[_0x516591(0x25d)](_0x516591(0x1ed)+_0x52a04f['username']),_0x3fc416=await _0x4d7368[_0x516591(0x223)](_0x516591(0x1d9));if(_0x3fc416['exists']()&&_0x3fc416[_0x516591(0x307)]()[_0x516591(0x239)]===_0x52a04f['password']){const _0x1198fa=_0x3fc416[_0x516591(0x307)]();currentUser={'username':_0x52a04f[_0x516591(0x1e9)],'freeCredits':_0x1198fa[_0x516591(0x1f4)],'paidCredits':_0x1198fa['paidCredits'],'subscription':_0x1198fa[_0x516591(0x213)],'subscriptionEndDate':_0x1198fa[_0x516591(0x367)],'lastFreeCreditsReset':_0x1198fa[_0x516591(0x18a)]},await resetFreeCreditsIfNeeded(),updateUIForLoggedInUser(),console[_0x516591(0x2d3)](_0x516591(0x290));}else clearLoginInfo(),console[_0x516591(0x2d3)](_0x516591(0x28a));}catch(_0x507906){console[_0x516591(0x350)](_0x516591(0x18d),_0x507906),clearLoginInfo();}}function saveSelectedModel(){const _0x903219=_0x2eb720,_0x165dc6=document[_0x903219(0x1a9)](_0x903219(0x35d))[_0x903219(0x1d9)];localStorage[_0x903219(0x267)](_0x903219(0x18b),_0x165dc6);}function loadSelectedModel(){const _0x5e941b=_0x2eb720,_0xc62b58=localStorage[_0x5e941b(0x1bd)](_0x5e941b(0x18b));_0xc62b58&&(document[_0x5e941b(0x1a9)](_0x5e941b(0x35d))[_0x5e941b(0x1d9)]=_0xc62b58);}function showUpgradeButton(_0x51ad32){const _0x1f7113=_0x2eb720,_0x11af63=document['createElement'](_0x1f7113(0x22f));_0x11af63['textContent']='Passer\x20à\x20un\x20modèle\x20avancé',_0x11af63['className']='upgrade-button',_0x11af63[_0x1f7113(0x1e5)]=()=>{const _0x5bd738=_0x1f7113;hasValidSubscription()||currentUser[_0x5bd738(0x1dd)]>0x0?(document[_0x5bd738(0x1a9)](_0x5bd738(0x35d))[_0x5bd738(0x1d9)]=_0x5bd738(0x212),showNotification(_0x5bd738(0x299),_0x5bd738(0x2e8))):showPaymentNotification(_0x5bd738(0x171));},_0x51ad32[_0x1f7113(0x359)](_0x11af63);}function copyUserMessage(_0x41e1be){const _0xaac099=_0x2eb720;let _0x3266ea='';for(const _0x41a64d of _0x41e1be[_0xaac099(0x233)]){if(_0x41a64d[_0xaac099(0x1fa)]==='P')_0x3266ea+=_0x41a64d[_0xaac099(0x125)]+'\x0a';else{if(_0x41a64d[_0xaac099(0x187)][_0xaac099(0x1fe)]('pinned-files-message')){const _0xda1ffa=Array[_0xaac099(0x26a)](_0x41a64d['querySelectorAll'](_0xaac099(0x2da)))[_0xaac099(0x23a)](_0x5cf2e4=>_0x5cf2e4[_0xaac099(0x125)])[_0xaac099(0x193)](',\x20');_0x3266ea+=_0xaac099(0x2fe)+_0xda1ffa+'\x0a';}else{if(_0x41a64d[_0xaac099(0x187)]['contains'](_0xaac099(0x15c))){const _0x5173dc=Array[_0xaac099(0x26a)](_0x41a64d[_0xaac099(0x1bb)](_0xaac099(0x186)))[_0xaac099(0x23a)](_0xa6a509=>_0xa6a509['textContent'])[_0xaac099(0x193)]('\x0a');_0x3266ea+=_0xaac099(0x124)+_0x5173dc+'\x0a';}else{if(_0x41a64d['classList']['contains'](_0xaac099(0x191))){const _0x3d546f=_0x41a64d[_0xaac099(0x276)](_0xaac099(0x208))[_0xaac099(0x125)];_0x3266ea+=_0xaac099(0x245)+_0x3d546f+'\x0a';}}}}}navigator['clipboard'][_0xaac099(0x2b6)](_0x3266ea[_0xaac099(0x326)]())[_0xaac099(0x337)](()=>{const _0x4b7642=_0xaac099;showNotification(_0x4b7642(0x1f5),_0x4b7642(0x2e8));});}function animateResponse(_0x4780b6,_0x13b44e){const _0xf102c7=_0x2eb720;let _0x2c348f=0x0;_0x4780b6[_0xf102c7(0x125)]='';const _0x4eac1c=setInterval(()=>{const _0x3c22ea=_0xf102c7;_0x2c348f<_0x13b44e[_0x3c22ea(0x139)]?(_0x4780b6[_0x3c22ea(0x125)]+=_0x13b44e[_0x2c348f],_0x2c348f++):clearInterval(_0x4eac1c);},0x1);}function loadPromptCategories(){const _0x3b8672=_0x2eb720,_0x41ed1b=document['getElementById'](_0x3b8672(0x23d));_0x41ed1b[_0x3b8672(0x130)]='',db['ref'](_0x3b8672(0x26c))['once'](_0x3b8672(0x1d9),_0x398729=>{const _0xdc57d3=_0x3b8672;prompts=_0x398729['val']()||{};const _0x38c2ce=[...new Set(Object['values'](prompts)['map'](_0x5ec9a1=>_0x5ec9a1[_0xdc57d3(0x11d)]))];_0x38c2ce[_0xdc57d3(0x248)](_0x5d4378=>{const _0x360a2b=_0xdc57d3,_0x37efe6=document[_0x360a2b(0x25a)]('li');_0x37efe6[_0x360a2b(0x125)]=_0x5d4378,_0x37efe6['onclick']=()=>{const _0xa1d644=_0x360a2b;document[_0xa1d644(0x1bb)]('#promptCategories\x20li')[_0xa1d644(0x248)](_0x498684=>_0x498684[_0xa1d644(0x187)][_0xa1d644(0x1e3)](_0xa1d644(0x19e))),_0x37efe6['classList']['add'](_0xa1d644(0x19e)),loadPromptsForCategory(_0x5d4378);},_0x41ed1b[_0x360a2b(0x359)](_0x37efe6);}),_0x38c2ce[_0xdc57d3(0x139)]>0x0&&(loadPromptsForCategory(_0x38c2ce[0x0]),_0x41ed1b[_0xdc57d3(0x13c)][_0xdc57d3(0x187)][_0xdc57d3(0x170)]('active'));});}function loadPromptsForCategory(_0x48b85b){const _0xb44d98=_0x2eb720,_0x7f5da7=document[_0xb44d98(0x1a9)](_0xb44d98(0x131));_0x7f5da7[_0xb44d98(0x130)]='',Object[_0xb44d98(0x31a)](prompts)['forEach'](([_0x2fc5fa,_0x5b809f])=>{const _0x48bd56=_0xb44d98;if(_0x5b809f[_0x48bd56(0x11d)]===_0x48b85b){const _0x50fea3=document[_0x48bd56(0x25a)]('li');_0x50fea3[_0x48bd56(0x130)]=_0x48bd56(0x2b2)+_0x5b809f[_0x48bd56(0x198)]+_0x48bd56(0x28d),_0x50fea3[_0x48bd56(0x276)]('.prompt-item')[_0x48bd56(0x365)](_0x48bd56(0x1e5),_0x48bd56(0x1a1)+_0x2fc5fa+_0x48bd56(0x138)),_0x50fea3[_0x48bd56(0x276)]('.prompt-item')[_0x48bd56(0x365)](_0x48bd56(0x173),JSON[_0x48bd56(0x32b)](_0x5b809f)),_0x7f5da7[_0x48bd56(0x359)](_0x50fea3);}});}function selectPrompt(_0x1d8089,_0x984252){const _0xa4a76f=_0x2eb720,_0x33098b=JSON[_0xa4a76f(0x345)](_0x984252[_0xa4a76f(0x11f)](_0xa4a76f(0x173)));pinnedPrompt={'id':_0x1d8089,..._0x33098b},updatePinnedPrompt(),closePromptModal(),showNotification(_0xa4a76f(0x31f),'success');const _0x3432f9=document['getElementById'](_0xa4a76f(0x27f));_0x3432f9[_0xa4a76f(0x35a)]=pinnedPrompt[_0xa4a76f(0x211)]||_0xa4a76f(0x312),adjustTextareaHeight();}function closePromptModal(){const _0xe0c868=_0x2eb720;document[_0xe0c868(0x1a9)]('promptListModal')['style'][_0xe0c868(0x297)]=_0xe0c868(0x293);}function togglePromptList(){const _0x1cbaad=_0x2eb720,_0xb82ca4=document[_0x1cbaad(0x1a9)](_0x1cbaad(0x1c9));_0xb82ca4[_0x1cbaad(0x202)]['display']=_0x1cbaad(0x2c2),loadPromptCategories();}function updatePinnedPrompt(){const _0x3c4a02=_0x2eb720,_0x6f027d=document[_0x3c4a02(0x1a9)]('pinnedItems'),_0x4e9be9=_0x6f027d[_0x3c4a02(0x276)](_0x3c4a02(0x20b));_0x4e9be9&&_0x4e9be9[_0x3c4a02(0x1e3)]();if(pinnedPrompt){const _0x1e7972=document['createElement'](_0x3c4a02(0x1d2));_0x1e7972['className']='pinned-item',_0x1e7972['setAttribute']('data-type',_0x3c4a02(0x2fc)),_0x1e7972['innerHTML']=_0x3c4a02(0x2f0)+pinnedPrompt[_0x3c4a02(0x198)]+'\x22>'+pinnedPrompt['title']+_0x3c4a02(0x24b),_0x6f027d[_0x3c4a02(0x359)](_0x1e7972);}}function removePinnedPrompt(){pinnedPrompt=null,updatePinnedPrompt();}function openLibrary(){const _0x55bc24=_0x2eb720;console['log'](_0x55bc24(0x226));if(currentUser){console[_0x55bc24(0x2d3)](_0x55bc24(0x20e),currentUser);const _0x243279={'username':currentUser['username'],'freeCredits':currentUser[_0x55bc24(0x1f4)],'paidCredits':currentUser[_0x55bc24(0x1dd)],'subscription':currentUser[_0x55bc24(0x213)]};localStorage[_0x55bc24(0x267)]('eduqueMoiUserData',JSON[_0x55bc24(0x32b)](_0x243279)),console['log'](_0x55bc24(0x2bb)),window[_0x55bc24(0x254)][_0x55bc24(0x24a)]=_0x55bc24(0x347);}else console['log'](_0x55bc24(0x22c)),alert(_0x55bc24(0x335));}async function showReferralModal(){const _0x2d91d3=_0x2eb720,_0x42af95=document[_0x2d91d3(0x1a9)](_0x2d91d3(0x340));_0x42af95['style'][_0x2d91d3(0x297)]=_0x2d91d3(0x2c2);const _0xb30c8d=await getOrCreateReferralCode();if(_0xb30c8d){const _0x308086=_0x2d91d3(0x2af)+_0xb30c8d;document[_0x2d91d3(0x1a9)](_0x2d91d3(0x2e6))[_0x2d91d3(0x1d9)]=_0x308086;const _0x50c78a=_0x2d91d3(0x310)+_0x308086;document[_0x2d91d3(0x1a9)]('referralLink')['setAttribute'](_0x2d91d3(0x2f6),_0x50c78a);}else document[_0x2d91d3(0x1a9)]('referralLink')[_0x2d91d3(0x1d9)]=_0x2d91d3(0x12d);await updateReferralStats(currentUser['username']);}function generateReferralCode(){const _0x1ac611=_0x2eb720;return Math['random']()[_0x1ac611(0x27e)](0x24)[_0x1ac611(0x2c5)](0x2,0x8)[_0x1ac611(0x1ff)]();}async function getOrCreateReferralCode(){const _0x108596=_0x2eb720;if(!currentUser)return null;const _0x7981cc=db[_0x108596(0x25d)](_0x108596(0x1ed)+currentUser[_0x108596(0x1e9)]),_0x24f776=await _0x7981cc[_0x108596(0x223)](_0x108596(0x1d9)),_0x51d170=_0x24f776['val']();if(_0x51d170&&_0x51d170[_0x108596(0x36b)])return _0x51d170[_0x108596(0x36b)];else{const _0x364982=generateReferralCode();return await _0x7981cc[_0x108596(0x28f)]({'referralCode':_0x364982}),_0x364982;}}async function updateReferralStats(_0x38ce80){const _0x1f1a7e=_0x2eb720,_0x41f7c0=db[_0x1f1a7e(0x25d)]('users/'+_0x38ce80),_0x6df2f5=await _0x41f7c0[_0x1f1a7e(0x223)]('value'),_0x8efb1e=_0x6df2f5[_0x1f1a7e(0x307)]();if(_0x8efb1e&&_0x8efb1e[_0x1f1a7e(0x352)]){const _0x3c8cc3=_0x8efb1e[_0x1f1a7e(0x352)],_0x757a72=Object[_0x1f1a7e(0x205)](_0x3c8cc3)[_0x1f1a7e(0x139)],_0x32f6b1=Object['values'](_0x3c8cc3)['filter'](_0x16403b=>_0x16403b[_0x1f1a7e(0x21f)])['length'];await _0x41f7c0['update']({'totalReferrals':_0x757a72,'activeReferrals':_0x32f6b1}),currentUser&&currentUser[_0x1f1a7e(0x1e9)]===_0x38ce80&&(document[_0x1f1a7e(0x1a9)](_0x1f1a7e(0x28b))[_0x1f1a7e(0x125)]=_0x757a72,document[_0x1f1a7e(0x1a9)]('activeReferrals')[_0x1f1a7e(0x125)]=_0x32f6b1);}}window[_0x2eb720(0x2d9)]=async function(){const _0x5dd732=_0x2eb720;await attemptAutoLogin();if(currentUser){if(currentUser[_0x5dd732(0x1f4)]===undefined)currentUser[_0x5dd732(0x1f4)]=0x0;if(currentUser[_0x5dd732(0x1dd)]===undefined)currentUser[_0x5dd732(0x1dd)]=0x0;if(currentUser[_0x5dd732(0x213)]===undefined)currentUser['subscription']=null;if(currentUser[_0x5dd732(0x367)]===undefined)currentUser['subscriptionEndDate']=null;if(currentUser[_0x5dd732(0x18a)]===undefined)currentUser[_0x5dd732(0x18a)]=new Date()[_0x5dd732(0x18e)]();const _0x5b6c06=db[_0x5dd732(0x25d)](_0x5dd732(0x1ed)+currentUser[_0x5dd732(0x1e9)]),_0xe7e038=await _0x5b6c06['once'](_0x5dd732(0x1d9)),_0x4eeb74=_0xe7e038['val']();_0x4eeb74&&(importedFilesCount=_0x4eeb74[_0x5dd732(0x252)]||0x0,lastImportReset=new Date(_0x4eeb74[_0x5dd732(0x23b)]||new Date())),await syncUserData();}await loadApiKeyList(),await apiManager['initialize'](),initializeApiKeyRotation();const _0x3c8715=localStorage[_0x5dd732(0x1bd)]('theme')||_0x5dd732(0x323);document['body'][_0x5dd732(0x365)](_0x5dd732(0x238),_0x3c8715),updateThemeIcon(_0x3c8715),setupUIEventListeners();currentUser&&loadConversationHistory();initModals(),loadSelectedModel(),document['getElementById']('modelSelect')[_0x5dd732(0x1b0)](_0x5dd732(0x1ef),saveSelectedModel),restoreAppState(),initializeNewDiscussion(),document['body']['classList'][_0x5dd732(0x170)](_0x5dd732(0x30f)),setInterval(checkSubscriptionStatus,0x36ee80),await loadApiKeyList(),await apiManager[_0x5dd732(0x184)](),initializeGeminiAPI();const _0x1c3f53=document['getElementById'](_0x5dd732(0x35d));!_0x1c3f53[_0x5dd732(0x1d9)]&&(_0x1c3f53[_0x5dd732(0x1d9)]=_0x5dd732(0x2c4));};function setupUIEventListeners(){const _0x3f4938=_0x2eb720,_0x4770ac=document[_0x3f4938(0x276)](_0x3f4938(0x172)),_0x1d54f3=document[_0x3f4938(0x1a9)]('userInput'),_0x42b32c=document['querySelector'](_0x3f4938(0x15a)),_0x5dd52d=_0x4770ac[_0x3f4938(0x276)]('button:last-child');function _0x43a1b1(){const _0x4836f3=_0x3f4938,_0x57f78b=_0x4770ac['offsetWidth'],_0x14ece2=_0x42b32c[_0x4836f3(0x18c)],_0x1227d7=document[_0x4836f3(0x1a9)]('promptListButton')[_0x4836f3(0x18c)],_0x36cc23=_0x5dd52d[_0x4836f3(0x18c)],_0x39896c=0x1e;_0x1d54f3[_0x4836f3(0x202)][_0x4836f3(0x246)]=_0x57f78b-_0x14ece2-_0x1227d7-_0x36cc23-_0x39896c+'px';}_0x43a1b1(),window['addEventListener'](_0x3f4938(0x1a0),_0x43a1b1),_0x1d54f3[_0x3f4938(0x1b0)](_0x3f4938(0x217),adjustTextareaHeight),document[_0x3f4938(0x1a9)](_0x3f4938(0x35d))[_0x3f4938(0x1b0)](_0x3f4938(0x1ef),checkModelAccess);window[_0x3f4938(0x236)]<=0x300&&(document[_0x3f4938(0x276)](_0x3f4938(0x141))[_0x3f4938(0x187)][_0x3f4938(0x1e3)]('visible'),document[_0x3f4938(0x276)]('.chat-container')['classList']['remove'](_0x3f4938(0x1b4)));if(currentUser){const _0x2d4e11=db[_0x3f4938(0x25d)](_0x3f4938(0x1ed)+currentUser[_0x3f4938(0x1e9)]);_0x2d4e11['on'](_0x3f4938(0x1d9),_0x2ac6e8=>{const _0x519831=_0x3f4938,_0x12737f=_0x2ac6e8['val']();_0x12737f&&(currentUser={...currentUser,'freeCredits':_0x12737f[_0x519831(0x1f4)],'paidCredits':_0x12737f['paidCredits'],'subscription':_0x12737f[_0x519831(0x213)],'subscriptionEndDate':_0x12737f[_0x519831(0x367)],'lastFreeCreditsReset':_0x12737f[_0x519831(0x18a)]},updateUIForLoggedInUser());});}}function initModals(){const _0xd072b1=_0x2eb720,_0x12e39e=document['querySelectorAll'](_0xd072b1(0x1bc)),_0x3bf8dd=document[_0xd072b1(0x1bb)](_0xd072b1(0x1bf));_0x3bf8dd[_0xd072b1(0x248)](_0x52994a=>{const _0x92a4c0=_0xd072b1;_0x52994a[_0x92a4c0(0x1b0)]('click',()=>{const _0x558f0a=_0x92a4c0;_0x52994a['closest'](_0x558f0a(0x1bc))[_0x558f0a(0x202)][_0x558f0a(0x297)]=_0x558f0a(0x293);});}),window[_0xd072b1(0x1b0)](_0xd072b1(0x266),_0x9e2867=>{const _0x15c24b=_0xd072b1;_0x12e39e[_0x15c24b(0x248)](_0x56b472=>{const _0x3840fe=_0x15c24b;_0x9e2867[_0x3840fe(0x1e8)]===_0x56b472&&(_0x56b472['style'][_0x3840fe(0x297)]=_0x3840fe(0x293));});});}window[_0x2eb720(0x1b0)](_0x2eb720(0x256),async()=>{const _0x549306=_0x2eb720;if(currentUser){const _0x40396b=await checkGuidedTourStatus(currentUser[_0x549306(0x1e9)]);!_0x40396b&&(startGuidedTour(),await markGuidedTourAsSeen(currentUser[_0x549306(0x1e9)]));}}),document[_0x2eb720(0x1b0)](_0x2eb720(0x192),function(_0x16d350){const _0xd8b7cc=_0x2eb720;_0x16d350['key']===_0xd8b7cc(0x2be)&&!_0x16d350[_0xd8b7cc(0x2b4)]&&(_0x16d350[_0xd8b7cc(0x289)](),sendMessage());}),document[_0x2eb720(0x1a9)](_0x2eb720(0x27f))[_0x2eb720(0x1b0)](_0x2eb720(0x192),function(_0x4e390c){const _0x5e52ce=_0x2eb720;if(_0x4e390c['key']===_0x5e52ce(0x2be)&&_0x4e390c[_0x5e52ce(0x2b4)]){_0x4e390c['preventDefault']();const _0x45f469=this[_0x5e52ce(0x269)],_0x71f36b=this[_0x5e52ce(0x197)],_0x3270c5=this[_0x5e52ce(0x1d9)];this['value']=_0x3270c5[_0x5e52ce(0x2c5)](0x0,_0x45f469)+'\x0a'+_0x3270c5[_0x5e52ce(0x2c5)](_0x71f36b),this[_0x5e52ce(0x269)]=this[_0x5e52ce(0x197)]=_0x45f469+0x1;}});function checkApiStatus(){const _0x393e70=_0x2eb720;axios['get'](API_BASE_URL+_0x393e70(0x1c4)+API_KEY)[_0x393e70(0x337)](_0xdfdb63=>{const _0x280f99=_0x393e70;console[_0x280f99(0x2d3)](_0x280f99(0x13f),_0xdfdb63[_0x280f99(0x1f3)]),console[_0x280f99(0x2d3)](_0x280f99(0x30e),_0xdfdb63[_0x280f99(0x315)]);})[_0x393e70(0x14f)](_0x68dd86=>{const _0x42492e=_0x393e70;console[_0x42492e(0x350)](_0x42492e(0x1d4),_0x68dd86);});}function checkApiStatusRegularly(){checkApiStatus(),setInterval(checkApiStatus,0xea60);}window['addEventListener'](_0x2eb720(0x2c3),function(){const _0x471eac=_0x2eb720;showNotification('Vous\x20êtes\x20hors\x20ligne.\x20Veuillez\x20vérifier\x20votre\x20connexion\x20internet.',_0x471eac(0x350));}),window['addEventListener'](_0x2eb720(0x28e),function(){const _0x151e55=_0x2eb720;showNotification(_0x151e55(0x1dc),'success');}),window[_0x2eb720(0x1b0)]('beforeunload',function(){const _0x3b66a0=_0x2eb720;currentUser&&localStorage[_0x3b66a0(0x267)](_0x3b66a0(0x19b),JSON[_0x3b66a0(0x32b)](currentConversation));});function restoreAppState(){const _0x28321e=_0x2eb720,_0x13c1e7=localStorage[_0x28321e(0x1bd)](_0x28321e(0x19b));_0x13c1e7&&(currentConversation=JSON[_0x28321e(0x345)](_0x13c1e7),currentConversation[_0x28321e(0x248)](_0x236a85=>{const _0x5c2666=_0x28321e;addMessageToChat(_0x236a85['sender'],_0x236a85[_0x5c2666(0x360)]);}));}function isImageGenerationModel(_0xa7cc7){const _0x325393=_0x2eb720;return _0xa7cc7[_0x325393(0x204)](_0x325393(0x272));}function getRecraftStyle(_0x2757a5){const _0xb790af=_0x2eb720,_0x1d064d={'recraft-realistic':_0xb790af(0x157),'recraft-digital':'digital_illustration','recraft-vector':_0xb790af(0x1ec),'recraft-icon':_0xb790af(0x1db)};return _0x1d064d[_0x2757a5]||_0xb790af(0x157);}async function initializeImageGenerationTracking(_0x8a1137){const _0x58780f=_0x2eb720,_0x2daaf1=db[_0x58780f(0x25d)](_0x58780f(0x1ed)+_0x8a1137),_0x3356d2=await _0x2daaf1[_0x58780f(0x255)](_0x58780f(0x249))['once'](_0x58780f(0x1d9)),_0x44b512=_0x3356d2['val']();(!_0x44b512||isNewDay(_0x44b512[_0x58780f(0x294)]))&&await _0x2daaf1[_0x58780f(0x255)](_0x58780f(0x249))[_0x58780f(0x178)]({'dailyCount':0x0,'lastReset':new Date()[_0x58780f(0x18e)]()});}function isNewDay(_0x154cbc){const _0x40082f=_0x2eb720;if(!_0x154cbc)return!![];const _0x35ba72=new Date(_0x154cbc),_0xc456ab=new Date();return _0x35ba72[_0x40082f(0x2d5)]()!==_0xc456ab[_0x40082f(0x2d5)]()||_0x35ba72[_0x40082f(0x1b1)]()!==_0xc456ab[_0x40082f(0x1b1)]()||_0x35ba72[_0x40082f(0x2ac)]()!==_0xc456ab[_0x40082f(0x2ac)]();}async function getImageGenerationCount(_0x4ddb23){const _0x5c17ed=_0x2eb720,_0x36b4fb=db[_0x5c17ed(0x25d)]('users/'+_0x4ddb23),_0x1e331b=await _0x36b4fb[_0x5c17ed(0x255)](_0x5c17ed(0x249))['once'](_0x5c17ed(0x1d9)),_0x34d5c1=_0x1e331b[_0x5c17ed(0x307)]();if(!_0x34d5c1||isNewDay(_0x34d5c1[_0x5c17ed(0x294)]))return await initializeImageGenerationTracking(_0x4ddb23),0x0;return _0x34d5c1[_0x5c17ed(0x189)];}async function incrementImageGenerationCount(_0x2ef34e){const _0x5c2287=_0x2eb720,_0x51e554=db[_0x5c2287(0x25d)](_0x5c2287(0x1ed)+_0x2ef34e);await _0x51e554[_0x5c2287(0x255)](_0x5c2287(0x249))[_0x5c2287(0x156)](_0x3a500b=>{const _0x5c8e91=_0x5c2287;if(!_0x3a500b||isNewDay(_0x3a500b['lastReset']))return{'dailyCount':0x1,'lastReset':new Date()[_0x5c8e91(0x18e)]()};return{'dailyCount':_0x3a500b[_0x5c8e91(0x189)]+0x1,'lastReset':_0x3a500b[_0x5c8e91(0x294)]};});}async function canGenerateImage(){const _0x3e9220=_0x2eb720,_0xcc869f=await getImageGenerationCount(currentUser[_0x3e9220(0x1e9)]),_0x5f2175=hasValidSubscription(),_0x43bf63=currentUser['paidCredits']>=0x5||currentUser[_0x3e9220(0x1f4)]>=0x5;if(_0x5f2175&&_0xcc869f<0x5)return{'canGenerate':!![],'useFreeGeneration':!![],'message':'Il\x20vous\x20reste\x20'+(0x5-_0xcc869f)+'\x20générations\x20gratuites\x20aujourd\x27hui.'};if(_0x43bf63)return{'canGenerate':!![],'useFreeGeneration':![],'message':_0x3e9220(0x330)};return{'canGenerate':![],'useFreeGeneration':![],'message':'Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20pour\x20générer\x20une\x20image.'};}function confirmCreditUsage(_0x550926){return new Promise(_0x429c39=>{const _0x27e8e8=_0x4f43,_0x484c7b=document[_0x27e8e8(0x25a)](_0x27e8e8(0x1d2));_0x484c7b['className']=_0x27e8e8(0x30b),_0x484c7b[_0x27e8e8(0x130)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x550926+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22this.closest(\x27.notification\x27).setAttribute(\x27data-response\x27,\x20\x27true\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Utiliser\x20mes\x20crédits\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22this.closest(\x27.notification\x27).setAttribute(\x27data-response\x27,\x20\x27false\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Annuler\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x27e8e8(0x1af)][_0x27e8e8(0x359)](_0x484c7b),setTimeout(()=>_0x484c7b['classList']['add'](_0x27e8e8(0x1d1)),0x64);function _0xffb037(_0x5d2166){const _0x2b5782=_0x27e8e8,_0x38137a=_0x5d2166[_0x2b5782(0x1e8)][_0x2b5782(0x322)](_0x2b5782(0x1b3))[_0x2b5782(0x11f)](_0x2b5782(0x33f));_0x484c7b[_0x2b5782(0x187)]['remove'](_0x2b5782(0x1d1)),setTimeout(()=>{const _0x1173f4=_0x2b5782;_0x484c7b[_0x1173f4(0x1e3)](),_0x429c39(_0x38137a==='true');},0x12c);}_0x484c7b[_0x27e8e8(0x1bb)](_0x27e8e8(0x22f))[_0x27e8e8(0x248)](_0x3bcfae=>{const _0x30e81d=_0x27e8e8;_0x3bcfae[_0x30e81d(0x1b0)](_0x30e81d(0x266),_0xffb037);});});}function parseMarkdownTable(_0x3aac00){const _0x51388=_0x2eb720,_0x4d243b=_0x3aac00['trim']()[_0x51388(0x17c)]('\x0a');if(_0x4d243b[_0x51388(0x139)]<0x3)return null;const _0x334795=_0x4d243b[_0x51388(0x122)](_0x4056d7=>_0x4056d7[_0x51388(0x326)]()[_0x51388(0x204)]('|')&&_0x4056d7['trim']()[_0x51388(0x2eb)]('|'));if(!_0x334795)return null;const _0x410df7=_0x4d243b[_0x51388(0x23a)](_0x188474=>{const _0x1a2314=_0x51388,_0x3762ad=_0x188474['trim']()[_0x1a2314(0x1f6)](0x1,-0x1)[_0x1a2314(0x17c)]('|')[_0x1a2314(0x23a)](_0x13c246=>_0x13c246['trim']());return _0x3762ad;}),_0x2593df=_0x410df7[0x0],_0x230fc7=_0x410df7[_0x51388(0x1f6)](0x2);let _0x36495e=_0x51388(0x346);return _0x2593df['forEach'](_0x2e69ae=>{const _0x17f6b6=_0x51388;_0x36495e+=_0x17f6b6(0x1a8)+_0x2e69ae+_0x17f6b6(0x2dc);}),_0x36495e+='</tr></thead><tbody>',_0x230fc7['forEach'](_0x9271d9=>{const _0xc56e20=_0x51388;_0x36495e+='<tr>',_0x9271d9[_0xc56e20(0x248)](_0x3f3cac=>{const _0x5d2f0d=_0xc56e20;_0x36495e+=_0x5d2f0d(0x2a6)+_0x3f3cac+_0x5d2f0d(0x288);}),_0x36495e+=_0xc56e20(0x1de);}),_0x36495e+=_0x51388(0x281),_0x36495e+=_0x51388(0x2b9),_0x36495e;}function processMessageContent(_0x40633b){const _0x37abd9=/\|[\s\S]+?\n[-|\s]+\n[\s\S]+?\n(?=\n|$)/g;return _0x40633b['replace'](_0x37abd9,_0x4dae12=>{const _0x129727=parseMarkdownTable(_0x4dae12);return _0x129727||_0x4dae12;});}function addMessageToChat(_0x26e79b,_0x2bc704,_0x43b76f=[],_0x3278a0=[],_0x287519=null){const _0x4d9e9e=_0x2eb720,_0x2e7ced=document[_0x4d9e9e(0x1a9)]('messageContainer'),_0x28b1f1=document[_0x4d9e9e(0x25a)]('div');_0x28b1f1['classList']['add'](_0x4d9e9e(0x2ce),_0x26e79b==='user'?'user-message':_0x4d9e9e(0x2ee));if(_0x26e79b==='ai'){let _0x2724fc=_0x2bc704;_0x2724fc=_0x2724fc[_0x4d9e9e(0x348)](/^\*\*/gm,'\x0a'),_0x2724fc=_0x2724fc[_0x4d9e9e(0x348)](/\*\*/g,''),_0x2724fc=formatMarkdownTable(_0x2724fc);const _0x25f503=document[_0x4d9e9e(0x25a)](_0x4d9e9e(0x1d2));_0x25f503[_0x4d9e9e(0x130)]=_0x2724fc,_0x28b1f1['appendChild'](_0x25f503);const _0x135f62=document[_0x4d9e9e(0x25a)](_0x4d9e9e(0x1d2));_0x135f62['classList'][_0x4d9e9e(0x170)](_0x4d9e9e(0x2df)),_0x135f62[_0x4d9e9e(0x130)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyResponse(this.parentNode.parentNode)\x22\x20title=\x22Copier\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22exportResponse(this.parentNode.parentNode,\x20\x27pdf\x27)\x22\x20title=\x22Exporter\x20en\x20PDF\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22shareResponse(this.parentNode.parentNode)\x22\x20title=\x22Partager\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-share-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22pinResponse(this.parentNode.parentNode)\x22\x20title=\x22Épingler\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-thumbtack\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resubmitRequest(this.parentNode.parentNode)\x22\x20title=\x22Relancer\x20la\x20demande\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x28b1f1[_0x4d9e9e(0x359)](_0x135f62),currentConversation[_0x4d9e9e(0x1c7)]({'sender':'ai','content':_0x2bc704});}else{_0x43b76f[_0x4d9e9e(0x139)]>0x0&&_0x28b1f1['appendChild'](createPinnedFilesElement(_0x43b76f));_0x3278a0[_0x4d9e9e(0x139)]>0x0&&_0x28b1f1['appendChild'](createPinnedResponsesElement(_0x3278a0));_0x287519&&_0x28b1f1[_0x4d9e9e(0x359)](createPinnedPromptElement(_0x287519));const _0x15386c=document['createElement']('p');_0x15386c[_0x4d9e9e(0x125)]=_0x2bc704,_0x28b1f1[_0x4d9e9e(0x359)](_0x15386c);const _0x2467b6=document[_0x4d9e9e(0x25a)]('div');_0x2467b6['classList']['add'](_0x4d9e9e(0x2df)),_0x2467b6['innerHTML']=_0x4d9e9e(0x1f0),_0x28b1f1['appendChild'](_0x2467b6),currentConversation['push']({'sender':'user','content':_0x2bc704,'files':_0x43b76f,'responses':_0x3278a0,'prompt':_0x287519});}return _0x2e7ced[_0x4d9e9e(0x359)](_0x28b1f1),_0x2e7ced[_0x4d9e9e(0x354)]=_0x2e7ced[_0x4d9e9e(0x2b3)],_0x28b1f1;}async function resubmitRequest(_0x5a7aa9){const _0x3665fd=_0x2eb720,_0x3956a4=document['getElementById']('modelSelect')[_0x3665fd(0x1d9)];if(!hasValidSubscription()&&!currentUser['paidCredits']&&(_0x3956a4!==_0x3665fd(0x2c4)&&_0x3956a4!=='gemini-1.0-pro'||!currentUser[_0x3665fd(0x1f4)])){showPaymentNotification(_0x3665fd(0x2f3));return;}try{const _0x262681=document[_0x3665fd(0x1bb)](_0x3665fd(0x1e2));let _0x3332bc=null,_0x53767a='';for(let _0x43247e=Array[_0x3665fd(0x26a)](_0x262681)[_0x3665fd(0x260)](_0x5a7aa9)-0x1;_0x43247e>=0x0;_0x43247e--){if(_0x262681[_0x43247e][_0x3665fd(0x187)][_0x3665fd(0x1fe)](_0x3665fd(0x1d0))){_0x3332bc=_0x262681[_0x43247e];const _0xf29d26=_0x3332bc[_0x3665fd(0x276)]('.prompt-title'),_0x4a2a4a=_0x3332bc[_0x3665fd(0x276)](_0x3665fd(0x1f1));if(_0xf29d26)_0x53767a=_0xf29d26['textContent'];else _0x4a2a4a&&(_0x53767a=_0x4a2a4a[_0x3665fd(0x125)]);break;}}if(!_0x3332bc)throw new Error(_0x3665fd(0x2d8));const _0x9fac7b=document[_0x3665fd(0x25a)](_0x3665fd(0x1d2));_0x9fac7b['className']=_0x3665fd(0x155),_0x9fac7b['innerHTML']=_0x3665fd(0x274)+createModelHeader(_0x3956a4)+_0x3665fd(0x18f),_0x5a7aa9['replaceWith'](_0x9fac7b);const _0x1a7b7d=Array[_0x3665fd(0x26a)](_0x3332bc['querySelectorAll'](_0x3665fd(0x150)))['map'](_0x13de8a=>({'name':_0x13de8a[_0x3665fd(0x276)](_0x3665fd(0x2da))['textContent'],'type':_0x13de8a['dataset'][_0x3665fd(0x27d)]})),_0x5d4080=[{'text':_0x53767a}];if(_0x1a7b7d[_0x3665fd(0x139)]>0x0)for(const _0x5b4a56 of _0x1a7b7d){_0x5d4080[_0x3665fd(0x1c7)]({'text':'[Fichier\x20joint:\x20'+_0x5b4a56[_0x3665fd(0x1b7)]+']'});}const _0x58217e=await model[_0x3665fd(0x20a)](_0x5d4080),_0x3dbb52=await _0x58217e['response'],_0x48ed1e=_0x3dbb52['text']();await animateText(_0x9fac7b,_0x48ed1e),currentConversation[_0x3665fd(0x1c7)]({'sender':'ai','content':_0x48ed1e}),saveConversation(),await updateCredits(_0x3956a4,0x1),showNotification(_0x3665fd(0x21a),'success');}catch(_0x11da64){console[_0x3665fd(0x350)]('Erreur\x20lors\x20de\x20la\x20relance:',_0x11da64),showNotification(_0x3665fd(0x24c),_0x3665fd(0x350)),loadingMessage&&_0x5a7aa9&&loadingMessage['replaceWith'](_0x5a7aa9);}}function createLoadingMessage(){const _0xd06b57=_0x2eb720,_0x16f18d=document[_0xd06b57(0x25a)](_0xd06b57(0x1d2));return _0x16f18d[_0xd06b57(0x1a7)]='message\x20ai-message',_0x16f18d['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-indicator\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0xd06b57(0x1a9)]('messageContainer')[_0xd06b57(0x359)](_0x16f18d),_0x16f18d;}function initializeScrollListener(){const _0xb282d5=_0x2eb720,_0x17e019=document[_0xb282d5(0x1a9)](_0xb282d5(0x243));_0x17e019[_0xb282d5(0x1b0)](_0xb282d5(0x26b),function(){const _0x57c19e=_0xb282d5;clearTimeout(scrollTimeout),_0x17e019[_0x57c19e(0x354)]<lastScrollTop&&(userScrolling=!![]),lastScrollTop=_0x17e019[_0x57c19e(0x354)],scrollTimeout=setTimeout(()=>{const _0x72037c=_0x57c19e,_0x1cab88=_0x17e019[_0x72037c(0x2b3)]-_0x17e019['scrollTop']-_0x17e019[_0x72037c(0x2a7)]<0x64;_0x1cab88&&(userScrolling=![]);},0x3e8);});}function shouldAutoScroll(){const _0x2abb18=_0x2eb720;if(userScrolling)return![];const _0x32bc90=document[_0x2abb18(0x1a9)](_0x2abb18(0x243)),_0x32eb0c=_0x32bc90['scrollHeight']-_0x32bc90[_0x2abb18(0x354)]-_0x32bc90['clientHeight']<0x64;return _0x32eb0c;}async function animateText(_0x30d831,_0x3e51a2){const _0x322f8e=_0x2eb720,_0x4f3f2d=document[_0x322f8e(0x25a)](_0x322f8e(0x1d2));_0x30d831['innerHTML']='',_0x30d831['appendChild'](_0x4f3f2d);const _0x31ff27=document[_0x322f8e(0x25a)](_0x322f8e(0x1d2));_0x31ff27[_0x322f8e(0x1a7)]='message-actions',_0x31ff27[_0x322f8e(0x130)]=_0x322f8e(0x1aa);let _0x33f168='';const _0x3ef267=0xa;function _0x1e14bc(_0x3d939c,_0x27aa69){const _0x577ea7=_0x322f8e;return _0x3d939c[_0x577ea7(0x1f6)](_0x27aa69)[_0x577ea7(0x204)]('\x0a|')||_0x3d939c[_0x577ea7(0x1f6)](_0x27aa69)[_0x577ea7(0x204)]('|');}function _0x1711a1(_0x52feb6,_0x33e144){const _0x5735e7=_0x322f8e,_0x906a6d=_0x52feb6[_0x5735e7(0x1f6)](_0x33e144)['split']('\x0a');let _0xa4b8bd=[],_0x3428f5=0x0;while(_0x3428f5<_0x906a6d['length']&&_0x906a6d[_0x3428f5][_0x5735e7(0x326)]()['startsWith']('|')){_0xa4b8bd['push'](_0x906a6d[_0x3428f5]),_0x3428f5++;}return _0xa4b8bd[_0x5735e7(0x193)]('\x0a');}const _0xd09270=document['getElementById'](_0x322f8e(0x243));for(let _0xfc14a3=0x0;_0xfc14a3<_0x3e51a2[_0x322f8e(0x139)];_0xfc14a3++){if(_0x1e14bc(_0x3e51a2,_0xfc14a3)){const _0x15e8cc=_0x1711a1(_0x3e51a2,_0xfc14a3);if(_0x15e8cc){_0x33f168+=_0x15e8cc,_0x4f3f2d[_0x322f8e(0x130)]=formatMarkdownTable(_0x33f168),_0xfc14a3+=_0x15e8cc[_0x322f8e(0x139)]-0x1;continue;}}_0x33f168+=_0x3e51a2[_0xfc14a3],_0x4f3f2d[_0x322f8e(0x130)]=formatMarkdownTable(_0x33f168),shouldAutoScroll()&&(_0xd09270[_0x322f8e(0x354)]=_0xd09270[_0x322f8e(0x2b3)]),await new Promise(_0x412d83=>setTimeout(_0x412d83,_0x3ef267));}_0x30d831['appendChild'](_0x31ff27);}function resetScrollState(){userScrolling=![],lastScrollTop=0x0;}function formatMarkdownTable(_0x354297){const _0x39575c=/\|(.+)\|\n\|(?:[-:|]+\|)+\n(\|(?:.+\|)+\n?)+/g;return _0x354297['replace'](_0x39575c,function(_0x533e55){const _0x1cc77d=_0x4f43,_0x103d05=_0x533e55[_0x1cc77d(0x326)]()['split']('\x0a');if(_0x103d05[_0x1cc77d(0x139)]<0x3)return _0x533e55;let _0x5d8ca4='<div\x20class=\x22table-scroll-container\x22><table>';const _0x258e77=_0x103d05[0x0][_0x1cc77d(0x17c)]('|')[_0x1cc77d(0x1e4)](_0x270abf=>_0x270abf[_0x1cc77d(0x326)]());return _0x5d8ca4+=_0x1cc77d(0x342),_0x258e77[_0x1cc77d(0x248)](_0x557d96=>{const _0xa00241=_0x1cc77d;_0x5d8ca4+=_0xa00241(0x1a8)+_0x557d96[_0xa00241(0x326)]()+_0xa00241(0x2dc);}),_0x5d8ca4+=_0x1cc77d(0x2f8),_0x5d8ca4+=_0x1cc77d(0x13b),_0x103d05[_0x1cc77d(0x1f6)](0x2)[_0x1cc77d(0x248)](_0x17aecf=>{const _0x27b923=_0x1cc77d,_0x128e40=_0x17aecf[_0x27b923(0x17c)]('|')[_0x27b923(0x1e4)](_0x30c0d3=>_0x30c0d3[_0x27b923(0x326)]());_0x128e40[_0x27b923(0x139)]>0x0&&(_0x5d8ca4+=_0x27b923(0x163),_0x128e40[_0x27b923(0x248)](_0x120d65=>{const _0xa4e46f=_0x27b923;_0x5d8ca4+=_0xa4e46f(0x2a6)+_0x120d65[_0xa4e46f(0x326)]()+_0xa4e46f(0x288);}),_0x5d8ca4+=_0x27b923(0x1de));}),_0x5d8ca4+='</tbody></table></div>',_0x5d8ca4;});}function updateUI(){const _0x4853e7=_0x2eb720;currentUser&&(document[_0x4853e7(0x1a9)](_0x4853e7(0x1f4))[_0x4853e7(0x125)]=currentUser['freeCredits'],document['getElementById'](_0x4853e7(0x1dd))[_0x4853e7(0x125)]=currentUser[_0x4853e7(0x1dd)],document['getElementById'](_0x4853e7(0x213))[_0x4853e7(0x125)]=currentUser[_0x4853e7(0x213)]||_0x4853e7(0x33a));}const apiManager=new GeminiApiManager();document[_0x2eb720(0x1b0)](_0x2eb720(0x266),function(_0x1b250d){const _0x3ca465=_0x2eb720,_0x4adc90=document[_0x3ca465(0x276)]('.sidebar'),_0x342918=document[_0x3ca465(0x276)](_0x3ca465(0x242));_0x4adc90[_0x3ca465(0x187)][_0x3ca465(0x1fe)](_0x3ca465(0x175))&&!_0x4adc90[_0x3ca465(0x1fe)](_0x1b250d[_0x3ca465(0x1e8)])&&!_0x342918[_0x3ca465(0x1fe)](_0x1b250d[_0x3ca465(0x1e8)])&&(toggleSidebar(),_0x1b250d[_0x3ca465(0x289)]());}),window[_0x2eb720(0x21d)]=function(_0x2244f7){const _0x5305af=_0x2eb720,_0xc1fe8e=document[_0x5305af(0x276)](_0x5305af(0x141));if(_0xc1fe8e[_0x5305af(0x187)]['contains']('visible'))return toggleSidebar(),_0x2244f7[_0x5305af(0x289)](),history['pushState']({},'',''),![];},document['getElementById']('fileInput')['accept']=_0x2eb720(0x19d),setInterval(updateUI,0x493e0),checkApiStatusRegularly(),window[_0x2eb720(0x1b8)]=showLoginModal,window['showRegisterModal']=showRegisterModal,window[_0x2eb720(0x332)]=login,window[_0x2eb720(0x2ea)]=register,window[_0x2eb720(0x147)]=logout,window[_0x2eb720(0x2b7)]=sendMessage,window[_0x2eb720(0x1ca)]=buySubscription,window[_0x2eb720(0x244)]=buyCredits,window[_0x2eb720(0x273)]=toggleTheme,window[_0x2eb720(0x277)]=toggleSidebar,window[_0x2eb720(0x2f2)]=createNewConversation,window[_0x2eb720(0x2cd)]=handleFileUpload,window[_0x2eb720(0x22a)]=togglePromptList,window['showReferralModal']=showReferralModal,window['generateReferralCode']=generateReferralCode,window[_0x2eb720(0x210)]=copyReferralLink,window['shareOnFacebook']=shareOnFacebook,window[_0x2eb720(0x180)]=shareOnTwitter,window[_0x2eb720(0x22e)]=shareOnLinkedIn,window[_0x2eb720(0x361)]=shareOnWhatsApp,window[_0x2eb720(0x144)]=removePinnedFile;
