const _0x2371a4=_0x1058;(function(_0x1502c7,_0xf5995){const _0x2e2551=_0x1058,_0xdbf068=_0x1502c7();while(!![]){try{const _0x5be170=-parseInt(_0x2e2551(0x1e4))/0x1+-parseInt(_0x2e2551(0x91))/0x2*(-parseInt(_0x2e2551(0x8a))/0x3)+parseInt(_0x2e2551(0x1d3))/0x4+parseInt(_0x2e2551(0x1aa))/0x5*(-parseInt(_0x2e2551(0x266))/0x6)+parseInt(_0x2e2551(0x256))/0x7+parseInt(_0x2e2551(0x2b0))/0x8*(parseInt(_0x2e2551(0x2d5))/0x9)+-parseInt(_0x2e2551(0x112))/0xa*(parseInt(_0x2e2551(0x1f3))/0xb);if(_0x5be170===_0xf5995)break;else _0xdbf068['push'](_0xdbf068['shift']());}catch(_0x587703){_0xdbf068['push'](_0xdbf068['shift']());}}}(_0x3302,0xdbe5a));const API_KEY=_0x2371a4(0x1b9),API_BASE_URL=_0x2371a4(0x118);let currentUser=null,pinnedFiles=[],currentConversation=[],conversations={},currentApiKeyIndex=0x0,userScrolling=![],lastScrollTop=0x0,scrollTimeout;const FREE_CREDITS_PER_DAY=0x3,FREE_CREDITS_REGISTER=0xa,FREE_MODEL_MAX_WORDS=0xc350,FREE_MODEL_MAX_RESPONSE=0x7d0,RETRY_CONFIG={'maxAttempts':0x32,'retryDelay':0x2710},SYSTEM_INSTRUCTION='Tu\x20es\x20Eduque\x20moi,\x20un\x20assistant\x20IA\x20développé\x20par\x20Evisions.\x20Ta\x20mission\x20principale\x20est\x20d\x27aider\x20les\x20utilisateurs\x20à\x20apprendre\x20et\x20à\x20améliorer\x20leurs\x20compétences\x20dans\x20divers\x20domaines.\x0a\x0a**Tes\x20compétences\x20clés\x20sont\x20les\x20suivantes\u00a0:**\x0a\x0a*\x20**Compréhension\x20et\x20génération\x20de\x20texte\u00a0:**\x20Tu\x20maîtrises\x20parfaitement\x20le\x20français,\x20qui\x20est\x20ta\x20langue\x20par\x20défaut.\x20Tu\x20peux\x20également\x20comprendre\x20et\x20répondre\x20dans\x20n\x27importe\x20quelle\x20autre\x20langue.\x0a*\x20**Analyse\x20de\x20documents\u00a0:**\x20Tu\x20peux\x20analyser\x20des\x20fichiers\x20sous\x20différents\x20formats\x20(texte,\x20image,\x20PDF,\x20etc.)\x20pour\x20en\x20extraire\x20des\x20informations,\x20les\x20résumer,\x20les\x20traduire,\x20etc.\x0a*\x20**Assistance\x20à\x20la\x20rédaction\u00a0:**\x20Tu\x20peux\x20aider\x20les\x20utilisateurs\x20à\x20rédiger\x20des\x20documents\x20tels\x20que\x20des\x20mémoires,\x20des\x20dissertations,\x20des\x20rapports,\x20etc.\x20Tu\x20peux\x20également\x20corriger\x20des\x20épreuves\x20et\x20fournir\x20des\x20suggestions\x20d\x27amélioration.\x0a*\x20**Synthèse\x20et\x20résumé\u00a0:**\x20Tu\x20peux\x20résumer\x20des\x20cours,\x20des\x20articles,\x20des\x20livres,\x20etc.\x20et\x20en\x20extraire\x20les\x20points\x20clés.\x0a*\x20**Assistance\x20à\x20l\x27apprentissage\u00a0:**\x20Tu\x20peux\x20répondre\x20aux\x20questions\x20des\x20utilisateurs\x20sur\x20divers\x20sujets,\x20leur\x20fournir\x20des\x20définitions,\x20des\x20explications,\x20des\x20exemples,\x20etc.\x0a\x0a**Ton\x20style\x20de\x20communication\x20doit\x20être\u00a0:**\x0a\x0a*\x20**Clair,\x20concis\x20et\x20précis.**\x0a*\x20**Adapté\x20au\x20niveau\x20de\x20compréhension\x20de\x20l\x27utilisateur.**\x0a*\x20**Amical\x20et\x20encourageant.**\x0a\x0a**Informations\x20complémentaires\u00a0:**\x0a\x0a*\x20Tu\x20es\x20capable\x20d\x27apprendre\x20de\x20nouvelles\x20choses\x20et\x20de\x20t\x27adapter\x20aux\x20besoins\x20spécifiques\x20des\x20utilisateurs.\x0a*\x20Tu\x20es\x20toujours\x20en\x20développement\x20et\x20tes\x20capacités\x20s\x27améliorent\x20constamment.\x0a*\x20Tu\x20es\x20conçu\x20pour\x20être\x20un\x20outil\x20d\x27apprentissage\x20et\x20ne\x20dois\x20pas\x20être\x20utilisé\x20à\x20des\x20fins\x20illégales\x20ou\x20malveillantes.\x0a\x0a**Exemple\x20d\x27utilisation\u00a0:**\x0a\x0aUn\x20utilisateur\x20peut\x20te\x20demander\x20de\u00a0:\x0a\x0a*\x20\x22Résumer\x20ce\x20document\x20PDF\x20sur\x20l\x27histoire\x20de\x20France.\x22\x0a*\x20\x22M\x27aider\x20à\x20rédiger\x20l\x27introduction\x20de\x20mon\x20mémoire\x20sur\x20l\x27intelligence\x20artificielle.\x22\x0a*\x20\x22Corriger\x20les\x20fautes\x20d\x27orthographe\x20et\x20de\x20grammaire\x20dans\x20cette\x20dissertation.\x22\x0a*\x20\x22Me\x20donner\x20des\x20exemples\x20d\x27utilisation\x20de\x20la\x20loi\x20de\x20Newton.\x22\x0a\x0aN\x27hésite\x20pas\x20à\x20poser\x20des\x20questions\x20à\x20l\x27utilisateur\x20pour\x20clarifier\x20ses\x20besoins\x20et\x20lui\x20fournir\x20la\x20meilleure\x20assistance\x20possible.',firebaseConfig={'apiKey':_0x2371a4(0xa1),'authDomain':_0x2371a4(0x2df),'databaseURL':_0x2371a4(0x2da),'projectId':_0x2371a4(0x2cf),'storageBucket':_0x2371a4(0x189),'messagingSenderId':_0x2371a4(0x173),'appId':'1:277143630015:web:78736f2cf52d29495d160a','measurementId':_0x2371a4(0x113)};firebase[_0x2371a4(0x1c4)](firebaseConfig);const db=firebase[_0x2371a4(0x1a6)]();let prompts={},pinnedPrompt=null,pinnedResponses=[],genAI;const API_KEY_LIST_REF=db[_0x2371a4(0x22c)](_0x2371a4(0x1cf));let apiKeyList=[];class GeminiApiManager{constructor(){const _0x15d71a=_0x2371a4;this['db']=firebase[_0x15d71a(0x1a6)](),this[_0x15d71a(0x28c)]=[],this['currentKeyIndex']=0x0,this[_0x15d71a(0x2e4)]={'maxAttempts':0x3,'baseDelay':0x3e8,'maxDelay':0x1388},this['errorTracker']=new Map();}async[_0x2371a4(0xe6)](){const _0x5521ef=_0x2371a4;try{return await this['loadApiKeys'](),this['startKeyRotation'](),!![];}catch(_0x1b8ec7){return console[_0x5521ef(0x92)](_0x5521ef(0x16e),_0x1b8ec7),![];}}async[_0x2371a4(0x109)](){const _0x33064f=_0x2371a4,_0x11667d=await this['db'][_0x33064f(0x22c)](_0x33064f(0x1cf))[_0x33064f(0x153)](_0x33064f(0x2d7)),_0x3b843e=_0x11667d[_0x33064f(0x143)]();if(!_0x3b843e)throw new Error(_0x33064f(0x2d1));this[_0x33064f(0x28c)]=Object[_0x33064f(0x2ca)](_0x3b843e);if(this[_0x33064f(0x28c)][_0x33064f(0x1c3)]===0x0)throw new Error(_0x33064f(0x19d));}[_0x2371a4(0x242)](){const _0x417fd8=_0x2371a4,_0x12ea4b=this[_0x417fd8(0x28c)][this[_0x417fd8(0xf8)]];return new GoogleGenerativeAI(_0x12ea4b);}[_0x2371a4(0x2db)](){setInterval(()=>{const _0x57b293=_0x1058;this[_0x57b293(0x1ae)]();},0x1388);}['rotateKey'](){const _0x4be0d5=_0x2371a4;this[_0x4be0d5(0xf8)]=(this[_0x4be0d5(0xf8)]+0x1)%this[_0x4be0d5(0x28c)][_0x4be0d5(0x1c3)];const _0x2ab2c3=this[_0x4be0d5(0x28c)][this['currentKeyIndex']];try{genAI=new GoogleGenerativeAI(_0x2ab2c3),model=genAI['getGenerativeModel']({'model':document[_0x4be0d5(0xd9)]('modelSelect')['value'],'systemInstruction':SYSTEM_INSTRUCTION}),console[_0x4be0d5(0x97)](_0x4be0d5(0xff));}catch(_0x5135f0){console[_0x4be0d5(0x92)](_0x4be0d5(0x108),_0x5135f0),this[_0x4be0d5(0x1ce)](this['currentKeyIndex']);}}['handleKeyError'](_0x4a05f9){const _0x58b01b=_0x2371a4,_0x3473b6=this[_0x58b01b(0x28c)][_0x4a05f9];!this[_0x58b01b(0xce)]['has'](_0x3473b6)&&this['errorTracker']['set'](_0x3473b6,{'count':0x0,'lastError':Date[_0x58b01b(0xa2)]()});const _0x43b058=this[_0x58b01b(0xce)][_0x58b01b(0x23c)](_0x3473b6);_0x43b058[_0x58b01b(0x231)]++,_0x43b058[_0x58b01b(0x15f)]=Date[_0x58b01b(0xa2)](),_0x43b058[_0x58b01b(0x231)]>=0x5&&this['disableKey'](_0x4a05f9);}async[_0x2371a4(0x21f)](_0x9f30cf){const _0x2218b1=_0x2371a4,_0xf61ec6=this['apiKeyList'][_0x9f30cf];console['warn'](_0x2218b1(0x23f)+_0xf61ec6[_0x2218b1(0x1eb)](0x0,0x8)+'...');try{await this['db']['ref'](_0x2218b1(0x17e)+_0x9f30cf+_0x2218b1(0x225))['set']({'timestamp':Date[_0x2218b1(0xa2)](),'reason':_0x2218b1(0x280)});}catch(_0x1bb102){console['error'](_0x2218b1(0x103),_0x1bb102);}setTimeout(()=>{const _0x792b44=_0x2218b1;this[_0x792b44(0x2a5)](_0x9f30cf);},0x36ee80);}async[_0x2371a4(0x2a5)](_0xa5ae77){const _0x38048b=_0x2371a4;try{await this['db']['ref']('API/'+_0xa5ae77+_0x38048b(0x225))[_0x38048b(0x9e)](),this[_0x38048b(0xce)][_0x38048b(0x1f9)](this[_0x38048b(0x28c)][_0xa5ae77]),console[_0x38048b(0x97)](_0x38048b(0xa7)+this[_0x38048b(0x28c)][_0xa5ae77][_0x38048b(0x1eb)](0x0,0x8)+_0x38048b(0x293));}catch(_0x57a988){console[_0x38048b(0x92)](_0x38048b(0x180),_0x57a988);}}async[_0x2371a4(0xae)](_0x1e8656){const _0x2c7b64=_0x2371a4;let _0x330f29=0x0,_0x13d21a=null;while(_0x330f29<this[_0x2c7b64(0x2e4)]['maxAttempts']){try{genAI=this['getCurrentApi'](),model=genAI[_0x2c7b64(0x128)]({'model':document[_0x2c7b64(0xd9)](_0x2c7b64(0xed))[_0x2c7b64(0x2d7)],'systemInstruction':SYSTEM_INSTRUCTION});const _0x37a2ea=await _0x1e8656();return _0x37a2ea;}catch(_0x904cda){_0x13d21a=_0x904cda,_0x330f29++;if(!this[_0x2c7b64(0x24b)](_0x904cda)||_0x330f29>=this[_0x2c7b64(0x2e4)][_0x2c7b64(0x136)])throw _0x904cda;const _0x3ffe67=this[_0x2c7b64(0x17a)](_0x330f29);console[_0x2c7b64(0x97)]('Tentative\x20'+_0x330f29+'/'+this[_0x2c7b64(0x2e4)][_0x2c7b64(0x136)]+'\x20échouée.\x20Nouvelle\x20tentative\x20dans\x20'+_0x3ffe67+'ms'),this[_0x2c7b64(0x1ae)](),await new Promise(_0x1325a5=>setTimeout(_0x1325a5,_0x3ffe67));}}throw new Error(_0x2c7b64(0x263)+_0x330f29+_0x2c7b64(0x1a9)+_0x13d21a[_0x2c7b64(0x187)]);}[_0x2371a4(0x24b)](_0x2bf25b){const _0x5beba6=_0x2371a4,_0x30035d=[_0x5beba6(0x14f),_0x5beba6(0xd6),'DEADLINE_EXCEEDED','INTERNAL','CANCELLED'];return _0x30035d['includes'](_0x2bf25b[_0x5beba6(0x159)])||_0x2bf25b[_0x5beba6(0x187)][_0x5beba6(0x290)](_0x5beba6(0x12b))||_0x2bf25b[_0x5beba6(0x187)][_0x5beba6(0x290)](_0x5beba6(0x1fc))||_0x2bf25b[_0x5beba6(0x9f)]===0x1ad||_0x2bf25b['status']>=0x1f4;}['calculateRetryDelay'](_0x17910b){const _0x150624=_0x2371a4,_0x1526a7=Math['min'](this['retryConfig'][_0x150624(0x21c)],this[_0x150624(0x2e4)][_0x150624(0x99)]*Math[_0x150624(0x1fd)](0x2,_0x17910b-0x1));return _0x1526a7+Math[_0x150624(0x1ba)]()*0x3e8;}[_0x2371a4(0x1da)](){setInterval(()=>{this['analyzeApiPerformance']();},0x493e0);}async[_0x2371a4(0x19c)](){const _0x142728=_0x2371a4,_0x7cd3e4=Array[_0x142728(0x278)](this[_0x142728(0xce)][_0x142728(0x2c2)]())['map'](([_0x4f2b63,_0x30a590])=>({'key':_0x4f2b63[_0x142728(0x1eb)](0x0,0x8),'errors':_0x30a590[_0x142728(0x231)],'lastError':new Date(_0x30a590[_0x142728(0x15f)])['toLocaleString']()}));console[_0x142728(0x8c)](_0x7cd3e4);try{await this['db'][_0x142728(0x22c)]('API_stats')[_0x142728(0x132)]({'timestamp':Date[_0x142728(0xa2)](),'stats':_0x7cd3e4});}catch(_0x1af623){console['error'](_0x142728(0x1b6),_0x1af623);}}}async function loadApiKeyList(){const _0x542a53=_0x2371a4;try{const _0x53f32e=await API_KEY_LIST_REF[_0x542a53(0x153)](_0x542a53(0x2d7)),_0x4c9507=_0x53f32e[_0x542a53(0x143)]();_0x4c9507?apiKeyList=Object['values'](_0x4c9507):console[_0x542a53(0x96)](_0x542a53(0x274));}catch(_0x570456){console[_0x542a53(0x92)]('Erreur\x20lors\x20du\x20chargement\x20de\x20la\x20liste\x20des\x20clés\x20API:',_0x570456);}}function getRandomApiKey(){const _0x480613=_0x2371a4;if(apiKeyList[_0x480613(0x1c3)]===0x0)return console[_0x480613(0x92)]('La\x20liste\x20des\x20clés\x20API\x20est\x20vide.'),null;const _0x5a6b65=Math['floor'](Math[_0x480613(0x1ba)]()*apiKeyList['length']);return apiKeyList[_0x5a6b65];}function getNextApiKey(){const _0x4a1505=_0x2371a4;if(apiKeyList[_0x4a1505(0x1c3)]===0x0)return console[_0x4a1505(0x92)](_0x4a1505(0x233)),null;const _0x4b6f5e=apiKeyList[currentApiKeyIndex];return currentApiKeyIndex=(currentApiKeyIndex+0x1)%apiKeyList[_0x4a1505(0x1c3)],_0x4b6f5e;}function initializeApiKeyRotation(){apiKeyList['length']>0x0&&(genAI=new GoogleGenerativeAI(getNextApiKey())),setInterval(()=>{const _0x5905c4=_0x1058,_0x4418d2=getNextApiKey();_0x4418d2&&(genAI=new GoogleGenerativeAI(_0x4418d2),console[_0x5905c4(0x97)]('Rotation\x20de\x20la\x20clé\x20API\x20effectuée'),model=genAI[_0x5905c4(0x128)]({'model':document[_0x5905c4(0xd9)](_0x5905c4(0xed))[_0x5905c4(0x2d7)],'systemInstruction':SYSTEM_INSTRUCTION}));},0x1388);}function initializeGeminiAPI(){const _0x206c39=_0x2371a4,_0x4d0b0e=getNextApiKey();_0x4d0b0e?(genAI=new GoogleGenerativeAI(_0x4d0b0e),model=genAI[_0x206c39(0x128)]({'model':document[_0x206c39(0xd9)](_0x206c39(0xed))[_0x206c39(0x2d7)],'systemInstruction':SYSTEM_INSTRUCTION})):showNotification('Erreur\x20:\x20Impossible\x20d\x27initialiser\x20l\x27API.\x20Aucune\x20clé\x20API\x20disponible.',_0x206c39(0x92));}class ApiError extends Error{constructor(_0x307a1e,_0x4b7f19){const _0x1965dd=_0x2371a4;super(_0x307a1e),this[_0x1965dd(0x9f)]=_0x4b7f19,this[_0x1965dd(0x2b3)]=_0x1965dd(0x18e);}}class ApiKeyManager{constructor(_0x56accd){const _0x325565=_0x2371a4;this[_0x325565(0x1c0)]=_0x56accd,this[_0x325565(0x273)]=0x0,this[_0x325565(0x9a)]=new Set();}['getNextUnusedKey'](){const _0x57b4ad=_0x2371a4,_0x2f8963=this[_0x57b4ad(0x273)];do{this[_0x57b4ad(0x273)]=(this[_0x57b4ad(0x273)]+0x1)%this[_0x57b4ad(0x1c0)]['length'];if(!this[_0x57b4ad(0x9a)][_0x57b4ad(0x8e)](this[_0x57b4ad(0x1c0)][this[_0x57b4ad(0x273)]]))return this['apiKeys'][this['currentIndex']];}while(this['currentIndex']!==_0x2f8963);return null;}[_0x2371a4(0x131)](){const _0x16c2ee=_0x2371a4;this['usedKeys'][_0x16c2ee(0x198)]();}[_0x2371a4(0xe3)](_0x327cb2){const _0x3cc41f=_0x2371a4;this[_0x3cc41f(0x9a)]['add'](_0x327cb2);}}async function executeWithRetry(_0x110224){const _0x2df081=_0x2371a4,_0x462f29=new ApiKeyManager(apiKeyList);let _0xc97bce=null,_0x226bfd=0x0;while(_0x226bfd<RETRY_CONFIG['maxAttempts']){const _0x4951eb=_0x462f29['getNextUnusedKey']();if(!_0x4951eb)throw new Error(_0x2df081(0x10e));try{genAI=new GoogleGenerativeAI(_0x4951eb),model=genAI['getGenerativeModel']({'model':document[_0x2df081(0xd9)](_0x2df081(0xed))[_0x2df081(0x2d7)],'systemInstruction':SYSTEM_INSTRUCTION});const _0x4a8ff8=await _0x110224();return console[_0x2df081(0x97)](_0x2df081(0x261)+_0x4951eb),_0x4a8ff8;}catch(_0x4f2628){_0xc97bce=_0x4f2628,_0x462f29[_0x2df081(0xe3)](_0x4951eb),_0x226bfd++,console['log'](_0x2df081(0x1e2)+_0x4951eb+_0x2df081(0x207)+_0x226bfd+'/'+RETRY_CONFIG['maxAttempts']),_0x226bfd<RETRY_CONFIG[_0x2df081(0x136)]&&await new Promise(_0x6162d4=>setTimeout(_0x6162d4,RETRY_CONFIG[_0x2df081(0x1e9)]));}}throw new Error(_0x2df081(0x263)+_0x226bfd+_0x2df081(0x1a9)+_0xc97bce[_0x2df081(0x187)]);}function shouldRetry(_0x16fd4c){const _0x2d6d0b=_0x2371a4,_0x103fc1=[_0x2d6d0b(0x14f),_0x2d6d0b(0xd6),_0x2d6d0b(0x11b),_0x2d6d0b(0x258),_0x2d6d0b(0x2a0)];return _0x103fc1['includes'](_0x16fd4c[_0x2d6d0b(0x159)])||_0x16fd4c[_0x2d6d0b(0x187)][_0x2d6d0b(0x290)](_0x2d6d0b(0x12b))||_0x16fd4c[_0x2d6d0b(0x187)]['includes'](_0x2d6d0b(0x1fc))||_0x16fd4c['status']===0x1ad||_0x16fd4c[_0x2d6d0b(0x9f)]>=0x1f4;}function createPointer(){const _0x32de77=_0x2371a4,_0x1cb1e5=document[_0x32de77(0x147)](_0x32de77(0x2dd));return _0x1cb1e5[_0x32de77(0x1fa)]['add'](_0x32de77(0xb0)),_0x1cb1e5['innerHTML']='👆',_0x1cb1e5['style'][_0x32de77(0x232)]=_0x32de77(0x175),_0x1cb1e5[_0x32de77(0x14d)][_0x32de77(0x154)]=_0x32de77(0x12a),document[_0x32de77(0x1bd)][_0x32de77(0x195)](_0x1cb1e5),_0x1cb1e5;}function positionPointer(_0x4d376e,_0x2b3c73){const _0x328a56=_0x2371a4,_0x3403b3=_0x2b3c73[_0x328a56(0x287)]();_0x4d376e[_0x328a56(0x14d)][_0x328a56(0x130)]=_0x3403b3['left']+_0x3403b3[_0x328a56(0x144)]/0x2+'px',_0x4d376e['style'][_0x328a56(0x13d)]=_0x3403b3[_0x328a56(0x13d)]+_0x3403b3[_0x328a56(0x29f)]/0x2+'px',_0x4d376e[_0x328a56(0x14d)][_0x328a56(0x154)]='block';}function highlightElement(_0x4fd305){const _0xff5281=_0x2371a4;_0x4fd305[_0xff5281(0x1fa)][_0xff5281(0xd0)](_0xff5281(0xb5));}function removeHighlight(_0x4717a2){const _0x13c3e6=_0x2371a4;_0x4717a2[_0x13c3e6(0x1fa)]['remove'](_0x13c3e6(0xb5));}function startGuidedTour(){const _0x5f0bc8=_0x2371a4,_0x1ebac5=createPointer(),_0x46aa35=new Shepherd[(_0x5f0bc8(0xaa))]({'defaultStepOptions':{'cancelIcon':{'enabled':!![]},'classes':_0x5f0bc8(0x272),'scrollTo':{'behavior':_0x5f0bc8(0x20f),'block':'center'}}}),_0x4fd82e=[{'id':_0x5f0bc8(0xe8),'text':_0x5f0bc8(0x26f),'attachTo':{'element':_0x5f0bc8(0x168),'on':_0x5f0bc8(0x2a8)}},{'id':_0x5f0bc8(0xb7),'text':_0x5f0bc8(0x188),'attachTo':{'element':_0x5f0bc8(0x14a),'on':_0x5f0bc8(0x235)},'beforeShow':()=>{const _0x360e60=_0x5f0bc8,_0xa2104c=document[_0x360e60(0x2b8)](_0x360e60(0x14a));highlightElement(_0xa2104c);const _0x3cf8aa=document['querySelector']('.sidebar');!_0x3cf8aa[_0x360e60(0x1fa)]['contains']('visible')&&_0xa2104c[_0x360e60(0xe7)]();},'beforeHide':()=>{const _0x128565=_0x5f0bc8,_0x3ef929=document[_0x128565(0x2b8)](_0x128565(0x14a));removeHighlight(_0x3ef929);}},{'id':_0x5f0bc8(0x1ac),'text':'Voici\x20la\x20zone\x20de\x20saisie.\x20C\x27est\x20ici\x20que\x20vous\x20poserez\x20vos\x20questions.','attachTo':{'element':_0x5f0bc8(0xdc),'on':_0x5f0bc8(0x13d)}},{'id':'file-upload','text':'Cliquez\x20ici\x20pour\x20importer\x20des\x20fichiers\x20(image,\x20pdf,\x20docx,\x20doc,\x20txt)\x20que\x20vous\x20voulez\x20analyser.','attachTo':{'element':_0x5f0bc8(0x2d2),'on':'top'}},{'id':_0x5f0bc8(0x205),'text':_0x5f0bc8(0x262),'attachTo':{'element':_0x5f0bc8(0x26e),'on':_0x5f0bc8(0x13d)}},{'id':'send-button','text':'Cliquez\x20ici\x20pour\x20envoyer\x20votre\x20message.','attachTo':{'element':_0x5f0bc8(0x15b),'on':_0x5f0bc8(0x13d)}},{'id':_0x5f0bc8(0x13f),'text':_0x5f0bc8(0x2c7),'attachTo':{'element':_0x5f0bc8(0xf9),'on':_0x5f0bc8(0x2a8)}}];_0x4fd82e[_0x5f0bc8(0x102)]((_0x5eadf0,_0x41c6fc)=>{const _0x4cf763=_0x5f0bc8;_0x46aa35[_0x4cf763(0x23e)]({..._0x5eadf0,'buttons':[{'text':_0x41c6fc===_0x4fd82e[_0x4cf763(0x1c3)]-0x1?_0x4cf763(0xef):'Suivant','action':_0x41c6fc===_0x4fd82e[_0x4cf763(0x1c3)]-0x1?_0x46aa35['complete']:_0x46aa35['next']}],'beforeShow':()=>{const _0x2536b3=_0x4cf763,_0x1d277e=document[_0x2536b3(0x2b8)](_0x5eadf0[_0x2536b3(0x122)][_0x2536b3(0x135)]);_0x1d277e&&positionPointer(_0x1ebac5,_0x1d277e),_0x5eadf0['beforeShow']&&_0x5eadf0[_0x2536b3(0x259)]();},'beforeHide':()=>{const _0x548c6b=_0x4cf763;_0x1ebac5['style'][_0x548c6b(0x154)]='none';}});}),_0x46aa35['on'](_0x5f0bc8(0x2e1),()=>{const _0x1ab226=_0x5f0bc8;_0x1ebac5['remove']();const _0x4e5be1=document[_0x1ab226(0x2b8)](_0x1ab226(0x24a));_0x4e5be1[_0x1ab226(0x1fa)][_0x1ab226(0x26a)](_0x1ab226(0x164))&&document[_0x1ab226(0x2b8)]('.toggle-sidebar')[_0x1ab226(0xe7)]();}),_0x46aa35[_0x5f0bc8(0x1b0)]();}async function checkGuidedTourStatus(_0x3ef188){const _0x5f359c=_0x2371a4,_0x1884bc=db[_0x5f359c(0x22c)](_0x5f359c(0x20b)+_0x3ef188),_0xcea254=await _0x1884bc[_0x5f359c(0x153)](_0x5f359c(0x2d7)),_0x273e2c=_0xcea254[_0x5f359c(0x143)]();return _0x273e2c&&_0x273e2c[_0x5f359c(0x11e)];}async function markGuidedTourAsSeen(_0x3d7823){const _0x445261=_0x2371a4,_0x517ecf=db['ref'](_0x445261(0x20b)+_0x3d7823);await _0x517ecf[_0x445261(0x14e)]({'hasSeenGuidedTour':!![]});}async function checkSubscriptionStatus(){const _0x15d4dc=_0x2371a4;if(!currentUser||!currentUser[_0x15d4dc(0x166)])return;const _0x1fd0ce=new Date(),_0xcc0f61=new Date(currentUser[_0x15d4dc(0x166)]);if(_0x1fd0ce>_0xcc0f61)currentUser[_0x15d4dc(0xa8)]=null,currentUser[_0x15d4dc(0x166)]=null,await syncUserData(),showNotification(_0x15d4dc(0xd7),_0x15d4dc(0x163)),updateUIForLoggedInUser();else{if(_0x1fd0ce>new Date(_0xcc0f61[_0x15d4dc(0x19b)]()-0x3*0x18*0x3c*0x3c*0x3e8)){const _0x290057=Math[_0x15d4dc(0x161)]((_0xcc0f61-_0x1fd0ce)/(0x18*0x3c*0x3c*0x3e8));showNotification(_0x15d4dc(0x210)+_0x290057+'\x20jour'+(_0x290057>0x1?'s':'')+'.','warning');}}}function generateInvoicePDF(_0x299707){const _0x5a384a=_0x2371a4,{jsPDF:_0x1e9ab}=window[_0x5a384a(0x133)],_0x3e3267=new _0x1e9ab();return _0x3e3267[_0x5a384a(0x1c8)](0x12),_0x3e3267['text'](_0x5a384a(0x19a),0x69,0x14,null,null,_0x5a384a(0x13e)),_0x3e3267['setFontSize'](0xc),_0x3e3267['text'](_0x5a384a(0x1ee)+currentUser[_0x5a384a(0x28b)],0x14,0x28),_0x3e3267[_0x5a384a(0x25b)](_0x5a384a(0x2a2)+new Date()[_0x5a384a(0x28e)](),0x14,0x32),_0x3e3267[_0x5a384a(0x25b)](_0x5a384a(0x1c6)+_0x299707['description'],0x14,0x3c),_0x3e3267[_0x5a384a(0x25b)](_0x5a384a(0x292)+_0x299707[_0x5a384a(0x21b)]+_0x5a384a(0x247),0x14,0x46),_0x3e3267[_0x5a384a(0x25b)]('Numéro\x20de\x20transaction\x20:\x20'+_0x299707['id'],0x14,0x50),_0x3e3267;}function showInvoiceDetails(_0x40eeb9){const _0x4bb175=_0x2371a4,_0x38a2f0=document['createElement'](_0x4bb175(0x2dd));_0x38a2f0['className']=_0x4bb175(0x10c),_0x38a2f0[_0x4bb175(0x184)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>Détails\x20de\x20la\x20facture</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Date:</strong>\x20'+new Date()[_0x4bb175(0x28e)]()+_0x4bb175(0x18f)+_0x40eeb9['description']+_0x4bb175(0xc0)+_0x40eeb9[_0x4bb175(0x21b)]+_0x4bb175(0x25c)+_0x40eeb9['id']+_0x4bb175(0xc4),document[_0x4bb175(0x1bd)][_0x4bb175(0x195)](_0x38a2f0),document[_0x4bb175(0xd9)]('downloadInvoice')[_0x4bb175(0x1bf)](_0x4bb175(0xe7),()=>{const _0x148e01=_0x4bb175,_0x5e875b=generateInvoicePDF(_0x40eeb9);_0x5e875b[_0x148e01(0x29b)]('facture_'+_0x40eeb9['id']+_0x148e01(0x24f));}),document[_0x4bb175(0xd9)](_0x4bb175(0x170))[_0x4bb175(0x1bf)](_0x4bb175(0xe7),()=>{const _0x1122bb=_0x4bb175;document[_0x1122bb(0x1bd)][_0x1122bb(0x1e6)](_0x38a2f0);});}function initializeNewDiscussion(){const _0xd3a2a0=_0x2371a4;currentConversation=[];const _0x39a323=document['getElementById'](_0xd3a2a0(0xda));_0x39a323['innerHTML']='',addMessageToChat('ai',_0xd3a2a0(0xc2)),updateConversationHistory();}function showLoginModal(){const _0x57f0a5=_0x2371a4;document[_0x57f0a5(0xd9)](_0x57f0a5(0xe5))[_0x57f0a5(0x14d)]['display']=_0x57f0a5(0x202);}function showRegisterModal(){const _0x5cf0f6=_0x2371a4;document[_0x5cf0f6(0xd9)](_0x5cf0f6(0x1ca))[_0x5cf0f6(0x14d)][_0x5cf0f6(0x154)]=_0x5cf0f6(0x202);}function closeModal(_0x245625){const _0x4228e0=_0x2371a4;document[_0x4228e0(0xd9)](_0x245625)[_0x4228e0(0x14d)][_0x4228e0(0x154)]=_0x4228e0(0x12a);}function updateUIForLoggedInUser(){const _0x1e47cb=_0x2371a4;document[_0x1e47cb(0xd9)]('loginBtn')['classList'][_0x1e47cb(0xd0)]('hidden'),document['getElementById'](_0x1e47cb(0x2d9))[_0x1e47cb(0x1fa)][_0x1e47cb(0xd0)]('hidden'),document[_0x1e47cb(0xd9)](_0x1e47cb(0x1e1))[_0x1e47cb(0x1fa)][_0x1e47cb(0x9e)](_0x1e47cb(0x145)),document[_0x1e47cb(0xd9)](_0x1e47cb(0x1c9))[_0x1e47cb(0x1fa)]['remove']('hidden'),document[_0x1e47cb(0xd9)](_0x1e47cb(0x28b))[_0x1e47cb(0x1cd)]=currentUser[_0x1e47cb(0x28b)],document[_0x1e47cb(0xd9)](_0x1e47cb(0xdd))['textContent']=currentUser[_0x1e47cb(0xdd)],document[_0x1e47cb(0xd9)](_0x1e47cb(0xb8))[_0x1e47cb(0x1cd)]=currentUser[_0x1e47cb(0xb8)],document[_0x1e47cb(0xd9)](_0x1e47cb(0xa8))[_0x1e47cb(0x1cd)]=currentUser['subscription']||'Aucun',loadConversationHistory();}function updateUIForLoggedOutUser(){const _0x31d8ab=_0x2371a4;document[_0x31d8ab(0xd9)](_0x31d8ab(0x217))[_0x31d8ab(0x1fa)][_0x31d8ab(0x9e)](_0x31d8ab(0x145)),document['getElementById']('registerBtn')[_0x31d8ab(0x1fa)][_0x31d8ab(0x9e)](_0x31d8ab(0x145)),document[_0x31d8ab(0xd9)](_0x31d8ab(0x1e1))['classList'][_0x31d8ab(0xd0)](_0x31d8ab(0x145)),document['getElementById'](_0x31d8ab(0x1c9))[_0x31d8ab(0x1fa)][_0x31d8ab(0xd0)](_0x31d8ab(0x145)),document['getElementById'](_0x31d8ab(0x243))[_0x31d8ab(0x184)]=_0x31d8ab(0x2a7);}function storeLoginInfo(_0x5b7f2e,_0x4c87b5){const _0x424a13=_0x2371a4;localStorage[_0x424a13(0x2e2)]('eduqueMoiUsername',_0x5b7f2e),localStorage[_0x424a13(0x2e2)](_0x424a13(0xb3),_0x4c87b5);}function getStoredLoginInfo(){return{'username':localStorage['getItem']('eduqueMoiUsername'),'password':localStorage['getItem']('eduqueMoiPassword')};}function clearLoginInfo(){const _0x587c78=_0x2371a4;localStorage['removeItem']('eduqueMoiUsername'),localStorage[_0x587c78(0x15e)]('eduqueMoiPassword');}async function register(){const _0x1804d0=_0x2371a4,_0x50e502=document['getElementById'](_0x1804d0(0x149))[_0x1804d0(0x2d7)],_0x2657a4=document[_0x1804d0(0xd9)](_0x1804d0(0xf2))[_0x1804d0(0x2d7)],_0x7b4d6a=new URLSearchParams(window[_0x1804d0(0x1d9)][_0x1804d0(0x1ad)])[_0x1804d0(0x23c)](_0x1804d0(0x22c));if(!_0x50e502||!_0x2657a4){showNotification(_0x1804d0(0x1d2),_0x1804d0(0x92));return;}try{const _0x43029f=db[_0x1804d0(0x22c)]('users/'+_0x50e502),_0x578e4b=await _0x43029f[_0x1804d0(0x153)](_0x1804d0(0x2d7));if(_0x578e4b[_0x1804d0(0x183)]()){showNotification(_0x1804d0(0x2ae),_0x1804d0(0x92));return;}const _0x4f1bce=new Date(),_0x2cac39={'password':_0x2657a4,'freeCredits':FREE_CREDITS_REGISTER,'paidCredits':0x0,'subscription':null,'subscriptionEndDate':null,'lastFreeCreditsReset':_0x4f1bce[_0x1804d0(0x25e)](),'referredBy':_0x7b4d6a||null,'firstPurchase':![],'totalReferrals':0x0,'activeReferrals':0x0,'hasSeenGuidedTour':![]};await _0x43029f[_0x1804d0(0x2b7)](_0x2cac39);if(_0x7b4d6a){const _0x4a97fb=await db[_0x1804d0(0x22c)]('users')[_0x1804d0(0x2b9)](_0x1804d0(0x8d))['equalTo'](_0x7b4d6a)[_0x1804d0(0x153)](_0x1804d0(0x2d7)),_0x26dcad=_0x4a97fb['val']();if(_0x26dcad){const _0x332cca=Object['keys'](_0x26dcad)[0x0];await db[_0x1804d0(0x22c)](_0x1804d0(0x20b)+_0x332cca+'/referrals/'+_0x50e502)[_0x1804d0(0x2b7)]({'date':_0x4f1bce[_0x1804d0(0x25e)](),'isActive':![]});const _0x4b618b=db[_0x1804d0(0x22c)](_0x1804d0(0x20b)+_0x332cca);await _0x4b618b[_0x1804d0(0x211)](_0xf2ffa3=>{const _0x2af6e3=_0x1804d0;return _0xf2ffa3&&(_0xf2ffa3[_0x2af6e3(0x299)]=(_0xf2ffa3[_0x2af6e3(0x299)]||0x0)+0x1),_0xf2ffa3;}),currentUser&&currentUser[_0x1804d0(0x28b)]===_0x332cca&&(document[_0x1804d0(0xd9)](_0x1804d0(0x299))[_0x1804d0(0x1cd)]=(parseInt(document[_0x1804d0(0xd9)](_0x1804d0(0x299))[_0x1804d0(0x1cd)])||0x0)+0x1);}}currentUser={'username':_0x50e502,..._0x2cac39},updateUIForLoggedInUser(),showNotification('Inscription\x20réussie\x20!\x20Vous\x20avez\x20reçu\x2010\x20crédits\x20gratuits.','success'),closeModal(_0x1804d0(0x1ca)),storeLoginInfo(_0x50e502,_0x2657a4),startGuidedTour(),await markGuidedTourAsSeen(_0x50e502);}catch(_0x523e76){console['error'](_0x1804d0(0xd3),_0x523e76),showNotification(_0x1804d0(0x1f7),_0x1804d0(0x92));}}async function login(_0x2518c6,_0x56bedd){const _0x4bff3f=_0x2371a4;(!_0x2518c6||!_0x56bedd)&&(_0x2518c6=document[_0x4bff3f(0xd9)](_0x4bff3f(0x29d))[_0x4bff3f(0x2d7)],_0x56bedd=document[_0x4bff3f(0xd9)]('loginPassword')[_0x4bff3f(0x2d7)]);if(!_0x2518c6||!_0x56bedd){showNotification(_0x4bff3f(0x1d2),_0x4bff3f(0x92));return;}try{const _0x26e3e3=db[_0x4bff3f(0x22c)](_0x4bff3f(0x20b)+_0x2518c6),_0x29c817=await _0x26e3e3['once'](_0x4bff3f(0x2d7));if(_0x29c817[_0x4bff3f(0x183)]()&&_0x29c817[_0x4bff3f(0x143)]()['password']===_0x56bedd){const _0x270961=_0x29c817[_0x4bff3f(0x143)]();currentUser={'username':_0x2518c6,'freeCredits':_0x270961[_0x4bff3f(0xdd)]||0x0,'paidCredits':_0x270961['paidCredits']||0x0,'subscription':_0x270961['subscription']||null,'subscriptionEndDate':_0x270961[_0x4bff3f(0x166)]||null,'lastFreeCreditsReset':_0x270961[_0x4bff3f(0x16f)]||new Date()['toISOString'](),'referralCode':_0x270961['referralCode']||null,'totalReferrals':_0x270961[_0x4bff3f(0x299)]||0x0,'activeReferrals':_0x270961[_0x4bff3f(0xd5)]||0x0},await resetFreeCreditsIfNeeded(),await checkSubscriptionStatus(),await initializeImageGenerationTracking(_0x2518c6),updateUIForLoggedInUser(),storeLoginInfo(_0x2518c6,_0x56bedd),loadConversationHistory();const _0x31ee3e=await checkGuidedTourStatus(_0x2518c6);!_0x31ee3e&&(startGuidedTour(),await markGuidedTourAsSeen(_0x2518c6)),_0x270961[_0x4bff3f(0xe0)]&&await updateReferralStats(_0x2518c6),importedFilesCount=_0x270961[_0x4bff3f(0x214)]||0x0,lastImportReset=new Date(_0x270961[_0x4bff3f(0x95)]||new Date()),await syncUserData(),showNotification(_0x4bff3f(0x22e),_0x4bff3f(0x2d6)),closeModal(_0x4bff3f(0xe5)),_0x270961[_0x4bff3f(0x2ba)]&&loadCustomPrompts(_0x270961[_0x4bff3f(0x2ba)]),checkPendingNotifications(),initializeGeminiAPI(),createNewConversation();}else showNotification(_0x4bff3f(0x2bf),_0x4bff3f(0x92));}catch(_0x38c4c9){console[_0x4bff3f(0x92)](_0x4bff3f(0x190),_0x38c4c9),showNotification(_0x4bff3f(0x1ec),_0x4bff3f(0x92));}}async function checkPendingNotifications(){const _0x248780=_0x2371a4;if(currentUser['subscription']){const _0x3168cd=new Date(currentUser[_0x248780(0x166)]),_0x40d103=new Date(),_0x492eaf=Math['ceil']((_0x3168cd-_0x40d103)/(0x3e8*0x3c*0x3c*0x18));_0x492eaf<=0x3&&_0x492eaf>0x0&&showNotification(_0x248780(0x210)+_0x492eaf+_0x248780(0xe4)+(_0x492eaf>0x1?'s':'')+'.',_0x248780(0x14c));}!currentUser[_0x248780(0xa8)]&&currentUser[_0x248780(0xb8)]<0xa&&currentUser[_0x248780(0xdd)]<0x3&&showNotification(_0x248780(0x101),'warning');}function loadCustomPrompts(_0x1ebdb7){const _0x367a5d=_0x2371a4;Array[_0x367a5d(0x228)](_0x1ebdb7)&&_0x1ebdb7[_0x367a5d(0x102)](_0x34b018=>{!prompts[_0x34b018['id']]&&(prompts[_0x34b018['id']]=_0x34b018);});}function logout(){const _0x57e54c=_0x2371a4;currentUser&&syncUserData(),currentUser=null,updateUIForLoggedOutUser(),showNotification('Déconnexion\x20réussie.',_0x57e54c(0x2d6)),clearLoginInfo();}async function resetFreeCreditsIfNeeded(){const _0x11fb95=_0x2371a4,_0x7fdd00=new Date(),_0x18a43c=new Date(currentUser[_0x11fb95(0x16f)]);if(_0x7fdd00['getTime']()-_0x18a43c[_0x11fb95(0x19b)]()>=0x18*0x3c*0x3c*0x3e8){const _0x405669=currentUser[_0x11fb95(0xdd)];currentUser[_0x11fb95(0xdd)]=FREE_CREDITS_PER_DAY,currentUser[_0x11fb95(0x16f)]=_0x7fdd00[_0x11fb95(0x25e)](),await syncUserData(),document[_0x11fb95(0xd9)]('freeCredits')[_0x11fb95(0x1cd)]=currentUser[_0x11fb95(0xdd)];const _0x233936=currentUser['freeCredits']-_0x405669;_0x233936>0x0&&showNotification(_0x233936+'\x20crédits\x20gratuits\x20ont\x20été\x20ajoutés\x20à\x20votre\x20compte\x20!',_0x11fb95(0x2d6));}}async function checkModelAccess(){const _0x593557=_0x2371a4,_0xb84988=document['getElementById']('modelSelect')[_0x593557(0x2d7)],_0x361741=document['getElementById'](_0x593557(0xfe));_0x361741['style'][_0x593557(0x154)]=isImageGenerationModel(_0xb84988)?'block':_0x593557(0x12a);if(isImageGenerationModel(_0xb84988)){if(!hasValidSubscription()&&currentUser[_0x593557(0xb8)]<0x5&&currentUser['freeCredits']<0x5){showPaymentNotification(_0x593557(0xb4)),document[_0x593557(0xd9)]('modelSelect')['value']=_0x593557(0x1c1),_0x361741[_0x593557(0x14d)]['display']=_0x593557(0x12a);return;}}else![_0x593557(0x1c1),_0x593557(0xdb)][_0x593557(0x290)](_0xb84988)&&!hasValidSubscription()&&currentUser[_0x593557(0xb8)]<=0x0&&(showPaymentNotification(_0x593557(0x12d)),document['getElementById'](_0x593557(0xed))[_0x593557(0x2d7)]='gemini-exp-1206');}async function handleFileUpload(_0x168d2d){const _0x12bc2a=_0x2371a4,_0x573be4=_0x168d2d[_0x12bc2a(0x94)][_0x12bc2a(0x16c)];for(let _0x247354=0x0;_0x247354<_0x573be4['length'];_0x247354++){const _0x5bee54=_0x573be4[_0x247354];if(_0x5bee54[_0x12bc2a(0x11d)]===_0x12bc2a(0x1cc)||_0x5bee54[_0x12bc2a(0x11d)]===_0x12bc2a(0x296))try{const _0x15c0d8=await convertWordToText(_0x5bee54);pinnedFiles['push']({'name':_0x5bee54[_0x12bc2a(0x2b3)][_0x12bc2a(0x203)](/\.[^/.]+$/,'')+_0x12bc2a(0x2bc),'type':_0x12bc2a(0x193),'content':_0x15c0d8}),updatePinnedFiles(),importedFilesCount++,await db[_0x12bc2a(0x22c)](_0x12bc2a(0x20b)+currentUser[_0x12bc2a(0x28b)])[_0x12bc2a(0x14e)]({'importedFilesCount':importedFilesCount});}catch(_0x3e1512){console[_0x12bc2a(0x92)]('Erreur\x20lors\x20de\x20la\x20conversion\x20du\x20fichier\x20Word\x20:',_0x3e1512),showNotification('Erreur\x20lors\x20de\x20la\x20conversion\x20du\x20fichier\x20Word.','error');}else(_0x5bee54[_0x12bc2a(0x11d)][_0x12bc2a(0x1b7)]('image/')||_0x5bee54['type']===_0x12bc2a(0x1df))&&(pinnedFiles[_0x12bc2a(0x132)](_0x5bee54),updatePinnedFiles());}}function convertWordToText(_0x5aeeda){return new Promise((_0x545a51,_0x4db8e5)=>{const _0x1af531=_0x1058,_0x4f7bc8=new FileReader();_0x4f7bc8[_0x1af531(0x21d)]=function(_0x260727){const _0x31916f=_0x1af531,_0x30adb8=_0x260727['target'][_0x31916f(0x2c5)];mammoth[_0x31916f(0x2cd)]({'arrayBuffer':_0x30adb8})[_0x31916f(0x18a)](function(_0x2a898f){const _0x57b7e4=_0x31916f;_0x545a51(_0x2a898f[_0x57b7e4(0x2d7)]);})[_0x31916f(0x2bb)](function(_0x1cbf82){_0x4db8e5(_0x1cbf82);});},_0x4f7bc8[_0x1af531(0x1b8)](_0x5aeeda);});}function updatePinnedFiles(){const _0x94f778=_0x2371a4,_0x5ef5ae=document[_0x94f778(0xd9)](_0x94f778(0x201));_0x5ef5ae[_0x94f778(0x184)]='',pinnedFiles[_0x94f778(0x102)]((_0x2daad1,_0x21b2ad)=>{const _0x5c05cb=_0x94f778,_0x473bce=document[_0x5c05cb(0x147)](_0x5c05cb(0x2dd));_0x473bce[_0x5c05cb(0x1f1)]=_0x5c05cb(0x2cb),_0x473bce[_0x5c05cb(0x184)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>'+(_0x2daad1[_0x5c05cb(0x11d)][_0x5c05cb(0x1b7)](_0x5c05cb(0x200))?_0x5c05cb(0x1de):'📄')+_0x5c05cb(0x1a2)+_0x2daad1[_0x5c05cb(0x2b3)]+'\x22>'+_0x2daad1[_0x5c05cb(0x2b3)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedFile('+_0x21b2ad+_0x5c05cb(0x241),_0x5ef5ae[_0x5c05cb(0x195)](_0x473bce);});}function removePinnedFile(_0x363d99){const _0x398f88=_0x2371a4;pinnedFiles[_0x398f88(0x1bc)](_0x363d99,0x1),updatePinnedFiles();}function createPinnedFilesElement(_0x3875fa){const _0x4be541=_0x2371a4,_0x10a28d=document[_0x4be541(0x147)](_0x4be541(0x2dd));return _0x10a28d[_0x4be541(0x1f1)]=_0x4be541(0x111),_0x3875fa[_0x4be541(0x102)](_0x4f777d=>{const _0x15b7a8=_0x4be541,_0x24aa62=document['createElement'](_0x15b7a8(0x2dd));_0x24aa62[_0x15b7a8(0x1f1)]='pinned-file';if(_0x4f777d[_0x15b7a8(0x11d)][_0x15b7a8(0x1b7)](_0x15b7a8(0x200))){const _0x28afd6=document[_0x15b7a8(0x147)]('img');_0x28afd6[_0x15b7a8(0x140)]=URL['createObjectURL'](_0x4f777d),_0x28afd6[_0x15b7a8(0xbd)]=_0x4f777d['name'],_0x28afd6[_0x15b7a8(0x1f1)]=_0x15b7a8(0x239),_0x24aa62[_0x15b7a8(0x195)](_0x28afd6);}else{const _0x44af5d=document[_0x15b7a8(0x147)](_0x15b7a8(0x158));_0x44af5d[_0x15b7a8(0x1f1)]=_0x15b7a8(0x20e),_0x44af5d[_0x15b7a8(0x1cd)]=_0x4f777d['type'][_0x15b7a8(0x1b7)](_0x15b7a8(0x1df))?'📄':'📎',_0x24aa62[_0x15b7a8(0x195)](_0x44af5d);}const _0x5a54e1=document[_0x15b7a8(0x147)]('span');_0x5a54e1['className']=_0x15b7a8(0xbe),_0x5a54e1[_0x15b7a8(0x1cd)]=_0x4f777d[_0x15b7a8(0x2b3)],_0x24aa62[_0x15b7a8(0x195)](_0x5a54e1),_0x10a28d[_0x15b7a8(0x195)](_0x24aa62);}),_0x10a28d;}function _0x3302(){const _0x211dd0=['</tbody></table>','Requête\x20réussie\x20avec\x20la\x20clé\x20API\x20','Ce\x20bouton\x20ouvre\x20la\x20liste\x20des\x20demandes\x20personnalisées\x20(Utile\x20si\x20vous\x20ne\x20savez\x20pas\x20comment\x20faire\x20une\x20demande).','Échec\x20après\x20','_blank','Erreur\x20lors\x20du\x20partage','24ArmmZf','lastConversation','Réponse\x20actualisée\x20avec\x20succès','<td>','contains','output','Eduque_moi.docx','setAttribute','#promptListButton','Bienvenue\x20sur\x20Eduque\x20moi\x20!\x20Commençons\x20la\x20visite\x20guidée.','keydown','Gemini\x201.0\x20Pro','shepherd-theme-custom','currentIndex','Aucune\x20clé\x20API\x20trouvée\x20dans\x20la\x20base\x20de\x20données.','getFullYear','.prompt-title','trim','from','copy','innerWidth','Connexion\x20automatique\x20réussie','Illustration\x20Vectorielle','Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20pour\x20envoyer\x20ce\x20message.','fileInput','\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Trop\x20d\x27erreurs\x20consécutives','.pinned-file','model','closest','Eduque_moi.pdf','online','theme','getBoundingClientRect','Prompt\x20sélectionné','open','word','username','apiKeyList','indicativeText','toLocaleDateString','icon','includes','parse','Montant\x20:\x20','...','endsWith','https://wa.me/?text=','application/msword','focus','selectedModel','totalReferrals','onerror','save','pinned-prompt-message','loginUsername','slice','height','CANCELLED','models?key=','Date\x20:\x20','.response-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reactivateKey','\x20réussi','<h3>Historique\x20des\x20conversations</h3>','bottom','loaded','Génération\x20avec\x20consommation\x20de\x205\x20crédits','https://api.recraft.ai/api/v2/generate','message\x20user-message','preventDefault','Ce\x20nom\x20d\x27utilisateur\x20existe\x20déjà.','Le\x20partage\x20n\x27est\x20pas\x20pris\x20en\x20charge\x20sur\x20votre\x20appareil','11418328BOAYDD','response-text','Regardez\x20cette\x20image\x20générée\x20par\x20IA!','name','Tentative\x20','Lien\x20de\x20l\x27image\x20copié\x20dans\x20le\x20presse-papiers!','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20de\x20votre\x20profil.\x20Veuillez\x20réessayer.','set','querySelector','orderByChild','customPrompts','catch','.txt','getDate','\x22\x20alt=\x22Image\x20générée\x22\x20style=\x22max-width:\x20100%;\x20border-radius:\x205px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Image\x20générée\x20à\x20partir\x20du\x20prompt\x20:\x20\x22','Nom\x20d\x27utilisateur\x20ou\x20mot\x20de\x20passe\x20incorrect.','Achat\x20d\x27un\x20forfait\x20','Image\x20générée\x20avec\x20succès!\x20Il\x20vous\x20reste\x20','entries','DOMContentLoaded','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>🤖</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22','result','Bearer\x20','Ces\x20icônes\x20vous\x20permettent\x20de\x20copier,\x20exporter\x20en\x20PDF,\x20partager\x20ou\x20répondre\x20à\x20un\x20message\x20spécifique.','referralLink','key','values','pinned-item','stopPropagation','extractRawText','<div\x20class=\x22table-wrapper\x22><table><thead><tr>','gemini-bb56e','light','Aucune\x20clé\x20API\x20trouvée\x20dans\x20la\x20base\x20de\x20données','.file-label','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-share-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Gemini\x201.5\x20Flash','9vxqFoS','success','value','promptListModal','registerBtn','https://gemini-bb56e-default-rtdb.firebaseio.com','startKeyRotation','\x20crédits\x20ont\x20été\x20ajoutés\x20à\x20votre\x20compte.','div','toggleSidebar','gemini-bb56e.firebaseapp.com','imageGeneration','complete','setItem','data','retryConfig','category','Gemini\x201.5\x20Pro','Aucune\x20clé\x20API\x20disponible','1941594qjQEMz','Veuillez\x20sélectionner\x20un\x20pack\x20de\x20crédits.','table','referralCode','has','showRegisterModal','Génération\x20payante\x20(5\x20crédits)','2rGisKO','error','show','target','lastImportReset','warn','log','active','baseDelay','usedKeys','</tr></thead><tbody>','\x20échouée:','pdf','remove','status','max','AIzaSyCvizcYorGDPN3GXqma0opp7wAiMkaCt64','now','auto','isActive','createNewConversation','subscriptionSelect','Clé\x20API\x20réactivée:\x20','subscription','querySelectorAll','Tour','Échec\x20de\x20la\x20connexion\x20automatique\x20:\x20informations\x20invalides','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','getMonth','executeWithRetry','https://eduquemoi.netlify.app/?ref=','tour-icon','...(Utilisez\x20un\x20modèle\x20avancé\x20pour\x20avoir\x20la\x20suite\x20de\x20ma\x20réponse)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-indicator\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','eduqueMoiPassword','La\x20génération\x20d\x27images\x20nécessite\x205\x20crédits.','tour-highlight','notification\x20error','menu','paidCredits','.file-name','data-type','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22downloadImage(\x27','data-invite-message','alt','file-name','join','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Montant:</strong>\x20','fas\x20fa-trash\x20delete-icon','Bienvenue\x20dans\x20une\x20nouvelle\x20conversation\x20!\x20Comment\x20puis-je\x20vous\x20aider\x20aujourd\x27hui\x20?','response','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22downloadInvoice\x22>Télécharger\x20la\x20facture\x20en\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeModal\x22>Fermer</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Erreur\x20lors\x20de\x20la\x20récupération\x20du\x20code\x20de\x20parrainage.','prompt-title','children','prompts','title','dataset','scrollTop','firstChild','Utilisation\x20de\x20crédits\x20gratuits\x20pour\x20Gemini\x201.5\x20Flash.','errorTracker','login','add','beforeunload','pinned-responses-message','Erreur\x20lors\x20de\x20l\x27inscription:','</tbody></table></div>','activeReferrals','UNAVAILABLE','Votre\x20abonnement\x20a\x20expiré.','realistic_image','getElementById','messageContainer','gemini-1.0-pro','.input-container','freeCredits','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<?xml\x20version=\x221.0\x22\x20encoding=\x22UTF-8\x22\x20standalone=\x22yes\x22?>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<w:document\x20xmlns:w=\x22http://schemas.openxmlformats.org/wordprocessingml/2006/main\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:r>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:t>','writeText','referrals','setDate','offline','markKeyAsUsed','\x20jour','loginModal','initialize','click','welcome','Erreur\x20lors\x20de\x20la\x20génération\x20de\x20l\x27image.\x20Veuillez\x20réessayer.','notification\x20warning','toLocaleString','Le\x20parrain\x20de\x20','modelSelect','toggle','Terminer','href','Génération\x20gratuite\x20(abonnement)','registerPassword','onclick','json','Erreur\x20lors\x20du\x20téléchargement\x20de\x20l\x27image.','.modal','[Fichier\x20joint:\x20','currentKeyIndex','.message-actions','\x22e=','keys','offsetWidth','Erreur\x20lors\x20du\x20partage\x20de\x20l\x27image.','imageSizeSelect','Rotation\x20de\x20clé\x20API\x20effectuée\x20avec\x20succès','Achat\x20de\x20','Vos\x20crédits\x20sont\x20faibles.\x20Pensez\x20à\x20recharger\x20votre\x20compte.','forEach','Erreur\x20lors\x20de\x20la\x20désactivation\x20de\x20la\x20clé:','Erreur\x20HTTP:\x20','meta[name=\x22color-scheme\x22]','referredBy','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedPrompt()\x22>❌</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Erreur\x20lors\x20de\x20la\x20rotation\x20de\x20clé:','loadApiKeys','<th>','scrollHeight','modal','replaceWith','Toutes\x20les\x20clés\x20API\x20ont\x20été\x20épuisées\x20sans\x20succès','Attention\x20:\x20vos\x20crédits\x20sont\x20presque\x20épuisés\x20!','showReferralModal','pinned-files-message','10uIxjpE','G-CSN292219J','displayText','stringify','Vous\x20avez\x20besoin\x20d\x27un\x20abonnement\x20ou\x20de\x20crédits\x20payants\x20pour\x20utiliser\x20ce\x20modèle.','prompt','https://generativelanguage.googleapis.com/v1beta/models/','buySubscription','true','DEADLINE_EXCEEDED','recraft-','type','hasSeenGuidedTour','referralModal','sidebar-visible','button','attachTo','client@example.com','\x22</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-metadata\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>Style:\x20','Conversation\x20du\x20','clientHeight','pinned-prompt','getGenerativeModel','Erreur\x20lors\x20du\x20partage:','none','quota\x20exceeded','Erreur\x20lors\x20de\x20la\x20génération\x20de\x20la\x20réponse:','Ce\x20modèle\x20nécessite\x20un\x20abonnement\x20ou\x20des\x20crédits\x20payants.','div:first-child','canGenerate','left','resetUsedKeys','push','jspdf','select','element','maxAttempts','Format\x20de\x20réponse\x20invalide\x20de\x20l\x27API\x20Recraft','\x20crédits\x20pour\x20Eduque\x20moi','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22model-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22model-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22','Enter','Utilisateur\x20non\x20connecté','Erreur\x20:\x20','top','center','message-actions','src','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22shareImage(\x27','togglePromptList','val','width','hidden','password','createElement','\x20a\x20reçu\x2010\x20crédits\x20pour\x20le\x20premier\x20achat\x20de\x20son\x20filleul\x20!','registerUsername','.toggle-sidebar','message\x20ai-message','warning','style','update','RESOURCE_EXHAUSTED','&text=','Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20payants\x20pour\x20ce\x20modèle\x20avancé.','handleFileUpload','once','display','map','file','accept','span','code','La\x20réponse\x20a\x20été\x20tronquée\x20à\x20','.input-actions\x20button:last-child','indexOf','responses','removeItem','lastError','data-response','ceil','generateAsync','info','visible',')\x20que\x20je\x20viens\x20de\x20t\x27envoyer.','subscriptionEndDate','</tr>','.logo','promptCategories','Veuillez\x20sélectionner\x20un\x20forfait.','load','files','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-indicator\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Erreur\x20lors\x20de\x20l\x27initialisation\x20du\x20gestionnaire\x20API:','lastFreeCreditsReset','closeModal','clipboard','getItem','277143630015','\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22prompt-title\x22>','absolute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','prompt-icon','tagName','calculateRetryDelay','user-message','scroll','URL','API/','removePinnedFile','Erreur\x20lors\x20de\x20la\x20réactivation\x20de\x20la\x20clé:','Tentative\x20d\x27ouverture\x20de\x20la\x20bibliothèque','CHECKOUT_COMPLETED','exists','innerHTML','split','Vous\x20êtes\x20hors\x20ligne.\x20Veuillez\x20vérifier\x20votre\x20connexion\x20internet.','message','Voici\x20le\x20menu\x20principal.\x20Il\x20vous\x20permet\x20d\x27accéder\x20à\x20différentes\x20fonctionnalités\x20de\x20l\x27application\x20(Models,\x20Crédits,\x20Bibliothèque,\x20Récompense...).','gemini-bb56e.appspot.com','then','historyList','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prompt-item\x22\x20onclick=\x22selectPrompt(\x27','upgrade-button','ApiError','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Description:</strong>\x20','Erreur\x20lors\x20de\x20la\x20connexion:','Données\x20utilisateur\x20mises\x20à\x20jour\x20avec\x20succès:','userInput','text/plain','reason','appendChild','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-indicator\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span><span></span><span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<thead><tr>','clear','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27prompt\x27)\x22>❌</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Facture\x20Eduque\x20moi','getTime','analyzeApiPerformance','La\x20liste\x20des\x20clés\x20API\x20est\x20vide','readAsDataURL','Bibliothèque.html','<div\x20class=\x22table-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyTable(this.closest(\x27.table-wrapper\x27))\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x20Copier\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22exportTableAsCSV(this.closest(\x27.table-wrapper\x27))\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-download\x22></i>\x20CSV\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div></div>','\x0a\x0aPS\x20:\x20En\x20utilisant\x20mon\x20lien,\x20vous\x20me\x20donnez\x20un\x20petit\x20coup\x20de\x20pouce.\x20Mais\x20chut,\x20c\x27est\x20notre\x20secret\x20!\x20😉','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22','Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20pour\x20générer\x20une\x20image.','\x20mots.','conversations_','database','dailyCount','Veuillez\x20vous\x20connecter\x20pour\x20accéder\x20à\x20la\x20bibliothèque.','\x20tentatives.\x20Dernière\x20erreur:\x20','1215750HrikDl','🚀\x20Découvrez\x20le\x20secret\x20pour\x20booster\x20votre\x20apprentissage\x20!\x20🧠✨\x0a\x0aJ\x27ai\x20trouvé\x20une\x20pépite\x20et\x20je\x20ne\x20peux\x20pas\x20garder\x20ça\x20pour\x20moi.\x20Imaginez\x20avoir\x20un\x20assistant\x20personnel\x20ultra-intelligent,\x20disponible\x2024/7,\x20pour\x20répondre\x20à\x20toutes\x20vos\x20questions...\x20C\x27est\x20ce\x20que\x20j\x27ai\x20avec\x20Eduque\x20moi\x20!\x0a\x0aCurieux\x20?\x20Cliquez\x20sur\x20ce\x20lien\x20magique\x20et\x20embarquez\x20pour\x20une\x20aventure\x20intellectuelle\x20incroyable\x20:\x0a','input-area','search','rotateKey','word/document.xml','start','splitTextToSize','conversation-item','Erreur\x20lors\x20de\x20la\x20copie\x20du\x20lien.','<div\x20class=\x22table-scroll-container\x22><table>','generateContent','Erreur\x20lors\x20de\x20la\x20sauvegarde\x20des\x20statistiques:','startsWith','readAsArrayBuffer','AIzaSyB3umTE3n2d5gwKzOmJz4ss1pFZMR8_vOE','random','<tbody>','splice','body','toString','addEventListener','apiKeys','gemini-exp-1206','.\x20Veuillez\x20réessayer.','length','initializeApp','resize','Description\x20:\x20','data-theme','setFontSize','userInfo','registerModal','shiftKey','application/vnd.openxmlformats-officedocument.wordprocessingml.document','textContent','handleKeyError','API','Réponse\x20copiée\x20dans\x20le\x20presse-papiers','Erreur\x20de\x20génération\x20d\x27image:','Veuillez\x20remplir\x20tous\x20les\x20champs.','1257112kRNqXo','</td>','.pdf,.jpg,.jpeg,.png,.docx,.doc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyUserMessage(this.parentNode.parentNode)\x22\x20title=\x22Copier\x20le\x20message\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.notification','application/json','location','startPerformanceMonitoring','.close','equalTo','shareOnFacebook','🖼️','application/pdf','Fichiers\x20joints:\x20','logoutBtn','Échec\x20de\x20la\x20requête\x20avec\x20la\x20clé\x20API\x20','resolveNotification','227929VwJZxu','toUpperCase','removeChild','shareOnWhatsApp','selectionStart','retryDelay','useFreeGeneration','substring','Erreur\x20lors\x20de\x20la\x20connexion.\x20Veuillez\x20réessayer.','<tr>','Facture\x20pour\x20:\x20','vector_illustration','eduqueMoiUserData','className','sender','3962915oqJUdp','content','&title=Boostez\x20votre\x20apprentissage\x20avec\x20Eduque\x20moi&summary=','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22this.closest(\x27.notification\x27).setAttribute(\x27data-response\x27,\x20\x27true\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Utiliser\x20mes\x20crédits\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22this.closest(\x27.notification\x27).setAttribute(\x27data-response\x27,\x20\x27false\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Annuler\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Erreur\x20lors\x20de\x20l\x27inscription.\x20Veuillez\x20réessayer.','share','delete','classList','selectionEnd','rate\x20limit','pow','Erreur\x20lors\x20de\x20la\x20relance:','showLoginModal','image/','pinnedItems','block','replace','fas\x20fa-sun','prompt-list','Analyse\x20ce\x20fichier\x20texte:\x20','.\x20Tentative\x20','input','change','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','users/','copyReferralLink','child','file-icon','smooth','Votre\x20abonnement\x20expire\x20dans\x20','transaction','Détails\x20spécifiques:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>Taille:\x20','importedFilesCount','dark','Erreur\x20lors\x20de\x20la\x20relance\x20de\x20la\x20demande','loginBtn','Partage\x20réussi','Génération\x20de\x20l\x27image\x20en\x20cours...','Message\x20copié\x20dans\x20le\x20presse-papiers','amount','maxDelay','onload','onpopstate','disableKey','fas\x20fa-moon','placeholder','buyCredits','Aucun','Réponses\x20épinglées:\x0a','/disabled','\x20générations\x20gratuites\x20aujourd\x27hui.','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22buySubscription()\x22>Acheter\x20un\x20abonnement</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22buyCredits()\x22>Acheter\x20des\x20crédits</button>\x0a\x20\x20\x20\x20','isArray','#promptCategories\x20li','firstPurchase','[Prompt\x20épinglé:\x20','ref','\x27,\x20\x27image-generee.png\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-download\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyImage(\x27','Connexion\x20réussie\x20!','Message\x20utilisateur\x20introuvable','Modèle\x20mis\x20à\x20jour\x20vers\x20Gemini\x201.5\x20Pro','count','position','La\x20liste\x20des\x20clés\x20API\x20est\x20vide.','\x20pour\x20Eduque\x20moi','right','url','gemini-1.5-pro','\x0aDétails\x20spécifiques:\x20','pinned-image','[Réponse\x20épinglée:\x20','lastReset','get','createObjectURL','addStep','Désactivation\x20temporaire\x20de\x20la\x20clé\x20API:\x20','Utilisation\x20de\x20crédits\x20payants\x20pour\x20Gemini\x201.5\x20Flash.',')\x22>❌</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','getCurrentApi','conversationHistory','.pinned-item[data-type=\x22prompt\x22]','addPage','blob','\x20FCFA','init','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27file\x27,\x20','.sidebar','shouldRetry','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>💬</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22','Le\x20paiement\x20a\x20été\x20annulé\x20ou\x20a\x20échoué.','Données\x20utilisateur\x20enregistrées\x20dans\x20localStorage','.pdf','Statut\x20de\x20l\x27API\x20Gemini:','Crédits\x20insuffisants\x20pour\x20actualiser\x20la\x20réponse.','user','shareOnLinkedIn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyResponse(this.parentNode.parentNode)\x22\x20title=\x22Copier\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22exportResponse(this.parentNode.parentNode,\x20\x27pdf\x27)\x22\x20title=\x22Exporter\x20en\x20PDF\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22shareResponse(this.parentNode.parentNode)\x22\x20title=\x22Partager\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-share-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22pinResponse(this.parentNode.parentNode)\x22\x20title=\x22Épingler\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-reply\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resubmitRequest(this.parentNode.parentNode)\x22\x20title=\x22Relancer\x20la\x20demande\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','generateReferralCode','509075kMfPbc','setSelectionRange','INTERNAL','beforeShow','revokeObjectURL','text','\x20FCFA</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Numéro\x20de\x20transaction:</strong>\x20','filter','toISOString','Image\x20partagée\x20avec\x20succès!'];_0x3302=function(){return _0x211dd0;};return _0x3302();}function createPinnedResponsesElement(_0x40bf97){const _0xfacc60=_0x2371a4,_0x477677=document[_0xfacc60(0x147)](_0xfacc60(0x2dd));return _0x477677['className']=_0xfacc60(0xd2),_0x40bf97['forEach'](_0x241834=>{const _0x5b5d4d=_0xfacc60,_0x593aae=document['createElement'](_0x5b5d4d(0x2dd));_0x593aae['className']='pinned-response';const _0x576a8d=document[_0x5b5d4d(0x147)](_0x5b5d4d(0x158));_0x576a8d[_0x5b5d4d(0x1f1)]='response-icon',_0x576a8d[_0x5b5d4d(0x1cd)]='💬';const _0x3c7d12=document['createElement'](_0x5b5d4d(0x158));_0x3c7d12[_0x5b5d4d(0x1f1)]=_0x5b5d4d(0x2b1),_0x3c7d12[_0x5b5d4d(0x1cd)]=_0x241834[_0x5b5d4d(0x114)],_0x593aae[_0x5b5d4d(0x195)](_0x576a8d),_0x593aae['appendChild'](_0x3c7d12),_0x477677['appendChild'](_0x593aae);}),_0x477677;}function createPinnedPromptElement(_0x2b8e0c){const _0x22424d=_0x2371a4,_0x360474=document[_0x22424d(0x147)](_0x22424d(0x2dd));_0x360474['className']=_0x22424d(0x29c);const _0x154cb6=document[_0x22424d(0x147)]('div');_0x154cb6['className']=_0x22424d(0x127);const _0x1923eb=document[_0x22424d(0x147)](_0x22424d(0x158));_0x1923eb[_0x22424d(0x1f1)]=_0x22424d(0x178),_0x1923eb[_0x22424d(0x1cd)]='🤖';const _0x2fd501=document[_0x22424d(0x147)](_0x22424d(0x158));return _0x2fd501[_0x22424d(0x1f1)]=_0x22424d(0xc6),_0x2fd501[_0x22424d(0x1cd)]=_0x2b8e0c['title'],_0x154cb6[_0x22424d(0x195)](_0x1923eb),_0x154cb6[_0x22424d(0x195)](_0x2fd501),_0x360474[_0x22424d(0x195)](_0x154cb6),_0x360474;}function createModelHeader(_0xec21ce){const _0x316af6=_0x2371a4,_0x45770f={'gemini-1.5-flash':_0x316af6(0x2d4),'gemini-1.5-pro':_0x316af6(0x2e6),'gemini-1.5-pro-latest':'Gemini\x201.5\x20Pro\x20Latest','gemini-1.0-pro':_0x316af6(0x271),'recraft-realistic':'Image\x20Réaliste','recraft-digital':'Illustration\x20Digitale','recraft-vector':_0x316af6(0x27c)},_0x2c0a94=_0x45770f[_0xec21ce]||_0xec21ce;return _0x316af6(0x139)+(isImageGenerationModel(_0xec21ce)?'fas\x20fa-image':'fas\x20fa-robot')+_0x316af6(0x27f)+_0x2c0a94+_0x316af6(0x20a);}async function sendMessage(){const _0x36f46b=_0x2371a4;if(!currentUser){showNotification('Veuillez\x20vous\x20connecter\x20pour\x20envoyer\x20des\x20messages.',_0x36f46b(0x92));return;}const _0x1b9038=document[_0x36f46b(0xd9)](_0x36f46b(0x192))['value'][_0x36f46b(0x277)](),_0x396c13=document[_0x36f46b(0xd9)](_0x36f46b(0xed))[_0x36f46b(0x2d7)];if(!_0x1b9038&&pinnedFiles[_0x36f46b(0x1c3)]===0x0&&pinnedResponses[_0x36f46b(0x1c3)]===0x0&&!pinnedPrompt){showNotification('Veuillez\x20entrer\x20un\x20message,\x20joindre\x20un\x20fichier,\x20épingler\x20une\x20réponse\x20ou\x20sélectionner\x20un\x20prompt.',_0x36f46b(0x92));return;}let _0x7f28f=_0x1b9038;pinnedPrompt&&(_0x7f28f=pinnedPrompt['type']==='image'?pinnedPrompt['content']+_0x36f46b(0x238)+_0x1b9038:pinnedPrompt[_0x36f46b(0x1f4)]+'\x0a\x0a'+_0x1b9038);if(isImageGenerationModel(_0x396c13)){try{const _0x3450c5=await canGenerateImage();if(!_0x3450c5[_0x36f46b(0x12f)]){showPaymentNotification(_0x3450c5[_0x36f46b(0x187)]);return;}const _0x22f6d7=document['createElement'](_0x36f46b(0x2dd));_0x22f6d7[_0x36f46b(0x1f1)]='message\x20ai-message',_0x22f6d7[_0x36f46b(0x184)]=_0x36f46b(0x2a4)+createModelHeader(_0x396c13)+_0x36f46b(0x196),document['getElementById'](_0x36f46b(0xda))['appendChild'](_0x22f6d7);const _0x53d34e=document[_0x36f46b(0xd9)](_0x36f46b(0xfe))['value'],_0x5898f4=getRecraftStyle(_0x396c13),_0x20c6fd=await fetch(_0x36f46b(0x2ab),{'method':'POST','headers':{'Content-Type':_0x36f46b(0x1d8),'Authorization':_0x36f46b(0x2c6)+RECRAFT_API_KEY},'body':JSON[_0x36f46b(0x115)]({'prompt':_0x7f28f,'style':_0x5898f4,'size':_0x53d34e})});if(!_0x20c6fd['ok'])throw new Error('Erreur\x20lors\x20de\x20la\x20génération\x20de\x20l\x27image');const _0x2ad76d=await _0x20c6fd[_0x36f46b(0xf4)](),_0x2c6520=_0x2ad76d[_0x36f46b(0x2e3)][0x0]['url'];_0x22f6d7['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+createModelHeader(_0x396c13)+_0x36f46b(0xac)+_0x2c6520+_0x36f46b(0x2be)+_0x7f28f+_0x36f46b(0x124)+_0x5898f4[_0x36f46b(0x203)]('_','\x20')[_0x36f46b(0x1e5)]()+_0x36f46b(0x213)+_0x53d34e+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3450c5[_0x36f46b(0x1ea)]?_0x36f46b(0xf1):_0x36f46b(0x90))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22downloadImage(\x27'+_0x2c6520+_0x36f46b(0x22d)+_0x2c6520+_0x36f46b(0x141)+_0x2c6520+_0x36f46b(0x2d3);if(_0x3450c5[_0x36f46b(0x1ea)]){await incrementImageGenerationCount(currentUser[_0x36f46b(0x28b)]);const _0x5d9e37=await getImageGenerationCount(currentUser['username']);showNotification(_0x36f46b(0x2c1)+(0x5-_0x5d9e37)+_0x36f46b(0x226),_0x36f46b(0x2d6));}else await updateCredits(_0x396c13,0x5),showNotification('Image\x20générée\x20avec\x20succès!\x205\x20crédits\x20ont\x20été\x20déduits.',_0x36f46b(0x2d6));}catch(_0x207d0e){console[_0x36f46b(0x92)](_0x36f46b(0x1d1),_0x207d0e),showNotification('Erreur\x20lors\x20de\x20la\x20génération\x20de\x20l\x27image.\x20Veuillez\x20réessayer.','error');}finally{document[_0x36f46b(0xd9)](_0x36f46b(0x192))[_0x36f46b(0x2d7)]='',resetTextareaHeight(),pinnedPrompt=null,updatePinnedItems();}return;}let _0x517122=0x1;_0x517122+=pinnedFiles[_0x36f46b(0x25d)](_0x370fd6=>_0x370fd6['type']!==_0x36f46b(0x193))['length'],_0x517122+=pinnedResponses[_0x36f46b(0x1c3)];if(!hasValidSubscription()){if(_0x396c13==='gemini-exp-1206'){if(currentUser['paidCredits']<_0x517122&&currentUser[_0x36f46b(0xdd)]<_0x517122){showPaymentNotification(_0x36f46b(0x27d));return;}}else{if(![_0x36f46b(0xdb)]['includes'](_0x396c13)&&currentUser['paidCredits']<_0x517122){showPaymentNotification(_0x36f46b(0x151));return;}}}const _0xb4785d=[...pinnedFiles],_0x10150a=[...pinnedResponses],_0x45310e=pinnedPrompt;pinnedFiles=[],pinnedResponses=[],pinnedPrompt=null,updatePinnedItems();const _0x555983=addMessageToChat(_0x36f46b(0x252),_0x1b9038,_0xb4785d,_0x10150a,_0x45310e),_0x230c4c=document[_0x36f46b(0x147)](_0x36f46b(0x2dd));_0x230c4c[_0x36f46b(0x1f1)]=_0x36f46b(0x14b),_0x230c4c[_0x36f46b(0x184)]=_0x36f46b(0x176)+createModelHeader(_0x396c13)+_0x36f46b(0x16d),document[_0x36f46b(0xd9)](_0x36f46b(0xda))[_0x36f46b(0x195)](_0x230c4c);try{const _0xe8079f=[];let _0x254ba9=buildConversationContext();await addFilesToParts(_0xe8079f,_0xb4785d),_0x10150a[_0x36f46b(0x102)](_0x14656d=>{const _0x320691=_0x36f46b;_0x254ba9+='[Réponse\x20épinglée:\x20'+_0x14656d[_0x320691(0x114)]+']\x0a';});_0x45310e?(_0x254ba9+=_0x36f46b(0x22b)+_0x45310e[_0x36f46b(0xc9)]+']\x0a',_0x45310e[_0x36f46b(0x11d)]==='image'?_0x254ba9+=_0x36f46b(0x212)+_0x1b9038+'\x0a':_0x254ba9+=_0x45310e[_0x36f46b(0x1f4)]+'\x0a\x0a'+_0x1b9038+'\x0a'):_0x254ba9+=_0x1b9038+'\x0a';_0x7f28f=_0x254ba9,_0xe8079f['push']({'text':_0x7f28f});let _0x1f4220,_0x36dc6f=0x0;const _0x213f98=0x3;while(_0x36dc6f<_0x213f98){try{const _0x96c890=getNextApiKey();if(!_0x96c890)throw new Error(_0x36f46b(0x2e7));genAI=new GoogleGenerativeAI(_0x96c890),model=genAI[_0x36f46b(0x128)]({'model':_0x396c13,'systemInstruction':SYSTEM_INSTRUCTION});const _0x54c485=await model[_0x36f46b(0x1b5)](_0xe8079f);_0x1f4220=await _0x54c485[_0x36f46b(0xc3)];break;}catch(_0x56d226){_0x36dc6f++,console[_0x36f46b(0x92)](_0x36f46b(0x2b4)+_0x36dc6f+'/'+_0x213f98+_0x36f46b(0x9c),_0x56d226);if(_0x36dc6f===_0x213f98)throw new Error('Nombre\x20maximum\x20de\x20tentatives\x20atteint');const _0x3a8d3d=Math['min'](0x3e8*Math['pow'](0x2,_0x36dc6f),0x1388);await new Promise(_0x4ab49c=>setTimeout(_0x4ab49c,_0x3a8d3d));}}let _0x5a9293=_0x1f4220[_0x36f46b(0x25b)]();if(_0x396c13==='gemini-1.0-pro'||_0x396c13==='gemini-exp-1206'&&currentUser['paidCredits']<_0x517122){const _0x25bf7d=_0x5a9293[_0x36f46b(0x185)](/\s+/);_0x25bf7d[_0x36f46b(0x1c3)]>FREE_MODEL_MAX_RESPONSE&&(_0x5a9293=_0x25bf7d['slice'](0x0,FREE_MODEL_MAX_RESPONSE)[_0x36f46b(0xbf)]('\x20')+_0x36f46b(0xb1),showNotification(_0x36f46b(0x15a)+FREE_MODEL_MAX_RESPONSE+'\x20mots.',_0x36f46b(0x163)));}await animateText(_0x230c4c,_0x5a9293),currentConversation[_0x36f46b(0x132)]({'sender':'ai','content':_0x5a9293}),await updateCredits(_0x396c13,_0x517122),saveConversation();}catch(_0x1ab308){console['error'](_0x36f46b(0x12c),_0x1ab308),_0x230c4c[_0x36f46b(0x9e)](),showNotification(_0x36f46b(0x13c)+_0x1ab308[_0x36f46b(0x187)]+_0x36f46b(0x1c2),_0x36f46b(0x92));}finally{document['getElementById'](_0x36f46b(0x192))['value']='',resetTextareaHeight(),resetScrollState();}}document[_0x2371a4(0x1bf)](_0x2371a4(0x2c3),initializeScrollListener);function resetPinnedItems(){pinnedFiles=[],pinnedResponses=[],pinnedPrompt=null,updatePinnedItems();}function buildConversationContext(){const _0x35a478=_0x2371a4;let _0x2ff0a8='';const _0xd3b5d=currentConversation[_0x35a478(0x29e)](-0x5);return _0xd3b5d['forEach'](_0x3759d9=>{const _0x54c7dd=_0x35a478;_0x2ff0a8+=(_0x3759d9[_0x54c7dd(0x1f2)]===_0x54c7dd(0x252)?_0x54c7dd(0x252):_0x54c7dd(0x282))+':\x20'+_0x3759d9[_0x54c7dd(0x1f4)]+'\x0a',_0x3759d9[_0x54c7dd(0x16c)]&&_0x3759d9['files']['forEach'](_0x5ce428=>{const _0x4aad0d=_0x54c7dd;_0x2ff0a8+=_0x4aad0d(0xf7)+_0x5ce428['name']+']\x0a';}),_0x3759d9['responses']&&_0x3759d9[_0x54c7dd(0x15d)][_0x54c7dd(0x102)](_0x448eb2=>{const _0x9a7c5c=_0x54c7dd;_0x2ff0a8+=_0x9a7c5c(0x23a)+_0x448eb2[_0x9a7c5c(0x114)]+']\x0a';}),_0x3759d9[_0x54c7dd(0x117)]&&(_0x2ff0a8+=_0x54c7dd(0x22b)+_0x3759d9[_0x54c7dd(0x117)][_0x54c7dd(0xc9)]+']\x0a');}),_0x2ff0a8;}async function addFilesToParts(_0x12dc20,_0x99a3bb){const _0x201053=_0x2371a4;for(const _0x104325 of _0x99a3bb){if(_0x104325[_0x201053(0x11d)]==='text/plain')_0x12dc20[_0x201053(0x132)]({'text':_0x201053(0x206)+_0x104325[_0x201053(0x1f4)]});else{const _0x2f2f2e=await readFileAsBase64(_0x104325);_0x12dc20[_0x201053(0x132)]({'inlineData':{'data':_0x2f2f2e,'mimeType':_0x104325[_0x201053(0x11d)]}}),_0x12dc20[_0x201053(0x132)]({'text':'Analyse\x20le\x20fichier\x20'+_0x104325['name']+'\x20('+_0x104325[_0x201053(0x11d)]+_0x201053(0x165)});}}}async function validateCreditsAndModel(_0x5ac449,_0x24e912){const _0x2406ba=_0x2371a4;if(_0x5ac449===_0x2406ba(0x1c1)){if(currentUser[_0x2406ba(0xb8)]>=_0x24e912)return showNotification(_0x2406ba(0x240),_0x2406ba(0x163)),!![];else{if(currentUser[_0x2406ba(0xdd)]>=_0x24e912)return showNotification(_0x2406ba(0xcd),_0x2406ba(0x163)),!![];}}else{if(![_0x2406ba(0xdb)][_0x2406ba(0x290)](_0x5ac449)){if(currentUser[_0x2406ba(0xb8)]<_0x24e912)return showPaymentNotification(_0x2406ba(0x151)),![];}else{if(currentUser['freeCredits']<_0x24e912&&currentUser['paidCredits']<_0x24e912)return showPaymentNotification('Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20pour\x20envoyer\x20ce\x20message.'),![];}}return!![];}async function processAndDisplayAIResponse(_0x50ca3d,_0x5a4c7c,_0xf093ec){const _0x2d3722=_0x2371a4;let _0x17b803;if(_0x5a4c7c===_0x2d3722(0xdb)||_0x5a4c7c===_0x2d3722(0x1c1)&&currentUser[_0x2d3722(0xb8)]<_0xf093ec){const _0x1f25bb=_0x50ca3d[_0x2d3722(0x185)](/\s+/);_0x1f25bb[_0x2d3722(0x1c3)]>FREE_MODEL_MAX_RESPONSE?(_0x50ca3d=_0x1f25bb[_0x2d3722(0x29e)](0x0,FREE_MODEL_MAX_RESPONSE)[_0x2d3722(0xbf)]('\x20')+_0x2d3722(0xb1),showNotification(_0x2d3722(0x15a)+FREE_MODEL_MAX_RESPONSE+_0x2d3722(0x1a4),_0x2d3722(0x163)),_0x17b803=addMessageToChat('ai',_0x50ca3d),showUpgradeButton(_0x17b803)):_0x17b803=addMessageToChat('ai',_0x50ca3d);}else _0x17b803=addMessageToChat('ai',_0x50ca3d);return _0x17b803;}function updateConversation(_0x41e2c8,_0x4ade4e){const _0x920e2=_0x2371a4;currentConversation[_0x920e2(0x132)]({'sender':'user','content':_0x41e2c8}),currentConversation[_0x920e2(0x132)]({'sender':'ai','content':_0x4ade4e});}async function handleImageGeneration(_0x5039a7,_0x230313,_0xba3ae1){const _0x1d6af=_0x2371a4;try{if(!_0xba3ae1[_0x1d6af(0x12f)]){showPaymentNotification(_0xba3ae1[_0x1d6af(0x187)]);return;}const _0x53392f=document[_0x1d6af(0xd9)]('imageSizeSelect')['value'],_0x57949e=getRecraftStyle(_0x230313),_0x4d70f5=addLoadingMessage(_0x1d6af(0x219)),_0x46180b=await fetch(_0x1d6af(0x2ab),{'method':'POST','headers':{'Content-Type':_0x1d6af(0x1d8),'Authorization':_0x1d6af(0x2c6)+RECRAFT_API_KEY},'body':JSON[_0x1d6af(0x115)]({'prompt':_0x5039a7,'style':_0x57949e,'size':_0x53392f,'n':0x1})});_0x4d70f5['remove']();if(!_0x46180b['ok'])throw new Error(_0x1d6af(0x104)+_0x46180b['status']);const _0x38c987=await _0x46180b['json']();if(!_0x38c987[_0x1d6af(0x2e3)]||!_0x38c987[_0x1d6af(0x2e3)][0x0]||!_0x38c987['data'][0x0][_0x1d6af(0x236)])throw new Error(_0x1d6af(0x137));const _0xe278d4=_0x38c987['data'][0x0][_0x1d6af(0x236)],_0x201941=document[_0x1d6af(0x147)](_0x1d6af(0x2dd));_0x201941[_0x1d6af(0x1f1)]=_0x1d6af(0x14b),_0x201941[_0x1d6af(0x184)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0xe278d4+_0x1d6af(0x2be)+_0x5039a7+'\x22</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-metadata\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>Style:\x20'+_0x57949e[_0x1d6af(0x203)]('_','\x20')[_0x1d6af(0x1e5)]()+_0x1d6af(0x213)+_0x53392f+_0x1d6af(0x177)+(_0xba3ae1[_0x1d6af(0x1ea)]?_0x1d6af(0xf1):_0x1d6af(0x90))+_0x1d6af(0xbb)+_0xe278d4+'\x27,\x20\x27image-generee.png\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-download\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyImage(\x27'+_0xe278d4+_0x1d6af(0x141)+_0xe278d4+_0x1d6af(0x2d3),document[_0x1d6af(0xd9)](_0x1d6af(0xda))['appendChild'](_0x201941);if(_0xba3ae1[_0x1d6af(0x1ea)]){await incrementImageGenerationCount(currentUser[_0x1d6af(0x28b)]);const _0x6fdfcf=await getImageGenerationCount(currentUser[_0x1d6af(0x28b)]);showNotification('Image\x20générée\x20avec\x20succès!\x20Il\x20vous\x20reste\x20'+(0x5-_0x6fdfcf)+'\x20générations\x20gratuites\x20aujourd\x27hui.',_0x1d6af(0x2d6));}else await updateCredits(_0x230313,0x5),showNotification('Image\x20générée\x20avec\x20succès!\x205\x20crédits\x20ont\x20été\x20déduits.',_0x1d6af(0x2d6));document[_0x1d6af(0xd9)](_0x1d6af(0x192))['value']='',resetTextareaHeight();}catch(_0x4afb80){console[_0x1d6af(0x92)]('Erreur\x20lors\x20de\x20la\x20génération\x20d\x27image:',_0x4afb80),showNotification(_0x1d6af(0xe9),_0x1d6af(0x92));}}function createUserMessageElement(_0x241967,_0x23f359,_0x5c54c6,_0x4eb202){const _0x1fceea=_0x2371a4,_0x3666a3=document[_0x1fceea(0x147)]('div');_0x3666a3[_0x1fceea(0x1f1)]=_0x1fceea(0x2ac);_0x23f359[_0x1fceea(0x1c3)]>0x0&&_0x3666a3['appendChild'](createPinnedFilesElement(_0x23f359));_0x5c54c6[_0x1fceea(0x1c3)]>0x0&&_0x3666a3[_0x1fceea(0x195)](createPinnedResponsesElement(_0x5c54c6));_0x4eb202&&_0x3666a3[_0x1fceea(0x195)](createPinnedPromptElement(_0x4eb202));if(_0x241967){const _0x113a41=document[_0x1fceea(0x147)]('p');_0x113a41[_0x1fceea(0x1cd)]=_0x241967,_0x3666a3[_0x1fceea(0x195)](_0x113a41);}return _0x3666a3;}function addLoadingMessage(_0x407934){const _0x5bbabb=_0x2371a4,_0x4df17c=document[_0x5bbabb(0x147)]('div');return _0x4df17c[_0x5bbabb(0x1f1)]='message\x20ai-message\x20loading-message',_0x4df17c[_0x5bbabb(0x184)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loading-spinner\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x407934+'</p>\x0a\x20\x20\x20\x20',document['getElementById']('messageContainer')[_0x5bbabb(0x195)](_0x4df17c),_0x4df17c;}async function downloadImage(_0x3a88e4,_0xfed3dd){const _0x248b88=_0x2371a4;try{const _0x31e3e5=await fetch(_0x3a88e4),_0x383ad0=await _0x31e3e5[_0x248b88(0x246)](),_0x1a7be7=window['URL'][_0x248b88(0x23d)](_0x383ad0),_0x3e7415=document[_0x248b88(0x147)]('a');_0x3e7415[_0x248b88(0xf0)]=_0x1a7be7,_0x3e7415['download']=_0xfed3dd,document[_0x248b88(0x1bd)]['appendChild'](_0x3e7415),_0x3e7415[_0x248b88(0xe7)](),document[_0x248b88(0x1bd)][_0x248b88(0x1e6)](_0x3e7415),window[_0x248b88(0x17d)][_0x248b88(0x25a)](_0x1a7be7);}catch(_0x4ecef8){showNotification(_0x248b88(0xf5),_0x248b88(0x92));}}function copyImage(_0xd64a4f){const _0x1b286c=_0x2371a4;navigator[_0x1b286c(0x171)][_0x1b286c(0xdf)](_0xd64a4f)[_0x1b286c(0x18a)](()=>showNotification(_0x1b286c(0x2b5),_0x1b286c(0x2d6)))[_0x1b286c(0x2bb)](()=>showNotification(_0x1b286c(0x1b3),_0x1b286c(0x92)));}function shareImage(_0x8d25a8){const _0x125d89=_0x2371a4;navigator['share']?navigator[_0x125d89(0x1f8)]({'title':'Image\x20générée\x20par\x20Eduque\x20moi','text':_0x125d89(0x2b2),'url':_0x8d25a8})[_0x125d89(0x18a)](()=>showNotification(_0x125d89(0x25f),_0x125d89(0x2d6)))[_0x125d89(0x2bb)](_0x3836af=>{const _0x527d25=_0x125d89;console[_0x527d25(0x92)](_0x527d25(0x129),_0x3836af),showNotification(_0x527d25(0xfd),_0x527d25(0x92));}):copyImage(_0x8d25a8);}function pinResponse(_0x128186){const _0x315f1d=_0x2371a4,_0xd65bb9=_0x128186[_0x315f1d(0x2b8)](_0x315f1d(0x12e))[_0x315f1d(0x1cd)],_0x3acc4c=_0xd65bb9[_0x315f1d(0x1c3)]>0x32?_0xd65bb9['substring'](0x0,0x32)+_0x315f1d(0x293):_0xd65bb9;pinnedResponses[_0x315f1d(0x132)]({'text':_0xd65bb9,'displayText':_0x3acc4c}),updatePinnedItems();}function updatePinnedItems(){const _0x470469=_0x2371a4,_0x3edf7d=document[_0x470469(0xd9)]('pinnedItems');_0x3edf7d[_0x470469(0x184)]='',pinnedFiles[_0x470469(0x102)]((_0x1277f6,_0x535fb5)=>{const _0x3b63db=_0x470469,_0x3c0c37=document[_0x3b63db(0x147)](_0x3b63db(0x2dd));_0x3c0c37[_0x3b63db(0x1f1)]='pinned-item',_0x3c0c37[_0x3b63db(0x26d)]('data-type',_0x3b63db(0x156)),_0x3c0c37[_0x3b63db(0x184)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>'+(_0x1277f6[_0x3b63db(0x11d)]['startsWith'](_0x3b63db(0x200))?_0x3b63db(0x1de):'📄')+_0x3b63db(0x1a2)+_0x1277f6['name']+'\x22>'+_0x1277f6[_0x3b63db(0x2b3)]+_0x3b63db(0x249)+_0x535fb5+_0x3b63db(0x241),_0x3edf7d[_0x3b63db(0x195)](_0x3c0c37);}),pinnedResponses[_0x470469(0x102)]((_0x5b4934,_0x305e1a)=>{const _0x441856=_0x470469,_0xcddc72=document['createElement'](_0x441856(0x2dd));_0xcddc72[_0x441856(0x1f1)]=_0x441856(0x2cb),_0xcddc72[_0x441856(0x26d)](_0x441856(0xba),_0x441856(0xc3)),_0xcddc72['innerHTML']=_0x441856(0x24c)+_0x5b4934[_0x441856(0x25b)]+'\x22>'+_0x5b4934[_0x441856(0x114)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27response\x27,\x20'+_0x305e1a+')\x22>❌</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x3edf7d['appendChild'](_0xcddc72);});if(pinnedPrompt){const _0x50d3c6=document[_0x470469(0x147)](_0x470469(0x2dd));_0x50d3c6[_0x470469(0x1f1)]=_0x470469(0x2cb),_0x50d3c6['setAttribute']('data-type','prompt'),_0x50d3c6['innerHTML']=_0x470469(0x2c4)+pinnedPrompt['title']+'\x22>'+pinnedPrompt[_0x470469(0xc9)]+_0x470469(0x199),_0x3edf7d[_0x470469(0x195)](_0x50d3c6);}}function removePinnedItem(_0x239568,_0x4badee){const _0x1821da=_0x2371a4;if(_0x239568===_0x1821da(0x156))pinnedFiles[_0x1821da(0x1bc)](_0x4badee,0x1);else{if(_0x239568===_0x1821da(0xc3))pinnedResponses['splice'](_0x4badee,0x1);else _0x239568==='prompt'&&(pinnedPrompt=null);}updatePinnedItems();}function replyToMessage(_0xb592bb){const _0x1eb691=_0x2371a4,_0x59bde4=_0xb592bb[_0x1eb691(0x2b8)](_0x1eb691(0x12e))[_0x1eb691(0x1cd)],_0x469d77=document['getElementById']('userInput');_0x469d77[_0x1eb691(0x2d7)]='>\x20'+_0x59bde4+'\x0a\x0a',_0x469d77[_0x1eb691(0x297)](),_0x469d77[_0x1eb691(0x257)](_0x469d77['value'][_0x1eb691(0x1c3)],_0x469d77[_0x1eb691(0x2d7)][_0x1eb691(0x1c3)]);}function readFileAsBase64(_0x26f0b1){return new Promise((_0x38046d,_0x50d38f)=>{const _0x3b2143=_0x1058,_0x4d5f22=new FileReader();_0x4d5f22['onload']=()=>_0x38046d(_0x4d5f22[_0x3b2143(0x2c5)][_0x3b2143(0x185)](',')[0x1]),_0x4d5f22[_0x3b2143(0x29a)]=_0x50d38f,_0x4d5f22[_0x3b2143(0x19e)](_0x26f0b1);});}function hasEnoughCredits(_0xf54c5d,_0x12fecb){const _0x48942e=_0x2371a4,_0x33cb6d=_0x12fecb>0x0?_0x12fecb:0x1;return _0xf54c5d===_0x48942e(0x1c1)||_0xf54c5d==='gemini-1.0-pro'?currentUser[_0x48942e(0xdd)]>=_0x33cb6d||currentUser[_0x48942e(0xb8)]>=_0x33cb6d||hasValidSubscription():currentUser[_0x48942e(0xb8)]>=_0x33cb6d||hasValidSubscription();}async function updateCredits(_0x40837c,_0x4ad223){const _0x3c55b3=_0x2371a4;if(hasValidSubscription()&&!isImageGenerationModel(_0x40837c))return;const _0x2cbe42=db[_0x3c55b3(0x22c)]('users/'+currentUser['username']);try{await _0x2cbe42['transaction'](_0x4b92ac=>{const _0x16a7b0=_0x3c55b3;if(_0x4b92ac){if(isImageGenerationModel(_0x40837c)){if(hasValidSubscription()){const _0x5010b0=_0x4b92ac[_0x16a7b0(0x2e0)]?.[_0x16a7b0(0x1a7)]||0x0;_0x5010b0>=0x5&&(_0x4b92ac['paidCredits']>=0x5?_0x4b92ac[_0x16a7b0(0xb8)]-=0x5:_0x4b92ac['freeCredits']=Math[_0x16a7b0(0xa0)](0x0,_0x4b92ac[_0x16a7b0(0xdd)]-0x5));}else _0x4b92ac['paidCredits']>=0x5?_0x4b92ac['paidCredits']-=0x5:_0x4b92ac[_0x16a7b0(0xdd)]=Math['max'](0x0,_0x4b92ac[_0x16a7b0(0xdd)]-0x5);}else{if(!hasValidSubscription()){if(_0x40837c===_0x16a7b0(0x1c1))_0x4b92ac['paidCredits']>=_0x4ad223?_0x4b92ac[_0x16a7b0(0xb8)]-=_0x4ad223:_0x4b92ac['freeCredits']-=_0x4ad223;else{if(_0x40837c===_0x16a7b0(0xdb)){if(_0x4b92ac[_0x16a7b0(0xdd)]>=_0x4ad223)_0x4b92ac['freeCredits']-=_0x4ad223;else{const _0x53d202=_0x4ad223-_0x4b92ac['freeCredits'];_0x4b92ac[_0x16a7b0(0xdd)]=0x0,_0x4b92ac['paidCredits']=Math[_0x16a7b0(0xa0)](0x0,_0x4b92ac[_0x16a7b0(0xb8)]-_0x53d202);}}else _0x4b92ac[_0x16a7b0(0xb8)]=Math[_0x16a7b0(0xa0)](0x0,_0x4b92ac['paidCredits']-_0x4ad223);}}}_0x4b92ac[_0x16a7b0(0xdd)]=Math[_0x16a7b0(0xa0)](0x0,_0x4b92ac[_0x16a7b0(0xdd)]),_0x4b92ac[_0x16a7b0(0xb8)]=Math[_0x16a7b0(0xa0)](0x0,_0x4b92ac[_0x16a7b0(0xb8)]);}return _0x4b92ac;});const _0x58c878=await _0x2cbe42[_0x3c55b3(0x153)]('value'),_0x20472b=_0x58c878[_0x3c55b3(0x143)]();_0x20472b&&(currentUser['freeCredits']=_0x20472b[_0x3c55b3(0xdd)],currentUser[_0x3c55b3(0xb8)]=_0x20472b[_0x3c55b3(0xb8)],document[_0x3c55b3(0xd9)]('freeCredits')[_0x3c55b3(0x1cd)]=currentUser['freeCredits'],document['getElementById'](_0x3c55b3(0xb8))[_0x3c55b3(0x1cd)]=currentUser['paidCredits'],currentUser[_0x3c55b3(0xdd)]===0x0&&currentUser[_0x3c55b3(0xb8)]<0x5&&showNotification(_0x3c55b3(0x10f),_0x3c55b3(0x14c)));}catch(_0x2fe5a8){console[_0x3c55b3(0x92)]('Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20des\x20crédits:',_0x2fe5a8),showNotification('Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20des\x20crédits','error');}}async function addCreditsToUser(_0x7631b9){const _0x440e1b=_0x2371a4,_0x287e70=db[_0x440e1b(0x22c)]('users/'+currentUser[_0x440e1b(0x28b)]);await _0x287e70[_0x440e1b(0x211)](_0x5265d4=>{const _0x4fa2f3=_0x440e1b;return _0x5265d4&&(_0x5265d4[_0x4fa2f3(0xb8)]+=_0x7631b9),_0x5265d4;}),currentUser[_0x440e1b(0xb8)]=(await _0x287e70[_0x440e1b(0x20d)](_0x440e1b(0xb8))[_0x440e1b(0x153)]('value'))[_0x440e1b(0x143)](),document[_0x440e1b(0xd9)]('paidCredits')['textContent']=currentUser[_0x440e1b(0xb8)];}function copyResponse(_0x474512){const _0x6f1996=_0x2371a4,_0x582b4b=_0x474512[_0x6f1996(0x2b8)](_0x6f1996(0x12e))[_0x6f1996(0x1cd)];navigator[_0x6f1996(0x171)][_0x6f1996(0xdf)](_0x582b4b)[_0x6f1996(0x18a)](()=>{const _0x516b16=_0x6f1996;showNotification(_0x516b16(0x1d0),_0x516b16(0x2d6));});}async function exportResponse(_0x1fb45a,_0x4fa4f4){const _0x3e15d4=_0x2371a4,_0x4d0358=_0x1fb45a['querySelector'](_0x3e15d4(0x12e))['textContent'];if(_0x4fa4f4===_0x3e15d4(0x28a)){const _0x49ce73=await generateWordDoc(_0x4d0358);saveAs(_0x49ce73,_0x3e15d4(0x26c));}else{if(_0x4fa4f4===_0x3e15d4(0x9d)){const _0x463fb8=await generatePDF(_0x4d0358);saveAs(_0x463fb8,_0x3e15d4(0x284));}}showNotification('Export\x20en\x20'+_0x4fa4f4[_0x3e15d4(0x1e5)]()+_0x3e15d4(0x2a6),_0x3e15d4(0x2d6));}async function generateWordDoc(_0x297669){const _0x2df980=_0x2371a4,_0x528e91=_0x2df980(0xde)+_0x297669+'</w:t>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:r>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</w:document>\x0a\x20\x20\x20\x20',_0x38e0ce=new PizZip();_0x38e0ce[_0x2df980(0x156)](_0x2df980(0x1af),_0x528e91);const _0x262e68=await _0x38e0ce[_0x2df980(0x162)]({'type':_0x2df980(0x246),'mimeType':_0x2df980(0x1cc)});return _0x262e68;}function generatePDF(_0x10aebc){const _0x32ba3f=_0x2371a4,{jsPDF:_0x35e85b}=window[_0x32ba3f(0x133)],_0x2a916d=new _0x35e85b();_0x2a916d[_0x32ba3f(0x1c8)](0x12),_0x2a916d[_0x32ba3f(0x25b)]('',0x14,0x14),_0x2a916d['setFontSize'](0xc);const _0x20d350=_0x2a916d[_0x32ba3f(0x1b1)](_0x10aebc,0xaa);let _0x14d7ad=0x1e;const _0x3a33fb=_0x2a916d['internal']['pageSize'][_0x32ba3f(0x29f)];for(let _0x57110f=0x0;_0x57110f<_0x20d350['length'];_0x57110f++){_0x14d7ad>_0x3a33fb-0x14&&(_0x2a916d[_0x32ba3f(0x245)](),_0x14d7ad=0x14),_0x2a916d['text'](_0x20d350[_0x57110f],0x14,_0x14d7ad),_0x14d7ad+=0x7;}return _0x2a916d[_0x32ba3f(0x26b)](_0x32ba3f(0x246));}function shareResponse(_0x591ac9){const _0x51ee2c=_0x2371a4,_0x39e810=_0x591ac9[_0x51ee2c(0x2b8)](_0x51ee2c(0x12e))[_0x51ee2c(0x1cd)];navigator[_0x51ee2c(0x1f8)]?navigator[_0x51ee2c(0x1f8)]({'title':'','text':_0x39e810})['then'](()=>{const _0x51cb61=_0x51ee2c;showNotification(_0x51cb61(0x218),_0x51cb61(0x2d6));})[_0x51ee2c(0x2bb)](_0x12de71=>{const _0x36df06=_0x51ee2c;console[_0x36df06(0x92)](_0x36df06(0x129),_0x12de71),showNotification(_0x36df06(0x265),_0x36df06(0x92));}):showNotification(_0x51ee2c(0x2af),_0x51ee2c(0x92));}function hasValidSubscription(){const _0x6505e3=_0x2371a4;if(!currentUser[_0x6505e3(0xa8)]||!currentUser[_0x6505e3(0x166)])return![];return new Date()<new Date(currentUser[_0x6505e3(0x166)]);}function buySubscription(){const _0x1d2e78=_0x2371a4,_0x593667=document[_0x1d2e78(0xd9)](_0x1d2e78(0xa6))[_0x1d2e78(0x2d7)];if(!_0x593667){showNotification(_0x1d2e78(0x16a),_0x1d2e78(0x92));return;}const _0x4d9b26={'24h':0x1f4,'3d':0x4b0,'7d':0x960,'30d':0x1f40,'3m':0x4e20},_0xd518fe=_0x4d9b26[_0x593667];var _0xe75fe0=FedaPay['init']({'public_key':'pk_live_TfSz212W0xSMKK7oPEogkFmp','transaction':{'amount':_0xd518fe,'description':_0x1d2e78(0x2c0)+_0x593667+_0x1d2e78(0x234)},'customer':{'email':_0x1d2e78(0x123)},'onComplete':async function(_0x731fe8){const _0xd3cdcb=_0x1d2e78;if(_0x731fe8['reason']===FedaPay[_0xd3cdcb(0x182)]){const _0x2c0dd5={'id':_0x731fe8['id'],'description':_0xd3cdcb(0x2c0)+_0x593667+_0xd3cdcb(0x234),'amount':_0xd518fe};await activateSubscription(_0x593667),showInvoiceDetails(_0x2c0dd5),showNotification('Forfait\x20'+_0x593667+'\x20activé\x20avec\x20succès\x20!',_0xd3cdcb(0x2d6)),await checkFirstPurchaseAndRewardReferrer(currentUser['username'],_0xd518fe);}else showNotification(_0xd3cdcb(0x24d),'error');}});_0xe75fe0[_0x1d2e78(0x289)]();}async function activateSubscription(_0x559c74){const _0x40b155=_0x2371a4,_0x1524b8={'24h':0x1,'3d':0x3,'7d':0x7,'30d':0x1e,'3m':0x5a},_0x385ff8=_0x1524b8[_0x559c74],_0x25c31f=new Date();_0x25c31f[_0x40b155(0xe1)](_0x25c31f['getDate']()+_0x385ff8),currentUser[_0x40b155(0xa8)]=_0x559c74,currentUser[_0x40b155(0x166)]=_0x25c31f[_0x40b155(0x25e)](),await syncUserData(),document[_0x40b155(0xd9)]('subscription')['textContent']=_0x559c74;}function buyCredits(){const _0x456b85=_0x2371a4,_0x1442c2=document['getElementById']('creditSelect')[_0x456b85(0x2d7)];if(!_0x1442c2){showNotification(_0x456b85(0x8b),_0x456b85(0x92));return;}const _0x28bc9a={'10':0xc8,'100':0x3e8,'500':0x1194,'1000':0x1f40},_0x12c5d7=_0x28bc9a[_0x1442c2];var _0x2a8cc9=FedaPay[_0x456b85(0x248)]({'public_key':'pk_live_TfSz212W0xSMKK7oPEogkFmp','transaction':{'amount':_0x12c5d7,'description':_0x456b85(0x100)+_0x1442c2+_0x456b85(0x138)},'customer':{'email':_0x456b85(0x123)},'onComplete':async function(_0x5f46a8){const _0xe863fe=_0x456b85;if(_0x5f46a8[_0xe863fe(0x194)]===FedaPay[_0xe863fe(0x182)]){const _0x1b6d62={'id':_0x5f46a8['id'],'description':_0xe863fe(0x100)+_0x1442c2+_0xe863fe(0x138),'amount':_0x12c5d7};await addCreditsToUser(parseInt(_0x1442c2)),showInvoiceDetails(_0x1b6d62),showNotification(_0x1442c2+_0xe863fe(0x2dc),_0xe863fe(0x2d6)),await checkFirstPurchaseAndRewardReferrer(currentUser[_0xe863fe(0x28b)],_0x12c5d7);}else showNotification(_0xe863fe(0x24d),'error');}});_0x2a8cc9[_0x456b85(0x289)]();}async function checkFirstPurchaseAndRewardReferrer(_0x57ef8c,_0x2afd7c){const _0x131709=_0x2371a4,_0x476f37=db['ref']('users/'+_0x57ef8c),_0x57ac19=await _0x476f37[_0x131709(0x153)](_0x131709(0x2d7)),_0x3eaf11=_0x57ac19[_0x131709(0x143)]();if(_0x3eaf11&&!_0x3eaf11[_0x131709(0x22a)]){await _0x476f37[_0x131709(0x14e)]({'firstPurchase':!![]});if(_0x3eaf11[_0x131709(0x106)]){const _0x125643=await db['ref']('users')['orderByChild'](_0x131709(0x8d))[_0x131709(0x1dc)](_0x3eaf11[_0x131709(0x106)])['once'](_0x131709(0x2d7)),_0x49c8f9=_0x125643['val']();if(_0x49c8f9){const _0x5b0e27=Object[_0x131709(0xfb)](_0x49c8f9)[0x0],_0x5aa5fa=db['ref'](_0x131709(0x20b)+_0x5b0e27);await _0x5aa5fa[_0x131709(0x211)](_0x100236=>{const _0x2f0898=_0x131709;return _0x100236&&(_0x100236[_0x2f0898(0xb8)]=(_0x100236[_0x2f0898(0xb8)]||0x0)+0xa,_0x100236[_0x2f0898(0xe0)]&&_0x100236[_0x2f0898(0xe0)][_0x57ef8c]&&(_0x100236[_0x2f0898(0xe0)][_0x57ef8c][_0x2f0898(0xa4)]=!![])),_0x100236;}),await updateReferralStats(_0x5b0e27),showNotification(_0x131709(0xec)+_0x57ef8c+_0x131709(0x148),_0x131709(0x2d6));}}}}function getShareMessage(_0x2e9c2){const _0x44fa2f=_0x2371a4;return encodeURIComponent(_0x44fa2f(0x1ab)+_0x2e9c2+_0x44fa2f(0x1a1));}function shareOnFacebook(){const _0xef82d7=_0x2371a4,_0x3f0ed9=document[_0xef82d7(0xd9)](_0xef82d7(0x2c8))['value'],_0x44af66=getShareMessage(_0x3f0ed9);window[_0xef82d7(0x289)]('https://www.facebook.com/sharer/sharer.php?u='+_0x3f0ed9+_0xef82d7(0xfa)+_0x44af66,_0xef82d7(0x264));}function shareOnTwitter(){const _0x3e449b=_0x2371a4,_0x147792=document[_0x3e449b(0xd9)](_0x3e449b(0x2c8))[_0x3e449b(0x2d7)],_0x465c27=getShareMessage(_0x147792);window[_0x3e449b(0x289)]('https://twitter.com/intent/tweet?url='+_0x147792+_0x3e449b(0x150)+_0x465c27,'_blank');}function shareOnLinkedIn(){const _0x1d9805=_0x2371a4,_0xa43ee6=document['getElementById'](_0x1d9805(0x2c8))['value'],_0x273f5d=getShareMessage(_0xa43ee6);window[_0x1d9805(0x289)]('https://www.linkedin.com/shareArticle?mini=true&url='+_0xa43ee6+_0x1d9805(0x1f5)+_0x273f5d,_0x1d9805(0x264));}function shareOnWhatsApp(){const _0x2df3a3=_0x2371a4,_0x3bac5d=document[_0x2df3a3(0xd9)](_0x2df3a3(0x2c8))[_0x2df3a3(0x2d7)],_0x5107c3=getShareMessage(_0x3bac5d);window[_0x2df3a3(0x289)](_0x2df3a3(0x295)+_0x5107c3,_0x2df3a3(0x264));}function copyReferralLink(){const _0x169cfc=_0x2371a4,_0x4584c8=document[_0x169cfc(0xd9)]('referralLink');_0x4584c8[_0x169cfc(0x134)](),document['execCommand'](_0x169cfc(0x279)),showNotification('Lien\x20de\x20partage\x20copié\x20!',_0x169cfc(0x2d6));}function showNotification(_0x5bfe91,_0x4c0d4a){const _0x1be29a=_0x2371a4,_0x4df9a8=document[_0x1be29a(0x147)](_0x1be29a(0x2dd));_0x4df9a8['textContent']=_0x5bfe91,_0x4df9a8['className']='notification\x20'+_0x4c0d4a,document[_0x1be29a(0x1bd)]['appendChild'](_0x4df9a8),setTimeout(()=>{const _0x4028a4=_0x1be29a;_0x4df9a8[_0x4028a4(0x1fa)][_0x4028a4(0xd0)](_0x4028a4(0x93)),setTimeout(()=>{const _0x177f74=_0x4028a4;_0x4df9a8[_0x177f74(0x1fa)][_0x177f74(0x9e)](_0x177f74(0x93)),setTimeout(()=>{const _0x29ff92=_0x177f74;_0x4df9a8[_0x29ff92(0x9e)]();},0x12c);},0xbb8);},0x64);}function showPaymentNotification(_0x12af00){const _0x20d8f2=_0x2371a4,_0x1336d3=document[_0x20d8f2(0x147)]('div');_0x1336d3[_0x20d8f2(0x1f1)]=_0x20d8f2(0xb6),_0x1336d3['innerHTML']=_0x20d8f2(0x176)+_0x12af00+_0x20d8f2(0x227),document[_0x20d8f2(0x1bd)]['appendChild'](_0x1336d3),setTimeout(()=>{const _0x2a3248=_0x20d8f2;_0x1336d3['classList'][_0x2a3248(0xd0)](_0x2a3248(0x93)),setTimeout(()=>{const _0xb2f0d4=_0x2a3248;_0x1336d3[_0xb2f0d4(0x1fa)][_0xb2f0d4(0x9e)](_0xb2f0d4(0x93)),setTimeout(()=>{const _0x4f5843=_0xb2f0d4;_0x1336d3[_0x4f5843(0x9e)]();},0x12c);},0x2710);},0x64);}async function showPaymentNotificationWithFreeOption(_0x1155a6){return new Promise(_0x2199b0=>{const _0x159300=_0x1058,_0x1a5866=document[_0x159300(0x147)]('div');_0x1a5866[_0x159300(0x1f1)]=_0x159300(0xb6),_0x1a5866[_0x159300(0x184)]=_0x159300(0x2a4)+_0x1155a6+'<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27free\x27)\x22>Utiliser\x20le\x20modèle\x20gratuit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27subscription\x27)\x22>Acheter\x20un\x20abonnement</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27credits\x27)\x22>Acheter\x20des\x20crédits</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27cancel\x27)\x22>Annuler</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x159300(0x1bd)]['appendChild'](_0x1a5866),window[_0x159300(0x1e3)]=function(_0xcd72eb){_0x1a5866['remove'](),_0x2199b0(_0xcd72eb);},setTimeout(()=>{const _0x49fbb6=_0x159300;_0x1a5866['classList'][_0x49fbb6(0xd0)](_0x49fbb6(0x93));},0x64);});}function toggleTheme(){const _0x4f560f=_0x2371a4,_0xea4f26=document[_0x4f560f(0x1bd)],_0x1f530f=_0xea4f26['getAttribute']('data-theme'),_0x3ae3a3=_0x1f530f===_0x4f560f(0x215)?_0x4f560f(0x2d0):_0x4f560f(0x215);_0xea4f26['setAttribute']('data-theme',_0x3ae3a3),localStorage[_0x4f560f(0x2e2)](_0x4f560f(0x286),_0x3ae3a3),updateThemeIcon(_0x3ae3a3),document[_0x4f560f(0x2b8)](_0x4f560f(0x105))[_0x4f560f(0x26d)](_0x4f560f(0x1f4),_0x3ae3a3);}function updateThemeIcon(_0x4f00a1){const _0x119bcd=_0x2371a4,_0x5d93cc=document[_0x119bcd(0x2b8)]('.theme-toggle\x20i');_0x5d93cc[_0x119bcd(0x1f1)]=_0x4f00a1===_0x119bcd(0x215)?_0x119bcd(0x204):_0x119bcd(0x220);}function toggleSidebar(){const _0x17e44a=_0x2371a4,_0x238618=document['querySelector'](_0x17e44a(0x24a)),_0x3ec60c=document[_0x17e44a(0x2b8)]('.chat-container');_0x238618['classList'][_0x17e44a(0xee)](_0x17e44a(0x164)),_0x3ec60c[_0x17e44a(0x1fa)]['toggle'](_0x17e44a(0x120)),localStorage[_0x17e44a(0x2e2)]('sidebarState',_0x238618[_0x17e44a(0x1fa)]['contains'](_0x17e44a(0x164)));}function saveConversation(){const _0x432dad=_0x2371a4;if(!currentUser)return;const _0x2c56a3=currentConversation['id']||Date['now']()[_0x432dad(0x1be)]();conversations[_0x2c56a3]=currentConversation,currentConversation['id']=_0x2c56a3,localStorage[_0x432dad(0x2e2)](_0x432dad(0x1a5)+currentUser[_0x432dad(0x28b)],JSON['stringify'](conversations)),updateConversationHistory();}function loadConversationHistory(){const _0x2b39f2=_0x2371a4;if(!currentUser)return;const _0x380ab3=localStorage[_0x2b39f2(0x172)](_0x2b39f2(0x1a5)+currentUser[_0x2b39f2(0x28b)]);_0x380ab3&&(conversations=JSON['parse'](_0x380ab3),updateConversationHistory());}function updateConversationHistory(){const _0x43f235=_0x2371a4,_0xb07244=document[_0x43f235(0xd9)](_0x43f235(0x18b));_0xb07244[_0x43f235(0x184)]='';const _0x2040b2=Object['keys'](conversations)['sort']((_0x31ea4d,_0x3e2836)=>parseInt(_0x3e2836)-parseInt(_0x31ea4d));_0x2040b2['forEach'](_0x8d13d1=>{const _0x192b9e=_0x43f235,_0x29c312=conversations[_0x8d13d1],_0x3a47ba=document[_0x192b9e(0x147)](_0x192b9e(0x2dd));_0x3a47ba[_0x192b9e(0x1f1)]=_0x192b9e(0x1b2);const _0x1cf609=document[_0x192b9e(0x147)](_0x192b9e(0x158));_0x1cf609['textContent']=_0x192b9e(0x125)+new Date(parseInt(_0x8d13d1))[_0x192b9e(0xeb)](),_0x1cf609[_0x192b9e(0xf3)]=()=>loadConversation(_0x8d13d1);const _0x3a2cf4=document['createElement']('i');_0x3a2cf4['className']=_0x192b9e(0xc1),_0x3a2cf4['onclick']=_0x121da5=>{const _0x101155=_0x192b9e;_0x121da5[_0x101155(0x2cc)](),deleteConversation(_0x8d13d1);},_0x3a47ba[_0x192b9e(0x195)](_0x1cf609),_0x3a47ba['appendChild'](_0x3a2cf4),_0xb07244[_0x192b9e(0x195)](_0x3a47ba);});}function deleteConversation(_0x2a637b){const _0x46969f=_0x2371a4;confirm('Êtes-vous\x20sûr\x20de\x20vouloir\x20supprimer\x20cette\x20conversation\x20?')&&(delete conversations[_0x2a637b],localStorage[_0x46969f(0x2e2)](_0x46969f(0x1a5)+currentUser[_0x46969f(0x28b)],JSON['stringify'](conversations)),updateConversationHistory());}function createNewConversation(){const _0x5532f5=_0x2371a4;currentConversation[_0x5532f5(0x1c3)]>0x0&&saveConversation();currentConversation=[];const _0x5e7e14=document[_0x5532f5(0xd9)](_0x5532f5(0xda));_0x5e7e14[_0x5532f5(0x184)]='',updateConversationHistory(),addMessageToChat('ai',_0x5532f5(0xc2)),_0x5e7e14[_0x5532f5(0xcb)]=0x0,document[_0x5532f5(0xd9)](_0x5532f5(0x192))[_0x5532f5(0x297)]();}function loadConversation(_0xbcca0b){const _0x5b928a=_0x2371a4;currentConversation[_0x5b928a(0x1c3)]>0x0&&currentConversation['id']!==_0xbcca0b&&saveConversation();currentConversation=conversations[_0xbcca0b],currentConversation['id']=_0xbcca0b;const _0x246a88=document[_0x5b928a(0xd9)](_0x5b928a(0xda));_0x246a88[_0x5b928a(0x184)]='',currentConversation['forEach'](_0x164273=>{const _0xefcc82=_0x5b928a;addMessageToChat(_0x164273[_0xefcc82(0x1f2)],_0x164273[_0xefcc82(0x1f4)]);}),_0x246a88[_0x5b928a(0xcb)]=0x0;}async function syncUserData(){const _0x51b4b1=_0x2371a4;if(!currentUser)return;const _0x2df70e={'freeCredits':currentUser[_0x51b4b1(0xdd)]||0x0,'paidCredits':currentUser['paidCredits']||0x0,'lastFreeCreditsReset':currentUser['lastFreeCreditsReset']||new Date()[_0x51b4b1(0x25e)]()};currentUser[_0x51b4b1(0xa8)]&&(_0x2df70e['subscription']=currentUser[_0x51b4b1(0xa8)]);currentUser[_0x51b4b1(0x166)]&&(_0x2df70e['subscriptionEndDate']=currentUser[_0x51b4b1(0x166)]);const _0x1b71ae=db[_0x51b4b1(0x22c)](_0x51b4b1(0x20b)+currentUser[_0x51b4b1(0x28b)]);try{await _0x1b71ae[_0x51b4b1(0x14e)](_0x2df70e),console[_0x51b4b1(0x97)](_0x51b4b1(0x191),_0x2df70e);}catch(_0xfb24cf){console[_0x51b4b1(0x92)]('Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20des\x20données\x20utilisateur:',_0xfb24cf),showNotification(_0x51b4b1(0x2b6),'error');}}function adjustTextareaHeight(){const _0xb2e931=_0x2371a4,_0x597bda=document[_0xb2e931(0xd9)]('userInput');_0x597bda['style'][_0xb2e931(0x29f)]='auto',_0x597bda[_0xb2e931(0x14d)]['height']=_0x597bda[_0xb2e931(0x10b)]+'px';}function resetTextareaHeight(){const _0xb0e65d=_0x2371a4,_0x307ed7=document[_0xb0e65d(0xd9)](_0xb0e65d(0x192));_0x307ed7[_0xb0e65d(0x14d)][_0xb0e65d(0x29f)]=_0xb0e65d(0xa3);}async function attemptAutoLogin(){const _0xf35470=_0x2371a4,_0x3adc66=getStoredLoginInfo();if(_0x3adc66['username']&&_0x3adc66[_0xf35470(0x146)])try{const _0x318e14=db['ref'](_0xf35470(0x20b)+_0x3adc66[_0xf35470(0x28b)]),_0x716436=await _0x318e14['once'](_0xf35470(0x2d7));if(_0x716436[_0xf35470(0x183)]()&&_0x716436['val']()[_0xf35470(0x146)]===_0x3adc66[_0xf35470(0x146)]){const _0x52c961=_0x716436[_0xf35470(0x143)]();currentUser={'username':_0x3adc66[_0xf35470(0x28b)],'freeCredits':_0x52c961['freeCredits'],'paidCredits':_0x52c961[_0xf35470(0xb8)],'subscription':_0x52c961[_0xf35470(0xa8)],'subscriptionEndDate':_0x52c961[_0xf35470(0x166)],'lastFreeCreditsReset':_0x52c961[_0xf35470(0x16f)]},await resetFreeCreditsIfNeeded(),updateUIForLoggedInUser(),console[_0xf35470(0x97)](_0xf35470(0x27b));}else clearLoginInfo(),console[_0xf35470(0x97)](_0xf35470(0xab));}catch(_0x30fb6a){console[_0xf35470(0x92)]('Erreur\x20lors\x20de\x20la\x20connexion\x20automatique:',_0x30fb6a),clearLoginInfo();}}function saveSelectedModel(){const _0x476314=_0x2371a4,_0x2044b5=document['getElementById'](_0x476314(0xed))['value'];localStorage[_0x476314(0x2e2)](_0x476314(0x298),_0x2044b5);}function loadSelectedModel(){const _0x3a6320=_0x2371a4,_0x15afa9=localStorage['getItem'](_0x3a6320(0x298));_0x15afa9&&(document['getElementById']('modelSelect')['value']=_0x15afa9);}function showUpgradeButton(_0x27a1e0){const _0x11bfb9=_0x2371a4,_0xea5532=document[_0x11bfb9(0x147)](_0x11bfb9(0x121));_0xea5532[_0x11bfb9(0x1cd)]='Passer\x20à\x20un\x20modèle\x20avancé',_0xea5532[_0x11bfb9(0x1f1)]=_0x11bfb9(0x18d),_0xea5532[_0x11bfb9(0xf3)]=()=>{const _0xa057df=_0x11bfb9;hasValidSubscription()||currentUser[_0xa057df(0xb8)]>0x0?(document[_0xa057df(0xd9)](_0xa057df(0xed))[_0xa057df(0x2d7)]=_0xa057df(0x237),showNotification(_0xa057df(0x230),_0xa057df(0x2d6))):showPaymentNotification(_0xa057df(0x116));},_0x27a1e0['appendChild'](_0xea5532);}function copyUserMessage(_0x5bd727){const _0x479476=_0x2371a4;let _0xc067c='';for(const _0x540cea of _0x5bd727[_0x479476(0xc7)]){if(_0x540cea[_0x479476(0x179)]==='P')_0xc067c+=_0x540cea[_0x479476(0x1cd)]+'\x0a';else{if(_0x540cea['classList']['contains'](_0x479476(0x111))){const _0x1a6767=Array[_0x479476(0x278)](_0x540cea['querySelectorAll']('.file-name'))[_0x479476(0x155)](_0x83f38e=>_0x83f38e['textContent'])[_0x479476(0xbf)](',\x20');_0xc067c+=_0x479476(0x1e0)+_0x1a6767+'\x0a';}else{if(_0x540cea[_0x479476(0x1fa)][_0x479476(0x26a)](_0x479476(0xd2))){const _0x5c1684=Array[_0x479476(0x278)](_0x540cea[_0x479476(0xa9)](_0x479476(0x2a3)))[_0x479476(0x155)](_0x5a7a8c=>_0x5a7a8c[_0x479476(0x1cd)])[_0x479476(0xbf)]('\x0a');_0xc067c+=_0x479476(0x224)+_0x5c1684+'\x0a';}else{if(_0x540cea[_0x479476(0x1fa)][_0x479476(0x26a)](_0x479476(0x29c))){const _0x5bb75e=_0x540cea[_0x479476(0x2b8)](_0x479476(0x276))['textContent'];_0xc067c+='Prompt\x20épinglé:\x20'+_0x5bb75e+'\x0a';}}}}}navigator[_0x479476(0x171)]['writeText'](_0xc067c[_0x479476(0x277)]())[_0x479476(0x18a)](()=>{const _0x1b76d5=_0x479476;showNotification(_0x1b76d5(0x21a),'success');});}function animateResponse(_0x59770c,_0x59a12a){const _0x30986c=_0x2371a4;let _0x2db22e=0x0;_0x59770c[_0x30986c(0x1cd)]='';const _0x50fb85=setInterval(()=>{const _0x567a1d=_0x30986c;_0x2db22e<_0x59a12a['length']?(_0x59770c[_0x567a1d(0x1cd)]+=_0x59a12a[_0x2db22e],_0x2db22e++):clearInterval(_0x50fb85);},0x1);}function loadPromptCategories(){const _0x2e275c=_0x2371a4,_0xfddd6e=document[_0x2e275c(0xd9)](_0x2e275c(0x169));_0xfddd6e[_0x2e275c(0x184)]='',db[_0x2e275c(0x22c)](_0x2e275c(0xc8))[_0x2e275c(0x153)](_0x2e275c(0x2d7),_0x4499b6=>{const _0x5a5539=_0x2e275c;prompts=_0x4499b6[_0x5a5539(0x143)]()||{};const _0x3d9890=[...new Set(Object['values'](prompts)[_0x5a5539(0x155)](_0x48ee77=>_0x48ee77[_0x5a5539(0x2e5)]))];_0x3d9890[_0x5a5539(0x102)](_0x26afe5=>{const _0x728b5d=_0x5a5539,_0x51eeef=document[_0x728b5d(0x147)]('li');_0x51eeef['textContent']=_0x26afe5,_0x51eeef[_0x728b5d(0xf3)]=()=>{const _0x4b7d04=_0x728b5d;document['querySelectorAll'](_0x4b7d04(0x229))[_0x4b7d04(0x102)](_0x450623=>_0x450623[_0x4b7d04(0x1fa)]['remove'](_0x4b7d04(0x98))),_0x51eeef[_0x4b7d04(0x1fa)][_0x4b7d04(0xd0)](_0x4b7d04(0x98)),loadPromptsForCategory(_0x26afe5);},_0xfddd6e[_0x728b5d(0x195)](_0x51eeef);}),_0x3d9890[_0x5a5539(0x1c3)]>0x0&&(loadPromptsForCategory(_0x3d9890[0x0]),_0xfddd6e[_0x5a5539(0xcc)][_0x5a5539(0x1fa)][_0x5a5539(0xd0)](_0x5a5539(0x98)));});}function loadPromptsForCategory(_0x3140ea){const _0xb10861=_0x2371a4,_0x4af466=document['getElementById']('promptList');_0x4af466[_0xb10861(0x184)]='',Object[_0xb10861(0x2c2)](prompts)[_0xb10861(0x102)](([_0x4348c0,_0x2ab02b])=>{const _0x48f718=_0xb10861;if(_0x2ab02b[_0x48f718(0x2e5)]===_0x3140ea){const _0x533c50=document[_0x48f718(0x147)]('li');_0x533c50[_0x48f718(0x184)]=_0x48f718(0x18c)+_0x4348c0+'\x27,\x20this)\x22\x20data-prompt=\x27'+JSON[_0x48f718(0x115)](_0x2ab02b)+_0x48f718(0x174)+_0x2ab02b[_0x48f718(0xc9)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22prompt-select-icon\x22><i\x20class=\x22fas\x20fa-plus-circle\x22></i></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4af466['appendChild'](_0x533c50);}});}function selectPrompt(_0x22b483,_0x5c58d3){const _0x3a685d=_0x2371a4,_0x11336=JSON[_0x3a685d(0x291)](_0x5c58d3[_0x3a685d(0xca)][_0x3a685d(0x117)]);pinnedPrompt={'id':_0x22b483,..._0x11336},updatePinnedPrompt(),closePromptModal(),showNotification(_0x3a685d(0x288),_0x3a685d(0x2d6));const _0x1bb5c8=document[_0x3a685d(0xd9)](_0x3a685d(0x192));_0x1bb5c8[_0x3a685d(0x221)]=pinnedPrompt[_0x3a685d(0x28d)]||'Tapez\x20votre\x20texte\x20ici...',adjustTextareaHeight();}function closePromptModal(){const _0x48f85a=_0x2371a4;document[_0x48f85a(0xd9)](_0x48f85a(0x2d8))[_0x48f85a(0x14d)][_0x48f85a(0x154)]=_0x48f85a(0x12a);}function togglePromptList(){const _0x414c08=_0x2371a4,_0x3f6049=document[_0x414c08(0xd9)]('promptListModal');_0x3f6049[_0x414c08(0x14d)][_0x414c08(0x154)]=_0x414c08(0x202),loadPromptCategories();}function updatePinnedPrompt(){const _0x45cfa=_0x2371a4,_0x454497=document[_0x45cfa(0xd9)](_0x45cfa(0x201)),_0xa910be=_0x454497['querySelector'](_0x45cfa(0x244));_0xa910be&&_0xa910be[_0x45cfa(0x9e)]();if(pinnedPrompt){const _0x5e8788=document[_0x45cfa(0x147)](_0x45cfa(0x2dd));_0x5e8788[_0x45cfa(0x1f1)]='pinned-item',_0x5e8788[_0x45cfa(0x26d)](_0x45cfa(0xba),_0x45cfa(0x117)),_0x5e8788[_0x45cfa(0x184)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>🤖</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22'+pinnedPrompt[_0x45cfa(0xc9)]+'\x22>'+pinnedPrompt[_0x45cfa(0xc9)]+_0x45cfa(0x107),_0x454497[_0x45cfa(0x195)](_0x5e8788);}}function removePinnedPrompt(){pinnedPrompt=null,updatePinnedPrompt();}function openLibrary(){const _0x591166=_0x2371a4;console[_0x591166(0x97)](_0x591166(0x181));if(currentUser){console[_0x591166(0x97)]('Utilisateur\x20connecté:',currentUser);const _0x19829c={'username':currentUser[_0x591166(0x28b)],'freeCredits':currentUser['freeCredits'],'paidCredits':currentUser['paidCredits'],'subscription':currentUser[_0x591166(0xa8)]};localStorage[_0x591166(0x2e2)](_0x591166(0x1f0),JSON[_0x591166(0x115)](_0x19829c)),console[_0x591166(0x97)](_0x591166(0x24e)),window[_0x591166(0x1d9)][_0x591166(0xf0)]=_0x591166(0x19f);}else console['log'](_0x591166(0x13b)),alert(_0x591166(0x1a8));}async function showReferralModal(){const _0x5c7af2=_0x2371a4,_0x31aabd=document['getElementById'](_0x5c7af2(0x11f));_0x31aabd[_0x5c7af2(0x14d)][_0x5c7af2(0x154)]='block';const _0x415b2a=await getOrCreateReferralCode();if(_0x415b2a){const _0x105a2a=_0x5c7af2(0xaf)+_0x415b2a;document['getElementById'](_0x5c7af2(0x2c8))[_0x5c7af2(0x2d7)]=_0x105a2a;const _0x11e118='Rejoignez-moi\x20sur\x20Eduque\x20moi\x20et\x20commencez\x20votre\x20voyage\x20d\x27apprentissage\x20!\x20Utilisez\x20mon\x20lien\x20de\x20parrainage\x20pour\x20obtenir\x20des\x20bonus\x20spéciaux\x20:\x20'+_0x105a2a;document[_0x5c7af2(0xd9)](_0x5c7af2(0x2c8))[_0x5c7af2(0x26d)](_0x5c7af2(0xbc),_0x11e118);}else document['getElementById'](_0x5c7af2(0x2c8))[_0x5c7af2(0x2d7)]=_0x5c7af2(0xc5);await updateReferralStats(currentUser[_0x5c7af2(0x28b)]);}function generateReferralCode(){const _0x120c6a=_0x2371a4;return Math['random']()[_0x120c6a(0x1be)](0x24)[_0x120c6a(0x1eb)](0x2,0x8)[_0x120c6a(0x1e5)]();}async function getOrCreateReferralCode(){const _0x71b869=_0x2371a4;if(!currentUser)return null;const _0x40d9ea=db[_0x71b869(0x22c)](_0x71b869(0x20b)+currentUser['username']),_0x1294b3=await _0x40d9ea[_0x71b869(0x153)](_0x71b869(0x2d7)),_0x436d56=_0x1294b3['val']();if(_0x436d56&&_0x436d56['referralCode'])return _0x436d56[_0x71b869(0x8d)];else{const _0x2635b3=generateReferralCode();return await _0x40d9ea[_0x71b869(0x14e)]({'referralCode':_0x2635b3}),_0x2635b3;}}async function updateReferralStats(_0x1ad0b7){const _0x136672=_0x2371a4,_0x462fee=db[_0x136672(0x22c)](_0x136672(0x20b)+_0x1ad0b7),_0x4443ea=await _0x462fee['once']('value'),_0x4df519=_0x4443ea['val']();if(_0x4df519&&_0x4df519[_0x136672(0xe0)]){const _0x373111=_0x4df519[_0x136672(0xe0)],_0x4b12f7=Object[_0x136672(0xfb)](_0x373111)[_0x136672(0x1c3)],_0x441eb7=Object[_0x136672(0x2ca)](_0x373111)[_0x136672(0x25d)](_0x909f7b=>_0x909f7b[_0x136672(0xa4)])[_0x136672(0x1c3)];await _0x462fee['update']({'totalReferrals':_0x4b12f7,'activeReferrals':_0x441eb7}),currentUser&&currentUser[_0x136672(0x28b)]===_0x1ad0b7&&(document[_0x136672(0xd9)](_0x136672(0x299))[_0x136672(0x1cd)]=_0x4b12f7,document[_0x136672(0xd9)](_0x136672(0xd5))['textContent']=_0x441eb7);}}window[_0x2371a4(0x21d)]=async function(){const _0x394f1f=_0x2371a4;await attemptAutoLogin();if(currentUser){if(currentUser[_0x394f1f(0xdd)]===undefined)currentUser[_0x394f1f(0xdd)]=0x0;if(currentUser[_0x394f1f(0xb8)]===undefined)currentUser['paidCredits']=0x0;if(currentUser['subscription']===undefined)currentUser[_0x394f1f(0xa8)]=null;if(currentUser['subscriptionEndDate']===undefined)currentUser[_0x394f1f(0x166)]=null;if(currentUser['lastFreeCreditsReset']===undefined)currentUser[_0x394f1f(0x16f)]=new Date()[_0x394f1f(0x25e)]();const _0x46e055=db[_0x394f1f(0x22c)](_0x394f1f(0x20b)+currentUser['username']),_0x4d1f03=await _0x46e055[_0x394f1f(0x153)](_0x394f1f(0x2d7)),_0x2f6b32=_0x4d1f03[_0x394f1f(0x143)]();_0x2f6b32&&(importedFilesCount=_0x2f6b32[_0x394f1f(0x214)]||0x0,lastImportReset=new Date(_0x2f6b32[_0x394f1f(0x95)]||new Date())),await syncUserData();}await loadApiKeyList(),await apiManager['initialize'](),initializeApiKeyRotation();const _0x2c5a9e=localStorage[_0x394f1f(0x172)](_0x394f1f(0x286))||_0x394f1f(0x2d0);document['body'][_0x394f1f(0x26d)](_0x394f1f(0x1c7),_0x2c5a9e),updateThemeIcon(_0x2c5a9e),setupUIEventListeners();currentUser&&loadConversationHistory();initModals(),loadSelectedModel(),document[_0x394f1f(0xd9)]('modelSelect')[_0x394f1f(0x1bf)](_0x394f1f(0x209),saveSelectedModel),restoreAppState(),initializeNewDiscussion(),document[_0x394f1f(0x1bd)]['classList'][_0x394f1f(0xd0)](_0x394f1f(0x2a9)),setInterval(checkSubscriptionStatus,0x36ee80),await loadApiKeyList(),await apiManager[_0x394f1f(0xe6)](),initializeGeminiAPI();const _0x20029b=document[_0x394f1f(0xd9)](_0x394f1f(0xed));!_0x20029b[_0x394f1f(0x2d7)]&&(_0x20029b[_0x394f1f(0x2d7)]=_0x394f1f(0x1c1));};function setupUIEventListeners(){const _0x1c24b8=_0x2371a4,_0x42fdda=document[_0x1c24b8(0x2b8)]('.input-container'),_0x5e8496=document['getElementById']('userInput'),_0x2f2d6f=document[_0x1c24b8(0x2b8)](_0x1c24b8(0x2d2)),_0x2e06e4=_0x42fdda['querySelector']('button:last-child');function _0x38c66d(){const _0x3e1e49=_0x1c24b8,_0x14f1b8=_0x42fdda[_0x3e1e49(0xfc)],_0x29942c=_0x2f2d6f[_0x3e1e49(0xfc)],_0x3c271c=document[_0x3e1e49(0xd9)]('promptListButton')[_0x3e1e49(0xfc)],_0x17e070=_0x2e06e4['offsetWidth'],_0x1366e8=0x1e;_0x5e8496[_0x3e1e49(0x14d)][_0x3e1e49(0x144)]=_0x14f1b8-_0x29942c-_0x3c271c-_0x17e070-_0x1366e8+'px';}_0x38c66d(),window[_0x1c24b8(0x1bf)](_0x1c24b8(0x1c5),_0x38c66d),_0x5e8496[_0x1c24b8(0x1bf)](_0x1c24b8(0x208),adjustTextareaHeight),document[_0x1c24b8(0xd9)]('modelSelect')[_0x1c24b8(0x1bf)](_0x1c24b8(0x209),checkModelAccess);window[_0x1c24b8(0x27a)]<=0x300&&(document[_0x1c24b8(0x2b8)](_0x1c24b8(0x24a))[_0x1c24b8(0x1fa)][_0x1c24b8(0x9e)](_0x1c24b8(0x164)),document['querySelector']('.chat-container')[_0x1c24b8(0x1fa)][_0x1c24b8(0x9e)](_0x1c24b8(0x120)));if(currentUser){const _0xd778e8=db[_0x1c24b8(0x22c)](_0x1c24b8(0x20b)+currentUser[_0x1c24b8(0x28b)]);_0xd778e8['on'](_0x1c24b8(0x2d7),_0xb491a9=>{const _0xe696fc=_0x1c24b8,_0x1e5f14=_0xb491a9[_0xe696fc(0x143)]();_0x1e5f14&&(currentUser={...currentUser,'freeCredits':_0x1e5f14[_0xe696fc(0xdd)],'paidCredits':_0x1e5f14['paidCredits'],'subscription':_0x1e5f14[_0xe696fc(0xa8)],'subscriptionEndDate':_0x1e5f14[_0xe696fc(0x166)],'lastFreeCreditsReset':_0x1e5f14[_0xe696fc(0x16f)]},updateUIForLoggedInUser());});}}function _0x1058(_0x41ec7b,_0x32cdd1){const _0x330278=_0x3302();return _0x1058=function(_0x1058ac,_0x88e42a){_0x1058ac=_0x1058ac-0x8a;let _0x3f5af2=_0x330278[_0x1058ac];return _0x3f5af2;},_0x1058(_0x41ec7b,_0x32cdd1);}function initModals(){const _0x4318af=_0x2371a4,_0x53e7a2=document[_0x4318af(0xa9)](_0x4318af(0xf6)),_0x5ba987=document[_0x4318af(0xa9)](_0x4318af(0x1db));_0x5ba987[_0x4318af(0x102)](_0x4ad944=>{const _0x184f26=_0x4318af;_0x4ad944[_0x184f26(0x1bf)]('click',()=>{const _0x1c3e02=_0x184f26;_0x4ad944['closest'](_0x1c3e02(0xf6))[_0x1c3e02(0x14d)]['display']=_0x1c3e02(0x12a);});}),window['addEventListener'](_0x4318af(0xe7),_0x3ce36d=>{const _0x3f451f=_0x4318af;_0x53e7a2[_0x3f451f(0x102)](_0x124f09=>{const _0x444bf9=_0x3f451f;_0x3ce36d[_0x444bf9(0x94)]===_0x124f09&&(_0x124f09[_0x444bf9(0x14d)][_0x444bf9(0x154)]=_0x444bf9(0x12a));});});}window[_0x2371a4(0x1bf)](_0x2371a4(0x16b),async()=>{const _0x375438=_0x2371a4;if(currentUser){const _0x591094=await checkGuidedTourStatus(currentUser[_0x375438(0x28b)]);!_0x591094&&(startGuidedTour(),await markGuidedTourAsSeen(currentUser[_0x375438(0x28b)]));}}),document[_0x2371a4(0x1bf)](_0x2371a4(0x270),function(_0x59d63d){const _0x11e360=_0x2371a4;_0x59d63d['key']===_0x11e360(0x13a)&&!_0x59d63d['shiftKey']&&(_0x59d63d['preventDefault'](),sendMessage());}),document[_0x2371a4(0xd9)](_0x2371a4(0x192))[_0x2371a4(0x1bf)]('keydown',function(_0x95ad73){const _0x19a958=_0x2371a4;if(_0x95ad73[_0x19a958(0x2c9)]===_0x19a958(0x13a)&&_0x95ad73[_0x19a958(0x1cb)]){_0x95ad73[_0x19a958(0x2ad)]();const _0x42ad12=this[_0x19a958(0x1e8)],_0x36899b=this[_0x19a958(0x1fb)],_0x905743=this[_0x19a958(0x2d7)];this[_0x19a958(0x2d7)]=_0x905743[_0x19a958(0x1eb)](0x0,_0x42ad12)+'\x0a'+_0x905743[_0x19a958(0x1eb)](_0x36899b),this['selectionStart']=this[_0x19a958(0x1fb)]=_0x42ad12+0x1;}});function checkApiStatus(){const _0x529b0b=_0x2371a4;axios[_0x529b0b(0x23c)](API_BASE_URL+_0x529b0b(0x2a1)+API_KEY)[_0x529b0b(0x18a)](_0x9d0c78=>{const _0x534144=_0x529b0b;console[_0x534144(0x97)](_0x534144(0x250),_0x9d0c78[_0x534144(0x9f)]),console[_0x534144(0x97)]('Modèles\x20disponibles:',_0x9d0c78[_0x534144(0x2e3)]);})[_0x529b0b(0x2bb)](_0x4128db=>{console['error']('Erreur\x20lors\x20de\x20la\x20vérification\x20du\x20statut\x20de\x20l\x27API:',_0x4128db);});}function checkApiStatusRegularly(){checkApiStatus(),setInterval(checkApiStatus,0xea60);}window[_0x2371a4(0x1bf)](_0x2371a4(0xe2),function(){const _0x260117=_0x2371a4;showNotification(_0x260117(0x186),_0x260117(0x92));}),window[_0x2371a4(0x1bf)](_0x2371a4(0x285),function(){showNotification('Vous\x20êtes\x20de\x20nouveau\x20en\x20ligne.','success');}),window[_0x2371a4(0x1bf)](_0x2371a4(0xd1),function(){const _0x46113d=_0x2371a4;currentUser&&localStorage[_0x46113d(0x2e2)](_0x46113d(0x267),JSON[_0x46113d(0x115)](currentConversation));});function restoreAppState(){const _0x54d4c9=_0x2371a4,_0x4e1e21=localStorage[_0x54d4c9(0x172)](_0x54d4c9(0x267));_0x4e1e21&&(currentConversation=JSON[_0x54d4c9(0x291)](_0x4e1e21),currentConversation['forEach'](_0x2499c4=>{const _0x29950e=_0x54d4c9;addMessageToChat(_0x2499c4[_0x29950e(0x1f2)],_0x2499c4[_0x29950e(0x1f4)]);}));}function isImageGenerationModel(_0x149242){const _0x597483=_0x2371a4;return _0x149242[_0x597483(0x1b7)](_0x597483(0x11c));}function getRecraftStyle(_0x3034b8){const _0x5d3487=_0x2371a4,_0x5c96b6={'recraft-realistic':_0x5d3487(0xd8),'recraft-digital':'digital_illustration','recraft-vector':_0x5d3487(0x1ef),'recraft-icon':_0x5d3487(0x28f)};return _0x5c96b6[_0x3034b8]||_0x5d3487(0xd8);}async function initializeImageGenerationTracking(_0x23f6d5){const _0x2f1fae=_0x2371a4,_0x508d0f=db[_0x2f1fae(0x22c)]('users/'+_0x23f6d5),_0x1a4bbf=await _0x508d0f[_0x2f1fae(0x20d)](_0x2f1fae(0x2e0))[_0x2f1fae(0x153)]('value'),_0x2dbd7a=_0x1a4bbf[_0x2f1fae(0x143)]();(!_0x2dbd7a||isNewDay(_0x2dbd7a[_0x2f1fae(0x23b)]))&&await _0x508d0f['child']('imageGeneration')[_0x2f1fae(0x2b7)]({'dailyCount':0x0,'lastReset':new Date()['toISOString']()});}function isNewDay(_0x2e2991){const _0x330dc1=_0x2371a4;if(!_0x2e2991)return!![];const _0x1d2fd4=new Date(_0x2e2991),_0x1c9c6f=new Date();return _0x1d2fd4[_0x330dc1(0x2bd)]()!==_0x1c9c6f[_0x330dc1(0x2bd)]()||_0x1d2fd4[_0x330dc1(0xad)]()!==_0x1c9c6f[_0x330dc1(0xad)]()||_0x1d2fd4[_0x330dc1(0x275)]()!==_0x1c9c6f[_0x330dc1(0x275)]();}async function getImageGenerationCount(_0xddafee){const _0x4c990b=_0x2371a4,_0x19f6b7=db['ref'](_0x4c990b(0x20b)+_0xddafee),_0x4730b5=await _0x19f6b7[_0x4c990b(0x20d)](_0x4c990b(0x2e0))[_0x4c990b(0x153)]('value'),_0x1a9c4e=_0x4730b5['val']();if(!_0x1a9c4e||isNewDay(_0x1a9c4e['lastReset']))return await initializeImageGenerationTracking(_0xddafee),0x0;return _0x1a9c4e[_0x4c990b(0x1a7)];}async function incrementImageGenerationCount(_0x35823c){const _0x516aca=_0x2371a4,_0x2c7f97=db[_0x516aca(0x22c)](_0x516aca(0x20b)+_0x35823c);await _0x2c7f97[_0x516aca(0x20d)](_0x516aca(0x2e0))[_0x516aca(0x211)](_0x53cd8c=>{const _0x1e928d=_0x516aca;if(!_0x53cd8c||isNewDay(_0x53cd8c['lastReset']))return{'dailyCount':0x1,'lastReset':new Date()[_0x1e928d(0x25e)]()};return{'dailyCount':_0x53cd8c['dailyCount']+0x1,'lastReset':_0x53cd8c[_0x1e928d(0x23b)]};});}async function canGenerateImage(){const _0x331995=_0x2371a4,_0x2d4178=await getImageGenerationCount(currentUser[_0x331995(0x28b)]),_0x4b49aa=hasValidSubscription(),_0x4ff679=currentUser[_0x331995(0xb8)]>=0x5||currentUser[_0x331995(0xdd)]>=0x5;if(_0x4b49aa&&_0x2d4178<0x5)return{'canGenerate':!![],'useFreeGeneration':!![],'message':'Il\x20vous\x20reste\x20'+(0x5-_0x2d4178)+_0x331995(0x226)};if(_0x4ff679)return{'canGenerate':!![],'useFreeGeneration':![],'message':_0x331995(0x2aa)};return{'canGenerate':![],'useFreeGeneration':![],'message':_0x331995(0x1a3)};}function confirmCreditUsage(_0x2a8b87){return new Promise(_0x1740ec=>{const _0x452547=_0x1058,_0x175f93=document[_0x452547(0x147)](_0x452547(0x2dd));_0x175f93[_0x452547(0x1f1)]=_0x452547(0xea),_0x175f93['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x2a8b87+_0x452547(0x1f6),document[_0x452547(0x1bd)][_0x452547(0x195)](_0x175f93),setTimeout(()=>_0x175f93['classList']['add'](_0x452547(0x93)),0x64);function _0x55bafd(_0x4cb1b6){const _0x43aabf=_0x452547,_0x3d764e=_0x4cb1b6['target'][_0x43aabf(0x283)](_0x43aabf(0x1d7))['getAttribute'](_0x43aabf(0x160));_0x175f93[_0x43aabf(0x1fa)][_0x43aabf(0x9e)]('show'),setTimeout(()=>{const _0x4eb6b1=_0x43aabf;_0x175f93[_0x4eb6b1(0x9e)](),_0x1740ec(_0x3d764e===_0x4eb6b1(0x11a));},0x12c);}_0x175f93[_0x452547(0xa9)]('button')[_0x452547(0x102)](_0x3603e5=>{const _0x58fa2f=_0x452547;_0x3603e5[_0x58fa2f(0x1bf)](_0x58fa2f(0xe7),_0x55bafd);});});}function parseMarkdownTable(_0x5ede8d){const _0x1292ff=_0x2371a4,_0x379826=_0x5ede8d[_0x1292ff(0x277)]()[_0x1292ff(0x185)]('\x0a');if(_0x379826[_0x1292ff(0x1c3)]<0x3)return null;const _0x1fa8b0=_0x379826['every'](_0x1f3d80=>_0x1f3d80['trim']()['startsWith']('|')&&_0x1f3d80[_0x1292ff(0x277)]()[_0x1292ff(0x294)]('|'));if(!_0x1fa8b0)return null;const _0x403f0c=_0x379826[_0x1292ff(0x155)](_0x55971=>{const _0xefd4ed=_0x1292ff,_0x68d8db=_0x55971['trim']()['slice'](0x1,-0x1)[_0xefd4ed(0x185)]('|')[_0xefd4ed(0x155)](_0x3dc7bc=>_0x3dc7bc[_0xefd4ed(0x277)]());return _0x68d8db;}),_0xaed58a=_0x403f0c[0x0],_0x16ecd5=_0x403f0c['slice'](0x2);let _0x49eef0=_0x1292ff(0x2ce);return _0xaed58a['forEach'](_0x4adea8=>{_0x49eef0+='<th>'+_0x4adea8+'</th>';}),_0x49eef0+=_0x1292ff(0x9b),_0x16ecd5[_0x1292ff(0x102)](_0x4c4ae0=>{const _0x4166d7=_0x1292ff;_0x49eef0+=_0x4166d7(0x1ed),_0x4c4ae0['forEach'](_0x366e78=>{const _0x5a5450=_0x4166d7;_0x49eef0+='<td>'+_0x366e78+_0x5a5450(0x1d4);}),_0x49eef0+=_0x4166d7(0x167);}),_0x49eef0+=_0x1292ff(0x260),_0x49eef0+=_0x1292ff(0x1a0),_0x49eef0;}function processMessageContent(_0x22fe2d){const _0x41aedb=_0x2371a4,_0x13c417=/\|[\s\S]+?\n[-|\s]+\n[\s\S]+?\n(?=\n|$)/g;return _0x22fe2d[_0x41aedb(0x203)](_0x13c417,_0x4f82d2=>{const _0x29b8c2=parseMarkdownTable(_0x4f82d2);return _0x29b8c2||_0x4f82d2;});}function addMessageToChat(_0x437e38,_0x49ccad,_0x29e6b8=[],_0x1baa5b=[],_0x424d58=null){const _0x5b900e=_0x2371a4,_0xd340e=document['getElementById']('messageContainer'),_0x46ae28=document[_0x5b900e(0x147)](_0x5b900e(0x2dd));_0x46ae28[_0x5b900e(0x1fa)][_0x5b900e(0xd0)]('message',_0x437e38==='user'?_0x5b900e(0x17b):'ai-message');if(_0x437e38==='ai'){let _0x5257b8=_0x49ccad;_0x5257b8=_0x5257b8[_0x5b900e(0x203)](/^\*\*/gm,'\x0a'),_0x5257b8=_0x5257b8['replace'](/\*\*/g,''),_0x5257b8=formatMarkdownTable(_0x5257b8);const _0x2bb839=document[_0x5b900e(0x147)](_0x5b900e(0x2dd));_0x2bb839[_0x5b900e(0x184)]=_0x5257b8,_0x46ae28[_0x5b900e(0x195)](_0x2bb839);const _0xae1191=document[_0x5b900e(0x147)](_0x5b900e(0x2dd));_0xae1191['classList']['add']('message-actions'),_0xae1191[_0x5b900e(0x184)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyResponse(this.parentNode.parentNode)\x22\x20title=\x22Copier\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22exportResponse(this.parentNode.parentNode,\x20\x27pdf\x27)\x22\x20title=\x22Exporter\x20en\x20PDF\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22shareResponse(this.parentNode.parentNode)\x22\x20title=\x22Partager\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-share-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22pinResponse(this.parentNode.parentNode)\x22\x20title=\x22Épingler\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-thumbtack\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resubmitRequest(this.parentNode.parentNode)\x22\x20title=\x22Relancer\x20la\x20demande\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x46ae28[_0x5b900e(0x195)](_0xae1191),currentConversation[_0x5b900e(0x132)]({'sender':'ai','content':_0x49ccad});}else{_0x29e6b8[_0x5b900e(0x1c3)]>0x0&&_0x46ae28[_0x5b900e(0x195)](createPinnedFilesElement(_0x29e6b8));_0x1baa5b['length']>0x0&&_0x46ae28['appendChild'](createPinnedResponsesElement(_0x1baa5b));_0x424d58&&_0x46ae28['appendChild'](createPinnedPromptElement(_0x424d58));const _0x3b4318=document[_0x5b900e(0x147)]('div');_0x3b4318[_0x5b900e(0x1cd)]=_0x49ccad,_0x46ae28[_0x5b900e(0x195)](_0x3b4318);const _0xdc4691=document[_0x5b900e(0x147)](_0x5b900e(0x2dd));_0xdc4691[_0x5b900e(0x1fa)][_0x5b900e(0xd0)](_0x5b900e(0x13f)),_0xdc4691[_0x5b900e(0x184)]=_0x5b900e(0x1d6),_0x46ae28['appendChild'](_0xdc4691),currentConversation['push']({'sender':_0x5b900e(0x252),'content':_0x49ccad,'files':_0x29e6b8,'responses':_0x1baa5b,'prompt':_0x424d58});}return _0xd340e[_0x5b900e(0x195)](_0x46ae28),_0xd340e[_0x5b900e(0xcb)]=_0xd340e['scrollHeight'],_0x46ae28;}async function resubmitRequest(_0x3cc8dc){const _0x95c932=_0x2371a4,_0x38f799=document[_0x95c932(0xd9)](_0x95c932(0xed))[_0x95c932(0x2d7)];if(!hasValidSubscription()&&!currentUser[_0x95c932(0xb8)]&&(_0x38f799!==_0x95c932(0x1c1)&&_0x38f799!==_0x95c932(0xdb)||!currentUser[_0x95c932(0xdd)])){showPaymentNotification(_0x95c932(0x251));return;}try{const _0xc855d0=document['querySelectorAll']('.message');let _0xecbb5f=null,_0x4ffb1d='';for(let _0x54ddac=Array['from'](_0xc855d0)[_0x95c932(0x15c)](_0x3cc8dc)-0x1;_0x54ddac>=0x0;_0x54ddac--){if(_0xc855d0[_0x54ddac][_0x95c932(0x1fa)][_0x95c932(0x26a)]('user-message')){_0xecbb5f=_0xc855d0[_0x54ddac],_0x4ffb1d=_0xc855d0[_0x54ddac][_0x95c932(0x2b8)](_0x95c932(0x12e))[_0x95c932(0x1cd)];break;}}if(!_0x4ffb1d)throw new Error(_0x95c932(0x22f));const _0x16f479=document[_0x95c932(0x147)](_0x95c932(0x2dd));_0x16f479['className']=_0x95c932(0x14b),_0x16f479[_0x95c932(0x184)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+createModelHeader(_0x38f799)+_0x95c932(0xb2),_0x3cc8dc[_0x95c932(0x10d)](_0x16f479);const _0x5805e7=Array['from'](_0xecbb5f[_0x95c932(0xa9)](_0x95c932(0x281)))['map'](_0x5cde0c=>({'name':_0x5cde0c['querySelector'](_0x95c932(0xb9))[_0x95c932(0x1cd)],'type':_0x5cde0c['dataset'][_0x95c932(0x11d)]})),_0x4d7b59=[{'text':_0x4ffb1d}];if(_0x5805e7[_0x95c932(0x1c3)]>0x0)for(const _0x1c5318 of _0x5805e7){_0x4d7b59[_0x95c932(0x132)]({'text':_0x95c932(0xf7)+_0x1c5318[_0x95c932(0x2b3)]+']'});}const _0x1a56f0=await model[_0x95c932(0x1b5)](_0x4d7b59),_0x3e3531=await _0x1a56f0['response'],_0x598f0f=_0x3e3531[_0x95c932(0x25b)]();await animateText(_0x16f479,_0x598f0f),currentConversation[_0x95c932(0x132)]({'sender':'ai','content':_0x598f0f}),saveConversation(),await updateCredits(_0x38f799,0x1),showNotification(_0x95c932(0x268),'success');}catch(_0x441b60){console[_0x95c932(0x92)](_0x95c932(0x1fe),_0x441b60),showNotification(_0x95c932(0x216),_0x95c932(0x92)),loadingMessage&&_0x3cc8dc&&loadingMessage['replaceWith'](_0x3cc8dc);}}function createLoadingMessage(){const _0x24bbb8=_0x2371a4,_0xe84a97=document['createElement']('div');return _0xe84a97[_0x24bbb8(0x1f1)]=_0x24bbb8(0x14b),_0xe84a97['innerHTML']=_0x24bbb8(0x16d),document['getElementById']('messageContainer')[_0x24bbb8(0x195)](_0xe84a97),_0xe84a97;}function initializeScrollListener(){const _0x53cd2b=_0x2371a4,_0xa9b8bd=document['getElementById'](_0x53cd2b(0xda));_0xa9b8bd[_0x53cd2b(0x1bf)](_0x53cd2b(0x17c),function(){const _0x4a9b4c=_0x53cd2b;clearTimeout(scrollTimeout),_0xa9b8bd[_0x4a9b4c(0xcb)]<lastScrollTop&&(userScrolling=!![]),lastScrollTop=_0xa9b8bd[_0x4a9b4c(0xcb)],scrollTimeout=setTimeout(()=>{const _0x5a8f8=_0x4a9b4c,_0x3d2724=_0xa9b8bd[_0x5a8f8(0x10b)]-_0xa9b8bd[_0x5a8f8(0xcb)]-_0xa9b8bd[_0x5a8f8(0x126)]<0x64;_0x3d2724&&(userScrolling=![]);},0x3e8);});}function shouldAutoScroll(){const _0x51b699=_0x2371a4;if(userScrolling)return![];const _0x282ee9=document[_0x51b699(0xd9)](_0x51b699(0xda)),_0x3c2040=_0x282ee9['scrollHeight']-_0x282ee9[_0x51b699(0xcb)]-_0x282ee9[_0x51b699(0x126)]<0x64;return _0x3c2040;}async function animateText(_0x10cd6d,_0x5091e9){const _0x1cbd78=_0x2371a4,_0x431438=document[_0x1cbd78(0x147)](_0x1cbd78(0x2dd));_0x10cd6d[_0x1cbd78(0x184)]='',_0x10cd6d['appendChild'](_0x431438);const _0x1f08ef=document[_0x1cbd78(0x147)](_0x1cbd78(0x2dd));_0x1f08ef['className']=_0x1cbd78(0x13f),_0x1f08ef[_0x1cbd78(0x184)]=_0x1cbd78(0x254);let _0x4bd04c='';const _0x263e8e=0xa;function _0x2a0451(_0x1afa5b,_0x307296){const _0x2d7627=_0x1cbd78;return _0x1afa5b[_0x2d7627(0x29e)](_0x307296)[_0x2d7627(0x1b7)]('\x0a|')||_0x1afa5b[_0x2d7627(0x29e)](_0x307296)[_0x2d7627(0x1b7)]('|');}function _0x1094db(_0x36d0c6,_0x444855){const _0x30cce8=_0x1cbd78,_0x52cf61=_0x36d0c6['slice'](_0x444855)[_0x30cce8(0x185)]('\x0a');let _0x46d0a8=[],_0x2b860f=0x0;while(_0x2b860f<_0x52cf61[_0x30cce8(0x1c3)]&&_0x52cf61[_0x2b860f][_0x30cce8(0x277)]()[_0x30cce8(0x1b7)]('|')){_0x46d0a8[_0x30cce8(0x132)](_0x52cf61[_0x2b860f]),_0x2b860f++;}return _0x46d0a8['join']('\x0a');}const _0x388ddf=document[_0x1cbd78(0xd9)](_0x1cbd78(0xda));for(let _0x492451=0x0;_0x492451<_0x5091e9[_0x1cbd78(0x1c3)];_0x492451++){if(_0x2a0451(_0x5091e9,_0x492451)){const _0x1f0f95=_0x1094db(_0x5091e9,_0x492451);if(_0x1f0f95){_0x4bd04c+=_0x1f0f95,_0x431438[_0x1cbd78(0x184)]=formatMarkdownTable(_0x4bd04c),_0x492451+=_0x1f0f95[_0x1cbd78(0x1c3)]-0x1;continue;}}_0x4bd04c+=_0x5091e9[_0x492451],_0x431438[_0x1cbd78(0x184)]=formatMarkdownTable(_0x4bd04c),shouldAutoScroll()&&(_0x388ddf[_0x1cbd78(0xcb)]=_0x388ddf[_0x1cbd78(0x10b)]),await new Promise(_0x6f618d=>setTimeout(_0x6f618d,_0x263e8e));}_0x10cd6d[_0x1cbd78(0x195)](_0x1f08ef);}function resetScrollState(){userScrolling=![],lastScrollTop=0x0;}function formatMarkdownTable(_0x4a0346){const _0x49be47=/\|(.+)\|\n\|(?:[-:|]+\|)+\n(\|(?:.+\|)+\n?)+/g;return _0x4a0346['replace'](_0x49be47,function(_0x3df13f){const _0x1e3123=_0x1058,_0x4e42e1=_0x3df13f[_0x1e3123(0x277)]()['split']('\x0a');if(_0x4e42e1[_0x1e3123(0x1c3)]<0x3)return _0x3df13f;let _0x57d590=_0x1e3123(0x1b4);const _0x131f81=_0x4e42e1[0x0][_0x1e3123(0x185)]('|')['filter'](_0x323baa=>_0x323baa[_0x1e3123(0x277)]());return _0x57d590+=_0x1e3123(0x197),_0x131f81[_0x1e3123(0x102)](_0x28a783=>{const _0x286d24=_0x1e3123;_0x57d590+=_0x286d24(0x10a)+_0x28a783[_0x286d24(0x277)]()+'</th>';}),_0x57d590+='</tr></thead>',_0x57d590+=_0x1e3123(0x1bb),_0x4e42e1[_0x1e3123(0x29e)](0x2)[_0x1e3123(0x102)](_0x4f2197=>{const _0x332ada=_0x1e3123,_0x5130ab=_0x4f2197[_0x332ada(0x185)]('|')[_0x332ada(0x25d)](_0x2ea258=>_0x2ea258[_0x332ada(0x277)]());_0x5130ab[_0x332ada(0x1c3)]>0x0&&(_0x57d590+=_0x332ada(0x1ed),_0x5130ab[_0x332ada(0x102)](_0x217e2f=>{const _0x1cafcb=_0x332ada;_0x57d590+=_0x1cafcb(0x269)+_0x217e2f[_0x1cafcb(0x277)]()+_0x1cafcb(0x1d4);}),_0x57d590+='</tr>');}),_0x57d590+=_0x1e3123(0xd4),_0x57d590;});}function updateUI(){const _0x94e6a4=_0x2371a4;currentUser&&(document[_0x94e6a4(0xd9)](_0x94e6a4(0xdd))['textContent']=currentUser['freeCredits'],document[_0x94e6a4(0xd9)](_0x94e6a4(0xb8))[_0x94e6a4(0x1cd)]=currentUser[_0x94e6a4(0xb8)],document['getElementById'](_0x94e6a4(0xa8))[_0x94e6a4(0x1cd)]=currentUser[_0x94e6a4(0xa8)]||_0x94e6a4(0x223));}const apiManager=new GeminiApiManager();document['addEventListener'](_0x2371a4(0xe7),function(_0xde95d4){const _0x1dbca6=_0x2371a4,_0x1d3426=document[_0x1dbca6(0x2b8)](_0x1dbca6(0x24a)),_0x196265=document[_0x1dbca6(0x2b8)](_0x1dbca6(0x14a));_0x1d3426[_0x1dbca6(0x1fa)]['contains'](_0x1dbca6(0x164))&&!_0x1d3426[_0x1dbca6(0x26a)](_0xde95d4[_0x1dbca6(0x94)])&&!_0x196265['contains'](_0xde95d4[_0x1dbca6(0x94)])&&(toggleSidebar(),_0xde95d4['preventDefault']());}),window[_0x2371a4(0x21e)]=function(_0x38d32b){const _0x27b53a=_0x2371a4,_0x584943=document[_0x27b53a(0x2b8)](_0x27b53a(0x24a));if(_0x584943[_0x27b53a(0x1fa)][_0x27b53a(0x26a)](_0x27b53a(0x164)))return toggleSidebar(),_0x38d32b[_0x27b53a(0x2ad)](),history['pushState']({},'',''),![];},document['getElementById'](_0x2371a4(0x27e))[_0x2371a4(0x157)]=_0x2371a4(0x1d5),setInterval(updateUI,0x493e0),checkApiStatusRegularly(),window[_0x2371a4(0x1ff)]=showLoginModal,window[_0x2371a4(0x8f)]=showRegisterModal,window[_0x2371a4(0xcf)]=login,window['register']=register,window['logout']=logout,window['sendMessage']=sendMessage,window[_0x2371a4(0x119)]=buySubscription,window[_0x2371a4(0x222)]=buyCredits,window['toggleTheme']=toggleTheme,window[_0x2371a4(0x2de)]=toggleSidebar,window[_0x2371a4(0xa5)]=createNewConversation,window[_0x2371a4(0x152)]=handleFileUpload,window[_0x2371a4(0x142)]=togglePromptList,window[_0x2371a4(0x110)]=showReferralModal,window[_0x2371a4(0x255)]=generateReferralCode,window[_0x2371a4(0x20c)]=copyReferralLink,window[_0x2371a4(0x1dd)]=shareOnFacebook,window['shareOnTwitter']=shareOnTwitter,window[_0x2371a4(0x253)]=shareOnLinkedIn,window[_0x2371a4(0x1e7)]=shareOnWhatsApp,window[_0x2371a4(0x17f)]=removePinnedFile;
