const _0x50402d=_0x34a6;(function(_0x1b824d,_0x206026){const _0x3105e5=_0x34a6,_0x4d6493=_0x1b824d();while(!![]){try{const _0x4ea90a=-parseInt(_0x3105e5(0x278))/0x1+parseInt(_0x3105e5(0x167))/0x2+-parseInt(_0x3105e5(0x1da))/0x3+parseInt(_0x3105e5(0x374))/0x4+parseInt(_0x3105e5(0x220))/0x5*(-parseInt(_0x3105e5(0x288))/0x6)+-parseInt(_0x3105e5(0x208))/0x7*(-parseInt(_0x3105e5(0x2dc))/0x8)+parseInt(_0x3105e5(0x290))/0x9*(parseInt(_0x3105e5(0x2d6))/0xa);if(_0x4ea90a===_0x206026)break;else _0x4d6493['push'](_0x4d6493['shift']());}catch(_0xfd843f){_0x4d6493['push'](_0x4d6493['shift']());}}}(_0x392a,0x44d47));const API_KEY=_0x50402d(0x1aa),API_BASE_URL=_0x50402d(0x2a8);let currentUser=null,pinnedFiles=[],currentConversation=[],conversations={},currentApiKeyIndex=0x0,userScrolling=![],lastScrollTop=0x0,scrollTimeout;const FREE_CREDITS_PER_DAY=0x3,FREE_CREDITS_REGISTER=0xa,FREE_MODEL_MAX_WORDS=0xc350,FREE_MODEL_MAX_RESPONSE=0x7d0,RETRY_CONFIG={'maxAttempts':0x32,'retryDelay':0x2710},SYSTEM_INSTRUCTION=_0x50402d(0x346),firebaseConfig={'apiKey':_0x50402d(0x306),'authDomain':_0x50402d(0x38b),'databaseURL':_0x50402d(0x392),'projectId':'gemini-bb56e','storageBucket':_0x50402d(0x169),'messagingSenderId':_0x50402d(0x375),'appId':_0x50402d(0x267),'measurementId':'G-CSN292219J'};firebase[_0x50402d(0x32c)](firebaseConfig);const db=firebase[_0x50402d(0x376)]();let prompts={},pinnedPrompt=null,pinnedResponses=[],genAI;const API_KEY_LIST_REF=db[_0x50402d(0x32f)](_0x50402d(0x16a));let apiKeyList=[];class GeminiApiManager{constructor(){const _0x36cb33=_0x50402d;this['db']=firebase[_0x36cb33(0x376)](),this[_0x36cb33(0x241)]=[],this[_0x36cb33(0x294)]=0x0,this[_0x36cb33(0x1b0)]={'maxAttempts':0x3,'baseDelay':0x3e8,'maxDelay':0x1388},this[_0x36cb33(0x168)]=new Map();}async[_0x50402d(0x285)](){const _0x46a37c=_0x50402d;try{return await this[_0x46a37c(0x14a)](),this['startKeyRotation'](),!![];}catch(_0xdcbf38){return console['error'](_0x46a37c(0x138),_0xdcbf38),![];}}async[_0x50402d(0x14a)](){const _0x512948=_0x50402d,_0x114139=await this['db'][_0x512948(0x32f)](_0x512948(0x16a))['once'](_0x512948(0x2a6)),_0x560382=_0x114139[_0x512948(0x330)]();if(!_0x560382)throw new Error(_0x512948(0x201));this[_0x512948(0x241)]=Object[_0x512948(0x159)](_0x560382);if(this[_0x512948(0x241)]['length']===0x0)throw new Error(_0x512948(0x2d8));}[_0x50402d(0x2f8)](){const _0x3c3c3f=this['apiKeyList'][this['currentKeyIndex']];return new GoogleGenerativeAI(_0x3c3c3f);}['startKeyRotation'](){setInterval(()=>{this['rotateKey']();},0x1388);}[_0x50402d(0x133)](){const _0x483c24=_0x50402d;this['currentKeyIndex']=(this[_0x483c24(0x294)]+0x1)%this[_0x483c24(0x241)][_0x483c24(0x28a)];const _0x42244e=this[_0x483c24(0x241)][this['currentKeyIndex']];try{genAI=new GoogleGenerativeAI(_0x42244e),model=genAI['getGenerativeModel']({'model':document['getElementById'](_0x483c24(0x152))[_0x483c24(0x2a6)],'systemInstruction':SYSTEM_INSTRUCTION}),console[_0x483c24(0x33a)](_0x483c24(0x2f3));}catch(_0x109674){console['error'](_0x483c24(0x1c9),_0x109674),this[_0x483c24(0x36e)](this[_0x483c24(0x294)]);}}[_0x50402d(0x36e)](_0x150d14){const _0x5d763a=_0x50402d,_0x136887=this['apiKeyList'][_0x150d14];!this[_0x5d763a(0x168)]['has'](_0x136887)&&this[_0x5d763a(0x168)]['set'](_0x136887,{'count':0x0,'lastError':Date[_0x5d763a(0x151)]()});const _0x2cdd06=this[_0x5d763a(0x168)][_0x5d763a(0x1c1)](_0x136887);_0x2cdd06[_0x5d763a(0x1d9)]++,_0x2cdd06[_0x5d763a(0x30a)]=Date[_0x5d763a(0x151)]();}async[_0x50402d(0x1f2)](_0x1317fd){const _0x4e8089=_0x50402d;try{this[_0x4e8089(0x168)][_0x4e8089(0x315)](this[_0x4e8089(0x241)][_0x1317fd]),console[_0x4e8089(0x33a)](_0x4e8089(0x388)+this[_0x4e8089(0x241)][_0x1317fd][_0x4e8089(0x144)](0x0,0x8)+_0x4e8089(0x221));}catch(_0xc5d236){console[_0x4e8089(0x2c7)](_0x4e8089(0x274),_0xc5d236);}}async[_0x50402d(0x1ae)](_0x1a0786){const _0x500008=_0x50402d;let _0x15acbe=0x0,_0x3e1f87=null;while(_0x15acbe<this[_0x500008(0x1b0)][_0x500008(0x20a)]){try{genAI=this['getCurrentApi'](),model=genAI['getGenerativeModel']({'model':document[_0x500008(0x2d5)]('modelSelect')[_0x500008(0x2a6)],'systemInstruction':SYSTEM_INSTRUCTION});const _0x5b5a80=await _0x1a0786();return _0x5b5a80;}catch(_0x980b3b){_0x3e1f87=_0x980b3b,_0x15acbe++;if(!this[_0x500008(0x30b)](_0x980b3b)||_0x15acbe>=this['retryConfig'][_0x500008(0x20a)])throw _0x980b3b;const _0x308bc7=this[_0x500008(0x1d3)](_0x15acbe);console[_0x500008(0x33a)](_0x500008(0x2d7)+_0x15acbe+'/'+this[_0x500008(0x1b0)]['maxAttempts']+_0x500008(0x1af)+_0x308bc7+'ms'),this[_0x500008(0x133)](),await new Promise(_0x140966=>setTimeout(_0x140966,_0x308bc7));}}throw new Error('Échec\x20après\x20'+_0x15acbe+_0x500008(0x147)+_0x3e1f87[_0x500008(0x252)]);}['shouldRetry'](_0x41192c){const _0x3c24b8=_0x50402d,_0x12f424=[_0x3c24b8(0x34a),_0x3c24b8(0x372),_0x3c24b8(0x332),_0x3c24b8(0x32b),'CANCELLED'];return _0x12f424[_0x3c24b8(0x25f)](_0x41192c['code'])||_0x41192c[_0x3c24b8(0x252)]['includes'](_0x3c24b8(0x1d5))||_0x41192c[_0x3c24b8(0x252)][_0x3c24b8(0x25f)](_0x3c24b8(0x2b1))||_0x41192c[_0x3c24b8(0x16b)]===0x1ad||_0x41192c['status']>=0x1f4;}[_0x50402d(0x1d3)](_0x18e3c6){const _0x124c08=_0x50402d,_0x4eaad5=Math[_0x124c08(0x23c)](this[_0x124c08(0x1b0)][_0x124c08(0x382)],this[_0x124c08(0x1b0)][_0x124c08(0x2da)]*Math[_0x124c08(0x2e0)](0x2,_0x18e3c6-0x1));return _0x4eaad5+Math['random']()*0x3e8;}[_0x50402d(0x1c6)](){setInterval(()=>{const _0x160046=_0x34a6;this[_0x160046(0x1f4)]();},0x493e0);}async[_0x50402d(0x1f4)](){const _0x3c25bc=_0x50402d,_0x550182=Array[_0x3c25bc(0x19f)](this['errorTracker'][_0x3c25bc(0x21d)]())['map'](([_0x2affa3,_0x24ed7f])=>({'key':_0x2affa3[_0x3c25bc(0x144)](0x0,0x8),'errors':_0x24ed7f[_0x3c25bc(0x1d9)],'lastError':new Date(_0x24ed7f['lastError'])[_0x3c25bc(0x29c)]()}));console['table'](_0x550182);try{await this['db'][_0x3c25bc(0x32f)](_0x3c25bc(0x296))['push']({'timestamp':Date[_0x3c25bc(0x151)](),'stats':_0x550182});}catch(_0x3f0e45){console[_0x3c25bc(0x2c7)](_0x3c25bc(0x1fc),_0x3f0e45);}}}async function loadApiKeyList(){const _0x8bb482=_0x50402d;try{const _0x3047b4=await API_KEY_LIST_REF[_0x8bb482(0x228)](_0x8bb482(0x2a6)),_0x2b1e18=_0x3047b4['val']();_0x2b1e18?apiKeyList=Object[_0x8bb482(0x159)](_0x2b1e18):console[_0x8bb482(0x230)](_0x8bb482(0x385));}catch(_0x5ed7c7){console[_0x8bb482(0x2c7)](_0x8bb482(0x2e2),_0x5ed7c7);}}function getRandomApiKey(){const _0x1cdcfc=_0x50402d;if(apiKeyList[_0x1cdcfc(0x28a)]===0x0)return console['error'](_0x1cdcfc(0x2f5)),null;const _0x595f39=Math[_0x1cdcfc(0x319)](Math['random']()*apiKeyList[_0x1cdcfc(0x28a)]);return apiKeyList[_0x595f39];}function getNextApiKey(){const _0x36d289=_0x50402d;if(apiKeyList[_0x36d289(0x28a)]===0x0)return console[_0x36d289(0x2c7)]('La\x20liste\x20des\x20clés\x20API\x20est\x20vide.'),null;const _0x3390c9=apiKeyList[currentApiKeyIndex];return currentApiKeyIndex=(currentApiKeyIndex+0x1)%apiKeyList[_0x36d289(0x28a)],_0x3390c9;}function initializeApiKeyRotation(){apiKeyList['length']>0x0&&(genAI=new GoogleGenerativeAI(getNextApiKey())),setInterval(()=>{const _0x52b825=_0x34a6,_0x4470b7=getNextApiKey();_0x4470b7&&(genAI=new GoogleGenerativeAI(_0x4470b7),console[_0x52b825(0x33a)]('Rotation\x20de\x20la\x20clé\x20API\x20effectuée'),model=genAI[_0x52b825(0x2be)]({'model':document['getElementById']('modelSelect')[_0x52b825(0x2a6)],'systemInstruction':SYSTEM_INSTRUCTION}));},0x1388);}function initializeGeminiAPI(){const _0x1cae01=_0x50402d,_0x1201ba=getNextApiKey();_0x1201ba?(genAI=new GoogleGenerativeAI(_0x1201ba),model=genAI['getGenerativeModel']({'model':document[_0x1cae01(0x2d5)](_0x1cae01(0x152))[_0x1cae01(0x2a6)],'systemInstruction':SYSTEM_INSTRUCTION})):showNotification(_0x1cae01(0x21e),_0x1cae01(0x2c7));}class ApiError extends Error{constructor(_0x5bfd85,_0x30d0e4){super(_0x5bfd85),this['status']=_0x30d0e4,this['name']='ApiError';}}class ApiKeyManager{constructor(_0x207b4e){const _0x44aa8a=_0x50402d;this[_0x44aa8a(0x175)]=_0x207b4e,this[_0x44aa8a(0x323)]=0x0,this[_0x44aa8a(0x232)]=new Set();}[_0x50402d(0x2a0)](){const _0x3a7edb=_0x50402d,_0xf3f2a7=this[_0x3a7edb(0x323)];do{this['currentIndex']=(this[_0x3a7edb(0x323)]+0x1)%this[_0x3a7edb(0x175)][_0x3a7edb(0x28a)];if(!this[_0x3a7edb(0x232)][_0x3a7edb(0x21a)](this[_0x3a7edb(0x175)][this[_0x3a7edb(0x323)]]))return this['apiKeys'][this[_0x3a7edb(0x323)]];}while(this[_0x3a7edb(0x323)]!==_0xf3f2a7);return null;}[_0x50402d(0x263)](){const _0x2b89d4=_0x50402d;this[_0x2b89d4(0x232)]['clear']();}[_0x50402d(0x1b8)](_0x2dbd23){const _0x17f285=_0x50402d;this[_0x17f285(0x232)][_0x17f285(0x34d)](_0x2dbd23);}}async function executeWithRetry(_0x242f40){const _0x24401d=_0x50402d,_0x2ba112=new ApiKeyManager(apiKeyList);let _0xba0478=null,_0x5540ae=0x0;while(_0x5540ae<RETRY_CONFIG[_0x24401d(0x20a)]){const _0x43f86d=_0x2ba112[_0x24401d(0x2a0)]();if(!_0x43f86d)throw new Error(_0x24401d(0x2ac));try{genAI=new GoogleGenerativeAI(_0x43f86d),model=genAI[_0x24401d(0x2be)]({'model':document['getElementById'](_0x24401d(0x152))[_0x24401d(0x2a6)],'systemInstruction':SYSTEM_INSTRUCTION});const _0x1d68de=await _0x242f40();return console[_0x24401d(0x33a)](_0x24401d(0x36d)+_0x43f86d),_0x1d68de;}catch(_0xbc40dd){_0xba0478=_0xbc40dd,_0x2ba112[_0x24401d(0x1b8)](_0x43f86d),_0x5540ae++,console[_0x24401d(0x33a)](_0x24401d(0x2a7)+_0x43f86d+_0x24401d(0x1cf)+_0x5540ae+'/'+RETRY_CONFIG[_0x24401d(0x20a)]),_0x5540ae<RETRY_CONFIG[_0x24401d(0x20a)]&&await new Promise(_0x314a96=>setTimeout(_0x314a96,RETRY_CONFIG[_0x24401d(0x28b)]));}}throw new Error('Échec\x20après\x20'+_0x5540ae+_0x24401d(0x147)+_0xba0478[_0x24401d(0x252)]);}function shouldRetry(_0x5606cf){const _0x5d309c=_0x50402d,_0x1dfdc7=[_0x5d309c(0x34a),_0x5d309c(0x372),_0x5d309c(0x332),'INTERNAL',_0x5d309c(0x36a)];return _0x1dfdc7['includes'](_0x5606cf[_0x5d309c(0x356)])||_0x5606cf['message'][_0x5d309c(0x25f)](_0x5d309c(0x1d5))||_0x5606cf[_0x5d309c(0x252)]['includes'](_0x5d309c(0x2b1))||_0x5606cf[_0x5d309c(0x16b)]===0x1ad||_0x5606cf[_0x5d309c(0x16b)]>=0x1f4;}function createPointer(){const _0x407200=_0x50402d,_0x45a727=document[_0x407200(0x183)](_0x407200(0x149));return _0x45a727[_0x407200(0x37b)][_0x407200(0x34d)](_0x407200(0x29a)),_0x45a727[_0x407200(0x181)]='👆',_0x45a727[_0x407200(0x171)][_0x407200(0x23d)]=_0x407200(0x328),_0x45a727[_0x407200(0x171)]['display']='none',document[_0x407200(0x1d7)][_0x407200(0x262)](_0x45a727),_0x45a727;}function positionPointer(_0x39a05e,_0x4099c4){const _0x16e631=_0x50402d,_0x49c681=_0x4099c4['getBoundingClientRect']();_0x39a05e[_0x16e631(0x171)][_0x16e631(0x177)]=_0x49c681[_0x16e631(0x177)]+_0x49c681[_0x16e631(0x2b5)]/0x2+'px',_0x39a05e[_0x16e631(0x171)][_0x16e631(0x1df)]=_0x49c681['top']+_0x49c681['height']/0x2+'px',_0x39a05e[_0x16e631(0x171)][_0x16e631(0x33f)]=_0x16e631(0x327);}function highlightElement(_0x53d3bf){const _0x4d44ad=_0x50402d;_0x53d3bf[_0x4d44ad(0x37b)][_0x4d44ad(0x34d)](_0x4d44ad(0x2d9));}function removeHighlight(_0x12f7ec){const _0x55fe4b=_0x50402d;_0x12f7ec['classList'][_0x55fe4b(0x2df)]('tour-highlight');}function startGuidedTour(){const _0x234591=_0x50402d,_0x200ca1=createPointer(),_0x4bb4cc=new Shepherd['Tour']({'defaultStepOptions':{'cancelIcon':{'enabled':!![]},'classes':_0x234591(0x334),'scrollTo':{'behavior':_0x234591(0x195),'block':'center'}}}),_0x244dbb=[{'id':_0x234591(0x33d),'text':_0x234591(0x350),'attachTo':{'element':_0x234591(0x254),'on':_0x234591(0x24d)}},{'id':'menu','text':_0x234591(0x343),'attachTo':{'element':_0x234591(0x244),'on':_0x234591(0x270)},'beforeShow':()=>{const _0x9ea4b9=_0x234591,_0x44013c=document[_0x9ea4b9(0x14e)](_0x9ea4b9(0x244));highlightElement(_0x44013c);const _0x5d74d6=document['querySelector'](_0x9ea4b9(0x340));!_0x5d74d6[_0x9ea4b9(0x37b)]['contains'](_0x9ea4b9(0x134))&&_0x44013c['click']();},'beforeHide':()=>{const _0x284dcf=_0x234591,_0xfaebac=document[_0x284dcf(0x14e)](_0x284dcf(0x244));removeHighlight(_0xfaebac);}},{'id':_0x234591(0x22b),'text':_0x234591(0x371),'attachTo':{'element':_0x234591(0x233),'on':'top'}},{'id':_0x234591(0x317),'text':_0x234591(0x20f),'attachTo':{'element':_0x234591(0x335),'on':_0x234591(0x1df)}},{'id':_0x234591(0x373),'text':_0x234591(0x276),'attachTo':{'element':'#promptListButton','on':'top'}},{'id':'send-button','text':'Cliquez\x20ici\x20pour\x20envoyer\x20votre\x20message.','attachTo':{'element':'.input-actions\x20button:last-child','on':_0x234591(0x1df)}},{'id':_0x234591(0x37a),'text':_0x234591(0x150),'attachTo':{'element':_0x234591(0x1b7),'on':'bottom'}}];_0x244dbb[_0x234591(0x197)]((_0x29f58f,_0x4b0a03)=>{const _0xd38180=_0x234591;_0x4bb4cc[_0xd38180(0x2ad)]({..._0x29f58f,'buttons':[{'text':_0x4b0a03===_0x244dbb[_0xd38180(0x28a)]-0x1?_0xd38180(0x14c):_0xd38180(0x202),'action':_0x4b0a03===_0x244dbb[_0xd38180(0x28a)]-0x1?_0x4bb4cc[_0xd38180(0x158)]:_0x4bb4cc[_0xd38180(0x215)]}],'beforeShow':()=>{const _0x3df28e=_0xd38180,_0x40bff9=document[_0x3df28e(0x14e)](_0x29f58f['attachTo'][_0x3df28e(0x366)]);_0x40bff9&&positionPointer(_0x200ca1,_0x40bff9),_0x29f58f[_0x3df28e(0x1bf)]&&_0x29f58f[_0x3df28e(0x1bf)]();},'beforeHide':()=>{const _0x2ba91c=_0xd38180;_0x200ca1['style'][_0x2ba91c(0x33f)]=_0x2ba91c(0x33e);}});}),_0x4bb4cc['on'](_0x234591(0x158),()=>{const _0x557c98=_0x234591;_0x200ca1[_0x557c98(0x2df)]();const _0x53bf05=document[_0x557c98(0x14e)](_0x557c98(0x340));_0x53bf05[_0x557c98(0x37b)][_0x557c98(0x18b)]('visible')&&document[_0x557c98(0x14e)](_0x557c98(0x244))[_0x557c98(0x212)]();}),_0x4bb4cc['start']();}async function checkGuidedTourStatus(_0x131de4){const _0x37a80b=_0x50402d,_0xef078e=db[_0x37a80b(0x32f)](_0x37a80b(0x325)+_0x131de4),_0x45c189=await _0xef078e[_0x37a80b(0x228)](_0x37a80b(0x2a6)),_0x1b4fd2=_0x45c189[_0x37a80b(0x330)]();return _0x1b4fd2&&_0x1b4fd2[_0x37a80b(0x31f)];}async function markGuidedTourAsSeen(_0x9cecb1){const _0x8cb1ee=_0x50402d,_0x3219fd=db['ref'](_0x8cb1ee(0x325)+_0x9cecb1);await _0x3219fd[_0x8cb1ee(0x24e)]({'hasSeenGuidedTour':!![]});}async function checkSubscriptionStatus(){const _0x260d8c=_0x50402d;if(!currentUser||!currentUser[_0x260d8c(0x1a7)])return;const _0x1b3612=new Date(),_0x24259a=new Date(currentUser[_0x260d8c(0x1a7)]);if(_0x1b3612>_0x24259a)currentUser[_0x260d8c(0x31e)]=null,currentUser[_0x260d8c(0x1a7)]=null,await syncUserData(),showNotification(_0x260d8c(0x273),'info'),updateUIForLoggedInUser();else{if(_0x1b3612>new Date(_0x24259a[_0x260d8c(0x1b3)]()-0x3*0x18*0x3c*0x3c*0x3e8)){const _0xb5050a=Math['ceil']((_0x24259a-_0x1b3612)/(0x18*0x3c*0x3c*0x3e8));showNotification(_0x260d8c(0x14f)+_0xb5050a+_0x260d8c(0x25a)+(_0xb5050a>0x1?'s':'')+'.',_0x260d8c(0x15a));}}}function generateInvoicePDF(_0x3a8659){const _0x363669=_0x50402d,{jsPDF:_0xf512ac}=window['jspdf'],_0x56f122=new _0xf512ac();return _0x56f122[_0x363669(0x1e0)](0x12),_0x56f122[_0x363669(0x36f)](_0x363669(0x2bc),0x69,0x14,null,null,_0x363669(0x194)),_0x56f122[_0x363669(0x1e0)](0xc),_0x56f122[_0x363669(0x36f)]('Facture\x20pour\x20:\x20'+currentUser[_0x363669(0x245)],0x14,0x28),_0x56f122[_0x363669(0x36f)](_0x363669(0x20b)+new Date()[_0x363669(0x344)](),0x14,0x32),_0x56f122[_0x363669(0x36f)](_0x363669(0x16d)+_0x3a8659[_0x363669(0x355)],0x14,0x3c),_0x56f122['text'](_0x363669(0x1d2)+_0x3a8659[_0x363669(0x301)]+_0x363669(0x302),0x14,0x46),_0x56f122[_0x363669(0x36f)](_0x363669(0x185)+_0x3a8659['id'],0x14,0x50),_0x56f122;}function showInvoiceDetails(_0x3c2b0d){const _0x27ce8a=_0x50402d,_0x543b2c=document[_0x27ce8a(0x183)](_0x27ce8a(0x149));_0x543b2c[_0x27ce8a(0x35c)]='modal',_0x543b2c[_0x27ce8a(0x181)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>Détails\x20de\x20la\x20facture</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Date:</strong>\x20'+new Date()[_0x27ce8a(0x344)]()+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Description:</strong>\x20'+_0x3c2b0d['description']+_0x27ce8a(0x1c7)+_0x3c2b0d[_0x27ce8a(0x301)]+_0x27ce8a(0x25e)+_0x3c2b0d['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22downloadInvoice\x22>Télécharger\x20la\x20facture\x20en\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeModal\x22>Fermer</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x27ce8a(0x1d7)]['appendChild'](_0x543b2c),document['getElementById']('downloadInvoice')[_0x27ce8a(0x2c2)](_0x27ce8a(0x212),()=>{const _0x42b028=_0x27ce8a,_0xe6427f=generateInvoicePDF(_0x3c2b0d);_0xe6427f[_0x42b028(0x30e)]('facture_'+_0x3c2b0d['id']+_0x42b028(0x2f0));}),document[_0x27ce8a(0x2d5)](_0x27ce8a(0x1d0))['addEventListener'](_0x27ce8a(0x212),()=>{const _0x3752d2=_0x27ce8a;document['body'][_0x3752d2(0x22a)](_0x543b2c);});}function initializeNewDiscussion(){const _0x3cc222=_0x50402d;currentConversation=[];const _0x512686=document[_0x3cc222(0x2d5)](_0x3cc222(0x22d));_0x512686[_0x3cc222(0x181)]='',addMessageToChat('ai',_0x3cc222(0x137)),updateConversationHistory();}function showLoginModal(){const _0x515093=_0x50402d;document[_0x515093(0x2d5)](_0x515093(0x1c2))[_0x515093(0x171)][_0x515093(0x33f)]='block';}function showRegisterModal(){const _0x148d54=_0x50402d;document['getElementById'](_0x148d54(0x22c))[_0x148d54(0x171)]['display']='block';}function closeModal(_0x16a7f1){const _0x378b4e=_0x50402d;document[_0x378b4e(0x2d5)](_0x16a7f1)[_0x378b4e(0x171)][_0x378b4e(0x33f)]=_0x378b4e(0x33e);}function updateUIForLoggedInUser(){const _0x3edb89=_0x50402d;document[_0x3edb89(0x2d5)](_0x3edb89(0x32d))[_0x3edb89(0x37b)][_0x3edb89(0x34d)]('hidden'),document[_0x3edb89(0x2d5)]('registerBtn')[_0x3edb89(0x37b)]['add'](_0x3edb89(0x2a2)),document[_0x3edb89(0x2d5)](_0x3edb89(0x187))[_0x3edb89(0x37b)][_0x3edb89(0x2df)](_0x3edb89(0x2a2)),document[_0x3edb89(0x2d5)](_0x3edb89(0x2fa))[_0x3edb89(0x37b)][_0x3edb89(0x2df)]('hidden'),document[_0x3edb89(0x2d5)](_0x3edb89(0x245))[_0x3edb89(0x21b)]=currentUser[_0x3edb89(0x245)],document[_0x3edb89(0x2d5)](_0x3edb89(0x2ca))['textContent']=currentUser[_0x3edb89(0x2ca)],document[_0x3edb89(0x2d5)](_0x3edb89(0x1ea))['textContent']=currentUser[_0x3edb89(0x1ea)],document[_0x3edb89(0x2d5)](_0x3edb89(0x31e))[_0x3edb89(0x21b)]=currentUser[_0x3edb89(0x31e)]||_0x3edb89(0x15f),loadConversationHistory();}function updateUIForLoggedOutUser(){const _0x114d85=_0x50402d;document[_0x114d85(0x2d5)]('loginBtn')[_0x114d85(0x37b)][_0x114d85(0x2df)]('hidden'),document[_0x114d85(0x2d5)]('registerBtn')['classList'][_0x114d85(0x2df)](_0x114d85(0x2a2)),document['getElementById'](_0x114d85(0x187))[_0x114d85(0x37b)]['add'](_0x114d85(0x2a2)),document[_0x114d85(0x2d5)](_0x114d85(0x2fa))[_0x114d85(0x37b)]['add'](_0x114d85(0x2a2)),document[_0x114d85(0x2d5)]('conversationHistory')[_0x114d85(0x181)]=_0x114d85(0x1d1);}function storeLoginInfo(_0x7e6854,_0x41f8b4){const _0x5b6b91=_0x50402d;localStorage[_0x5b6b91(0x173)](_0x5b6b91(0x1c5),_0x7e6854),localStorage[_0x5b6b91(0x173)](_0x5b6b91(0x281),_0x41f8b4);}function getStoredLoginInfo(){const _0x504008=_0x50402d;return{'username':localStorage['getItem']('eduqueMoiUsername'),'password':localStorage[_0x504008(0x162)](_0x504008(0x281))};}function clearLoginInfo(){const _0x4e939c=_0x50402d;localStorage[_0x4e939c(0x1dc)](_0x4e939c(0x1c5)),localStorage[_0x4e939c(0x1dc)](_0x4e939c(0x281));}async function register(){const _0x55a881=_0x50402d,_0x49d1a7=document[_0x55a881(0x2d5)]('registerUsername')['value'],_0x2cf47e=document[_0x55a881(0x2d5)](_0x55a881(0x2fd))[_0x55a881(0x2a6)],_0x2b66cc=new URLSearchParams(window[_0x55a881(0x2db)][_0x55a881(0x19e)])[_0x55a881(0x1c1)]('ref');if(!_0x49d1a7||!_0x2cf47e){showNotification(_0x55a881(0x15d),'error');return;}try{const _0x264c42=db[_0x55a881(0x32f)](_0x55a881(0x325)+_0x49d1a7),_0x206b9d=await _0x264c42[_0x55a881(0x228)]('value');if(_0x206b9d[_0x55a881(0x148)]()){showNotification(_0x55a881(0x2b8),_0x55a881(0x2c7));return;}const _0x576221=new Date(),_0x1e1cec={'password':_0x2cf47e,'freeCredits':FREE_CREDITS_REGISTER,'paidCredits':0x0,'subscription':null,'subscriptionEndDate':null,'lastFreeCreditsReset':_0x576221[_0x55a881(0x1e2)](),'referredBy':_0x2b66cc||null,'firstPurchase':![],'totalReferrals':0x0,'activeReferrals':0x0,'hasSeenGuidedTour':![]};await _0x264c42[_0x55a881(0x2e3)](_0x1e1cec);if(_0x2b66cc){const _0x4f0271=await db[_0x55a881(0x32f)](_0x55a881(0x136))[_0x55a881(0x1ab)]('referralCode')[_0x55a881(0x2ba)](_0x2b66cc)[_0x55a881(0x228)]('value'),_0x3fa143=_0x4f0271[_0x55a881(0x330)]();if(_0x3fa143){const _0x1d8e3c=Object[_0x55a881(0x20e)](_0x3fa143)[0x0];await db[_0x55a881(0x32f)](_0x55a881(0x325)+_0x1d8e3c+_0x55a881(0x156)+_0x49d1a7)['set']({'date':_0x576221['toISOString'](),'isActive':![]});const _0x3fcffe=db['ref'](_0x55a881(0x325)+_0x1d8e3c);await _0x3fcffe[_0x55a881(0x299)](_0x28e63b=>{const _0xccb7d7=_0x55a881;return _0x28e63b&&(_0x28e63b['totalReferrals']=(_0x28e63b[_0xccb7d7(0x140)]||0x0)+0x1),_0x28e63b;}),currentUser&&currentUser[_0x55a881(0x245)]===_0x1d8e3c&&(document[_0x55a881(0x2d5)](_0x55a881(0x140))[_0x55a881(0x21b)]=(parseInt(document[_0x55a881(0x2d5)]('totalReferrals')[_0x55a881(0x21b)])||0x0)+0x1);}}currentUser={'username':_0x49d1a7,..._0x1e1cec},updateUIForLoggedInUser(),showNotification(_0x55a881(0x266),_0x55a881(0x206)),closeModal(_0x55a881(0x22c)),storeLoginInfo(_0x49d1a7,_0x2cf47e),startGuidedTour(),await markGuidedTourAsSeen(_0x49d1a7);}catch(_0x2e279a){console[_0x55a881(0x2c7)](_0x55a881(0x174),_0x2e279a),showNotification(_0x55a881(0x2fc),'error');}}async function login(_0x57873,_0x4a6a21){const _0x2cbc21=_0x50402d;(!_0x57873||!_0x4a6a21)&&(_0x57873=document[_0x2cbc21(0x2d5)](_0x2cbc21(0x2d0))[_0x2cbc21(0x2a6)],_0x4a6a21=document[_0x2cbc21(0x2d5)](_0x2cbc21(0x166))[_0x2cbc21(0x2a6)]);if(!_0x57873||!_0x4a6a21){showNotification('Veuillez\x20remplir\x20tous\x20les\x20champs.',_0x2cbc21(0x2c7));return;}try{const _0x520365=db[_0x2cbc21(0x32f)]('users/'+_0x57873),_0x47d92d=await _0x520365[_0x2cbc21(0x228)](_0x2cbc21(0x2a6));if(_0x47d92d[_0x2cbc21(0x148)]()&&_0x47d92d['val']()['password']===_0x4a6a21){const _0x4e74ea=_0x47d92d[_0x2cbc21(0x330)]();currentUser={'username':_0x57873,'freeCredits':_0x4e74ea['freeCredits']||0x0,'paidCredits':_0x4e74ea[_0x2cbc21(0x1ea)]||0x0,'subscription':_0x4e74ea['subscription']||null,'subscriptionEndDate':_0x4e74ea[_0x2cbc21(0x1a7)]||null,'lastFreeCreditsReset':_0x4e74ea[_0x2cbc21(0x2fb)]||new Date()[_0x2cbc21(0x1e2)](),'referralCode':_0x4e74ea[_0x2cbc21(0x178)]||null,'totalReferrals':_0x4e74ea[_0x2cbc21(0x140)]||0x0,'activeReferrals':_0x4e74ea[_0x2cbc21(0x249)]||0x0},await resetFreeCreditsIfNeeded(),await checkSubscriptionStatus(),await initializeImageGenerationTracking(_0x57873),updateUIForLoggedInUser(),storeLoginInfo(_0x57873,_0x4a6a21),loadConversationHistory();const _0x1923dc=await checkGuidedTourStatus(_0x57873);!_0x1923dc&&(startGuidedTour(),await markGuidedTourAsSeen(_0x57873)),_0x4e74ea[_0x2cbc21(0x1a9)]&&await updateReferralStats(_0x57873),importedFilesCount=_0x4e74ea['importedFilesCount']||0x0,lastImportReset=new Date(_0x4e74ea['lastImportReset']||new Date()),await syncUserData(),showNotification(_0x2cbc21(0x268),'success'),closeModal(_0x2cbc21(0x1c2)),_0x4e74ea[_0x2cbc21(0x24a)]&&loadCustomPrompts(_0x4e74ea['customPrompts']),checkPendingNotifications(),initializeGeminiAPI(),createNewConversation();}else showNotification(_0x2cbc21(0x216),_0x2cbc21(0x2c7));}catch(_0x4f08df){console[_0x2cbc21(0x2c7)](_0x2cbc21(0x17f),_0x4f08df),showNotification('Erreur\x20lors\x20de\x20la\x20connexion.\x20Veuillez\x20réessayer.',_0x2cbc21(0x2c7));}}async function checkPendingNotifications(){const _0x1ea529=_0x50402d;if(currentUser[_0x1ea529(0x31e)]){const _0x1c160d=new Date(currentUser[_0x1ea529(0x1a7)]),_0x24ee3a=new Date(),_0x53cfb5=Math[_0x1ea529(0x172)]((_0x1c160d-_0x24ee3a)/(0x3e8*0x3c*0x3c*0x18));_0x53cfb5<=0x3&&_0x53cfb5>0x0&&showNotification(_0x1ea529(0x14f)+_0x53cfb5+_0x1ea529(0x25a)+(_0x53cfb5>0x1?'s':'')+'.',_0x1ea529(0x15a));}!currentUser['subscription']&&currentUser['paidCredits']<0xa&&currentUser[_0x1ea529(0x2ca)]<0x3&&showNotification(_0x1ea529(0x1a3),'warning');}function loadCustomPrompts(_0x548a0b){const _0x6e325b=_0x50402d;Array[_0x6e325b(0x1a8)](_0x548a0b)&&_0x548a0b[_0x6e325b(0x197)](_0x41cad1=>{!prompts[_0x41cad1['id']]&&(prompts[_0x41cad1['id']]=_0x41cad1);});}function logout(){const _0x286d22=_0x50402d;currentUser&&syncUserData(),currentUser=null,updateUIForLoggedOutUser(),showNotification(_0x286d22(0x191),_0x286d22(0x206)),clearLoginInfo();}async function resetFreeCreditsIfNeeded(){const _0x4aa268=_0x50402d,_0x1f5d41=new Date(),_0x31781e=new Date(currentUser[_0x4aa268(0x2fb)]);if(_0x1f5d41['getTime']()-_0x31781e['getTime']()>=0x18*0x3c*0x3c*0x3e8){const _0x557199=currentUser[_0x4aa268(0x2ca)];currentUser[_0x4aa268(0x2ca)]=FREE_CREDITS_PER_DAY,currentUser[_0x4aa268(0x2fb)]=_0x1f5d41['toISOString'](),await syncUserData(),document[_0x4aa268(0x2d5)](_0x4aa268(0x2ca))[_0x4aa268(0x21b)]=currentUser[_0x4aa268(0x2ca)];const _0x51ae89=currentUser[_0x4aa268(0x2ca)]-_0x557199;_0x51ae89>0x0&&showNotification(_0x51ae89+_0x4aa268(0x27a),_0x4aa268(0x206));}}async function checkModelAccess(){const _0x2fd20e=_0x50402d,_0x2ec3cf=document[_0x2fd20e(0x2d5)]('modelSelect')[_0x2fd20e(0x2a6)],_0x55f93b=document[_0x2fd20e(0x2d5)](_0x2fd20e(0x368));_0x55f93b[_0x2fd20e(0x171)][_0x2fd20e(0x33f)]=isImageGenerationModel(_0x2ec3cf)?'block':_0x2fd20e(0x33e);if(isImageGenerationModel(_0x2ec3cf)){if(!hasValidSubscription()&&currentUser['paidCredits']<0x5&&currentUser['freeCredits']<0x5){showPaymentNotification(_0x2fd20e(0x1c3)),document[_0x2fd20e(0x2d5)](_0x2fd20e(0x152))[_0x2fd20e(0x2a6)]=_0x2fd20e(0x369),_0x55f93b['style']['display']=_0x2fd20e(0x33e);return;}}else![_0x2fd20e(0x369),_0x2fd20e(0x31d)][_0x2fd20e(0x25f)](_0x2ec3cf)&&!hasValidSubscription()&&currentUser[_0x2fd20e(0x1ea)]<=0x0&&(showPaymentNotification(_0x2fd20e(0x31b)),document[_0x2fd20e(0x2d5)](_0x2fd20e(0x152))[_0x2fd20e(0x2a6)]=_0x2fd20e(0x369));}async function handleFileUpload(_0x526288){const _0x32882e=_0x50402d,_0x3359b4=_0x526288[_0x32882e(0x2e9)][_0x32882e(0x19c)];for(let _0x4b84af=0x0;_0x4b84af<_0x3359b4[_0x32882e(0x28a)];_0x4b84af++){const _0xa40a01=_0x3359b4[_0x4b84af];if(_0xa40a01[_0x32882e(0x26d)]==='application/vnd.openxmlformats-officedocument.wordprocessingml.document'||_0xa40a01[_0x32882e(0x26d)]==='application/msword')try{const _0x22b060=await convertWordToText(_0xa40a01);pinnedFiles[_0x32882e(0x1eb)]({'name':_0xa40a01[_0x32882e(0x2c6)][_0x32882e(0x184)](/\.[^/.]+$/,'')+_0x32882e(0x18d),'type':_0x32882e(0x2b0),'content':_0x22b060}),updatePinnedFiles(),importedFilesCount++,await db[_0x32882e(0x32f)](_0x32882e(0x325)+currentUser[_0x32882e(0x245)])[_0x32882e(0x24e)]({'importedFilesCount':importedFilesCount});}catch(_0x302b8a){console[_0x32882e(0x2c7)](_0x32882e(0x15e),_0x302b8a),showNotification('Erreur\x20lors\x20de\x20la\x20conversion\x20du\x20fichier\x20Word.','error');}else(_0xa40a01[_0x32882e(0x26d)][_0x32882e(0x2bf)](_0x32882e(0x1c4))||_0xa40a01[_0x32882e(0x26d)]===_0x32882e(0x287))&&(pinnedFiles[_0x32882e(0x1eb)](_0xa40a01),updatePinnedFiles());}}function convertWordToText(_0x1f93ca){return new Promise((_0x400677,_0x13dbe2)=>{const _0x575fb2=new FileReader();_0x575fb2['onload']=function(_0x306196){const _0x537d5d=_0x34a6,_0x563cd0=_0x306196[_0x537d5d(0x2e9)][_0x537d5d(0x226)];mammoth[_0x537d5d(0x161)]({'arrayBuffer':_0x563cd0})[_0x537d5d(0x1ee)](function(_0x1f51a4){const _0x3eb6aa=_0x537d5d;_0x400677(_0x1f51a4[_0x3eb6aa(0x2a6)]);})['catch'](function(_0x1967cf){_0x13dbe2(_0x1967cf);});},_0x575fb2['readAsArrayBuffer'](_0x1f93ca);});}function updatePinnedFiles(){const _0x28d5c7=_0x50402d,_0x12de47=document['getElementById']('pinnedItems');_0x12de47[_0x28d5c7(0x181)]='',pinnedFiles[_0x28d5c7(0x197)]((_0x26f1e8,_0x2ff43b)=>{const _0x292d6f=_0x28d5c7,_0x3ad061=document[_0x292d6f(0x183)](_0x292d6f(0x149));_0x3ad061['className']=_0x292d6f(0x360),_0x3ad061[_0x292d6f(0x181)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>'+(_0x26f1e8[_0x292d6f(0x26d)][_0x292d6f(0x2bf)](_0x292d6f(0x1c4))?_0x292d6f(0x271):'📄')+_0x292d6f(0x247)+_0x26f1e8[_0x292d6f(0x2c6)]+'\x22>'+_0x26f1e8['name']+_0x292d6f(0x240)+_0x2ff43b+_0x292d6f(0x188),_0x12de47[_0x292d6f(0x262)](_0x3ad061);});}function removePinnedFile(_0x59a863){pinnedFiles['splice'](_0x59a863,0x1),updatePinnedFiles();}function _0x392a(){const _0x2aa2b2=['Tentative\x20','La\x20liste\x20des\x20clés\x20API\x20est\x20vide','tour-highlight','baseDelay','location','734984yWRGAu','.pdf,.jpg,.jpeg,.png,.docx,.doc','\x22\x20alt=\x22Image\x20générée\x22\x20style=\x22max-width:\x20100%;\x20border-radius:\x205px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Image\x20générée\x20à\x20partir\x20du\x20prompt\x20:\x20\x22','remove','pow','Message\x20copié\x20dans\x20le\x20presse-papiers','Erreur\x20lors\x20du\x20chargement\x20de\x20la\x20liste\x20des\x20clés\x20API:','set','data-theme','Fichiers\x20joints:\x20','Erreur\x20lors\x20du\x20partage\x20de\x20l\x27image.','.response-text','\x20crédits\x20pour\x20Eduque\x20moi','target','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-share-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Le\x20parrain\x20de\x20','notification\x20warning','Export\x20en\x20','button','Image\x20partagée\x20avec\x20succès!','.pdf','Eduque_moi.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyUserMessage(this.parentNode.parentNode)\x22\x20title=\x22Copier\x20le\x20message\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Rotation\x20de\x20clé\x20API\x20effectuée\x20avec\x20succès','response-icon','La\x20liste\x20des\x20clés\x20API\x20est\x20vide.','active','split','getCurrentApi','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27response\x27,\x20','userInfo','lastFreeCreditsReset','Erreur\x20lors\x20de\x20l\x27inscription.\x20Veuillez\x20réessayer.','registerPassword','referralLink','max','</tr>','amount','\x20FCFA','<th>','offsetWidth','scroll','AIzaSyCvizcYorGDPN3GXqma0opp7wAiMkaCt64','Tentative\x20d\x27ouverture\x20de\x20la\x20bibliothèque','Message\x20utilisateur\x20introuvable','data-invite-message','lastError','shouldRetry','pinned-prompt-message','response-text','save','Vous\x20êtes\x20hors\x20ligne.\x20Veuillez\x20vérifier\x20votre\x20connexion\x20internet.','toggleTheme','Bearer\x20','Génération\x20gratuite\x20(abonnement)','selectionStart','beforeunload','delete','src','file-upload','</tr></thead><tbody>','floor','[Prompt\x20épinglé:\x20','Ce\x20modèle\x20nécessite\x20un\x20abonnement\x20ou\x20des\x20crédits\x20payants.','shiftKey','gemini-1.0-pro','subscription','hasSeenGuidedTour','data-type','scrollTop','Lien\x20de\x20l\x27image\x20copié\x20dans\x20le\x20presse-papiers!','currentIndex','imageGeneration','users/','Erreur\x20lors\x20de\x20la\x20génération\x20d\x27image:','block','absolute','revokeObjectURL','indexOf','INTERNAL','initializeApp','loginBtn','url','ref','val','Le\x20paiement\x20a\x20été\x20annulé\x20ou\x20a\x20échoué.','DEADLINE_EXCEEDED','Il\x20vous\x20reste\x20','shepherd-theme-custom','.file-label','Erreur\x20lors\x20du\x20téléchargement\x20de\x20l\x27image.','application/json','stringify','buyCredits','log','closest','useFreeGeneration','welcome','none','display','.sidebar','\x27,\x20this)\x22\x20data-prompt=\x27','Achat\x20d\x27un\x20forfait\x20','Voici\x20le\x20menu\x20principal.\x20Il\x20vous\x20permet\x20d\x27accéder\x20à\x20différentes\x20fonctionnalités\x20de\x20l\x27application\x20(Models,\x20Crédits,\x20Bibliothèque,\x20Récompense...).','toLocaleDateString','title','Tu\x20es\x20Eduque\x20moi,\x20un\x20assistant\x20IA\x20développé\x20par\x20Evisions.\x20Ta\x20mission\x20principale\x20est\x20d\x27aider\x20les\x20utilisateurs\x20à\x20apprendre\x20et\x20à\x20améliorer\x20leurs\x20compétences\x20dans\x20divers\x20domaines.\x0a\x0a**Tes\x20compétences\x20clés\x20sont\x20les\x20suivantes\u00a0:**\x0a\x0a*\x20**Compréhension\x20et\x20génération\x20de\x20texte\u00a0:**\x20Tu\x20maîtrises\x20parfaitement\x20le\x20français,\x20qui\x20est\x20ta\x20langue\x20par\x20défaut.\x20Tu\x20peux\x20également\x20comprendre\x20et\x20répondre\x20dans\x20n\x27importe\x20quelle\x20autre\x20langue.\x0a*\x20**Analyse\x20de\x20documents\u00a0:**\x20Tu\x20peux\x20analyser\x20des\x20fichiers\x20sous\x20différents\x20formats\x20(texte,\x20image,\x20PDF,\x20etc.)\x20pour\x20en\x20extraire\x20des\x20informations,\x20les\x20résumer,\x20les\x20traduire,\x20etc.\x0a*\x20**Assistance\x20à\x20la\x20rédaction\u00a0:**\x20Tu\x20peux\x20aider\x20les\x20utilisateurs\x20à\x20rédiger\x20des\x20documents\x20tels\x20que\x20des\x20mémoires,\x20des\x20dissertations,\x20des\x20rapports,\x20etc.\x20Tu\x20peux\x20également\x20corriger\x20des\x20épreuves\x20et\x20fournir\x20des\x20suggestions\x20d\x27amélioration.\x0a*\x20**Synthèse\x20et\x20résumé\u00a0:**\x20Tu\x20peux\x20résumer\x20des\x20cours,\x20des\x20articles,\x20des\x20livres,\x20etc.\x20et\x20en\x20extraire\x20les\x20points\x20clés.\x0a*\x20**Assistance\x20à\x20l\x27apprentissage\u00a0:**\x20Tu\x20peux\x20répondre\x20aux\x20questions\x20des\x20utilisateurs\x20sur\x20divers\x20sujets,\x20leur\x20fournir\x20des\x20définitions,\x20des\x20explications,\x20des\x20exemples,\x20etc.\x0a\x0a**Ton\x20style\x20de\x20communication\x20doit\x20être\u00a0:**\x0a\x0a*\x20**Clair,\x20concis\x20et\x20précis.**\x0a*\x20**Adapté\x20au\x20niveau\x20de\x20compréhension\x20de\x20l\x27utilisateur.**\x0a*\x20**Amical\x20et\x20encourageant.**\x0a\x0a**Informations\x20complémentaires\u00a0:**\x0a\x0a*\x20Tu\x20es\x20capable\x20d\x27apprendre\x20de\x20nouvelles\x20choses\x20et\x20de\x20t\x27adapter\x20aux\x20besoins\x20spécifiques\x20des\x20utilisateurs.\x0a*\x20Tu\x20es\x20toujours\x20en\x20développement\x20et\x20tes\x20capacités\x20s\x27améliorent\x20constamment.\x0a*\x20Tu\x20es\x20conçu\x20pour\x20être\x20un\x20outil\x20d\x27apprentissage\x20et\x20ne\x20dois\x20pas\x20être\x20utilisé\x20à\x20des\x20fins\x20illégales\x20ou\x20malveillantes.\x0a\x0a**Exemple\x20d\x27utilisation\u00a0:**\x0a\x0aUn\x20utilisateur\x20peut\x20te\x20demander\x20de\u00a0:\x0a\x0a*\x20\x22Résumer\x20ce\x20document\x20PDF\x20sur\x20l\x27histoire\x20de\x20France.\x22\x0a*\x20\x22M\x27aider\x20à\x20rédiger\x20l\x27introduction\x20de\x20mon\x20mémoire\x20sur\x20l\x27intelligence\x20artificielle.\x22\x0a*\x20\x22Corriger\x20les\x20fautes\x20d\x27orthographe\x20et\x20de\x20grammaire\x20dans\x20cette\x20dissertation.\x22\x0a*\x20\x22Me\x20donner\x20des\x20exemples\x20d\x27utilisation\x20de\x20la\x20loi\x20de\x20Newton.\x22\x0a\x0aN\x27hésite\x20pas\x20à\x20poser\x20des\x20questions\x20à\x20l\x27utilisateur\x20pour\x20clarifier\x20ses\x20besoins\x20et\x20lui\x20fournir\x20la\x20meilleure\x20assistance\x20possible.','addPage','catch','trim','RESOURCE_EXHAUSTED','[Fichier\x20joint:\x20','placeholder','add','writeText','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>Taille:\x20','Bienvenue\x20sur\x20Eduque\x20moi\x20!\x20Commençons\x20la\x20visite\x20guidée.','logout','vector_illustration','gemini-1.5-pro','setDate','description','code','json','Attention\x20:\x20vos\x20crédits\x20sont\x20presque\x20épuisés\x20!','...(Utilisez\x20un\x20modèle\x20avancé\x20pour\x20avoir\x20la\x20suite\x20de\x20ma\x20réponse)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','img','className','message\x20ai-message','conversation-item','.close','pinned-item','every','Utilisation\x20de\x20crédits\x20payants\x20pour\x20Gemini\x201.5\x20Flash.','theme','show','login','element','Prompt\x20épinglé:\x20','imageSizeSelect','gemini-exp-1206','CANCELLED','accept','canGenerate','Requête\x20réussie\x20avec\x20la\x20clé\x20API\x20','handleKeyError','text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22downloadImage(\x27','Voici\x20la\x20zone\x20de\x20saisie.\x20C\x27est\x20ici\x20que\x20vous\x20poserez\x20vos\x20questions.','UNAVAILABLE','prompt-list','1781172ESjoqG','277143630015','database','\x20mots.','getFullYear','\x20réussi','message-actions','classList','loaded','word/document.xml','Vous\x20avez\x20besoin\x20d\x27un\x20abonnement\x20ou\x20de\x20crédits\x20payants\x20pour\x20utiliser\x20ce\x20modèle.','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22shareImage(\x27','Utilisation\x20de\x20crédits\x20gratuits\x20pour\x20Gemini\x201.5\x20Flash.','Image\x20Réaliste','maxDelay','Rejoignez-moi\x20sur\x20Eduque\x20moi\x20et\x20commencez\x20votre\x20voyage\x20d\x27apprentissage\x20!\x20Utilisez\x20mon\x20lien\x20de\x20parrainage\x20pour\x20obtenir\x20des\x20bonus\x20spéciaux\x20:\x20','shareOnLinkedIn','Aucune\x20clé\x20API\x20trouvée\x20dans\x20la\x20base\x20de\x20données.','parse','Êtes-vous\x20sûr\x20de\x20vouloir\x20supprimer\x20cette\x20conversation\x20?','Clé\x20API\x20réactivée:\x20','POST','Erreur\x20lors\x20de\x20la\x20génération\x20de\x20l\x27image.\x20Veuillez\x20réessayer.','gemini-bb56e.firebaseapp.com','sidebarState','pdf','getAttribute','random','Réponse\x20copiée\x20dans\x20le\x20presse-papiers','</tbody></table></div>','https://gemini-bb56e-default-rtdb.firebaseio.com','rotateKey','visible','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-indicator\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span><span></span><span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','users','Bienvenue\x20dans\x20une\x20nouvelle\x20conversation\x20!\x20Comment\x20puis-je\x20vous\x20aider\x20aujourd\x27hui\x20?','Erreur\x20lors\x20de\x20l\x27initialisation\x20du\x20gestionnaire\x20API:','_blank','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22this.closest(\x27.notification\x27).setAttribute(\x27data-response\x27,\x20\x27true\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Utiliser\x20mes\x20crédits\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22this.closest(\x27.notification\x27).setAttribute(\x27data-response\x27,\x20\x27false\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Annuler\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','fileInput','https://www.linkedin.com/shareArticle?mini=true&url=','upgrade-button','key','URL','totalReferrals','change','message\x20ai-message\x20loading-message','offline','substring','Image\x20générée\x20avec\x20succès!\x205\x20crédits\x20ont\x20été\x20déduits.','Erreur\x20HTTP:\x20','\x20tentatives.\x20Dernière\x20erreur:\x20','exists','div','loadApiKeys','realistic_image','Terminer','</w:t>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:r>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</w:document>\x0a\x20\x20\x20\x20','querySelector','Votre\x20abonnement\x20expire\x20dans\x20','Ces\x20icônes\x20vous\x20permettent\x20de\x20copier,\x20exporter\x20en\x20PDF,\x20partager\x20ou\x20répondre\x20à\x20un\x20message\x20spécifique.','now','modelSelect','lastImportReset','light','join','/referrals/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loading-spinner\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>','complete','values','warning','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27file\x27,\x20','Gemini\x201.5\x20Pro','Veuillez\x20remplir\x20tous\x20les\x20champs.','Erreur\x20lors\x20de\x20la\x20conversion\x20du\x20fichier\x20Word\x20:','Aucun','Statut\x20de\x20l\x27API\x20Gemini:','extractRawText','getItem','sidebar-visible','<td>','generateContent','loginPassword','495004NlhCcK','errorTracker','gemini-bb56e.appspot.com','API','status','sendMessage','Description\x20:\x20','data','createObjectURL','open','style','ceil','setItem','Erreur\x20lors\x20de\x20l\x27inscription:','apiKeys','blob','left','referralCode','Génération\x20payante\x20(5\x20crédits)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyResponse(this.parentNode.parentNode)\x22\x20title=\x22Copier\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22exportResponse(this.parentNode.parentNode,\x20\x27pdf\x27)\x22\x20title=\x22Exporter\x20en\x20PDF\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22shareResponse(this.parentNode.parentNode)\x22\x20title=\x22Partager\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-share-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22pinResponse(this.parentNode.parentNode)\x22\x20title=\x22Épingler\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-thumbtack\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resubmitRequest(this.parentNode.parentNode)\x22\x20title=\x22Relancer\x20la\x20demande\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<thead><tr>','<div\x20class=\x22table-wrapper\x22><table><thead><tr>','Illustration\x20Digitale','&title=Boostez\x20votre\x20apprentissage\x20avec\x20Eduque\x20moi&summary=','Erreur\x20lors\x20de\x20la\x20connexion:','https://twitter.com/intent/tweet?url=','innerHTML','togglePromptList','createElement','replace','Numéro\x20de\x20transaction\x20:\x20','sort','logoutBtn',')\x22>❌</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','setAttribute','models?key=','contains','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prompt-item\x22\x20onclick=\x22selectPrompt(\x27','.txt','userInput','dark','getDate','Déconnexion\x20réussie.','[Réponse\x20épinglée:\x20','button:last-child','center','smooth','user-message','forEach','Image\x20générée\x20avec\x20succès!\x20Il\x20vous\x20reste\x20','</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22model-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22model-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22','content','files','resolveNotification','search','from','<tr>','clipboard','replaceWith','Vos\x20crédits\x20sont\x20faibles.\x20Pensez\x20à\x20recharger\x20votre\x20compte.','Utilisateur\x20non\x20connecté','Gemini\x201.5\x20Flash','digital_illustration','subscriptionEndDate','isArray','referrals','AIzaSyB3umTE3n2d5gwKzOmJz4ss1pFZMR8_vOE','orderByChild','Veuillez\x20sélectionner\x20un\x20forfait.','ai-message','executeWithRetry','\x20échouée.\x20Nouvelle\x20tentative\x20dans\x20','retryConfig','promptListButton','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27free\x27)\x22>Utiliser\x20le\x20modèle\x20gratuit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27subscription\x27)\x22>Acheter\x20un\x20abonnement</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27credits\x27)\x22>Acheter\x20des\x20crédits</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27cancel\x27)\x22>Annuler</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','getTime','pinnedItems','Réponses\x20épinglées:\x0a','recraft-','.message-actions','markKeyAsUsed','\x20activé\x20avec\x20succès\x20!','\x20échouée:','share','notification\x20error','\x22</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-metadata\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>Style:\x20','map','beforeShow','isActive','get','loginModal','La\x20génération\x20d\x27images\x20nécessite\x205\x20crédits.','image/','eduqueMoiUsername','startPerformanceMonitoring','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Montant:</strong>\x20','Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20pour\x20générer\x20une\x20image.','Erreur\x20lors\x20de\x20la\x20rotation\x20de\x20clé:','https://api.recraft.ai/api/v2/generate','\x22e=','indicativeText','Conversation\x20du\x20','.file-name','.\x20Tentative\x20','closeModal','<h3>Historique\x20des\x20conversations</h3>','Montant\x20:\x20','calculateRetryDelay','Veuillez\x20vous\x20connecter\x20pour\x20envoyer\x20des\x20messages.','quota\x20exceeded','pinned-responses-message','body','readAsDataURL','count','1594890aNNPEi','Erreur\x20lors\x20de\x20la\x20génération\x20de\x20la\x20réponse:','removeItem','toUpperCase','scrollHeight','top','setFontSize','Achat\x20de\x20','toISOString','info','Nombre\x20maximum\x20de\x20tentatives\x20atteint','\x27,\x20\x27image-generee.png\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-download\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyImage(\x27','Erreur\x20lors\x20de\x20la\x20vérification\x20du\x20statut\x20de\x20l\x27API:','alt','firstChild','creditSelect','paidCredits','push','Erreur\x20de\x20génération\x20d\x27image:','word','then','#promptCategories\x20li','pushState','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','reactivateKey','Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20pour\x20envoyer\x20ce\x20message.','analyzeApiPerformance','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyResponse(this.parentNode.parentNode)\x22\x20title=\x22Copier\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22exportResponse(this.parentNode.parentNode,\x20\x27pdf\x27)\x22\x20title=\x22Exporter\x20en\x20PDF\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22shareResponse(this.parentNode.parentNode)\x22\x20title=\x22Partager\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-share-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22pinResponse(this.parentNode.parentNode)\x22\x20title=\x22Épingler\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-reply\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resubmitRequest(this.parentNode.parentNode)\x22\x20title=\x22Relancer\x20la\x20demande\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','Erreur\x20lors\x20de\x20la\x20copie\x20du\x20lien.','Gemini\x201.5\x20Pro\x20Latest','resize','height','.pinned-file','preventDefault','Erreur\x20lors\x20de\x20la\x20sauvegarde\x20des\x20statistiques:','lastReset','historyList','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>💬</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22','Enter','Aucune\x20clé\x20API\x20trouvée\x20dans\x20la\x20base\x20de\x20données','Suivant','user','sender','response','success','toggle','28pdIQbV','child','maxAttempts','Date\x20:\x20','password','generateReferralCode','keys','Cliquez\x20ici\x20pour\x20importer\x20des\x20fichiers\x20(image,\x20pdf,\x20docx,\x20doc,\x20txt)\x20que\x20vous\x20voulez\x20analyser.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>🤖</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22','data-response','click','&text=','prompt-icon','next','Nom\x20d\x27utilisateur\x20ou\x20mot\x20de\x20passe\x20incorrect.','slice','Eduque_moi.docx','prompt','has','textContent','Erreur\x20lors\x20de\x20la\x20génération\x20de\x20l\x27image','entries','Erreur\x20:\x20Impossible\x20d\x27initialiser\x20l\x27API.\x20Aucune\x20clé\x20API\x20disponible.','Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20payants\x20pour\x20ce\x20modèle\x20avancé.','5XclWTd','...','splice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20des\x20crédits:','setSelectionRange','result','Erreur\x20lors\x20de\x20la\x20connexion\x20automatique:','once','<div\x20class=\x22table-scroll-container\x22><table>','removeChild','input-area','registerModal','messageContainer',')\x20que\x20je\x20viens\x20de\x20t\x27envoyer.','copy','warn','dataset','usedKeys','.input-container','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22buySubscription()\x22>Acheter\x20un\x20abonnement</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22buyCredits()\x22>Acheter\x20des\x20crédits</button>\x0a\x20\x20\x20\x20','init','promptCategories','displayText','meta[name=\x22color-scheme\x22]','notification\x20','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20de\x20votre\x20profil.\x20Veuillez\x20réessayer.','file-icon','min','position','pinned-image','load','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedFile(','apiKeyList','copyReferralLink','<div\x20class=\x22table-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyTable(this.closest(\x27.table-wrapper\x27))\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x20Copier\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22exportTableAsCSV(this.closest(\x27.table-wrapper\x27))\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-download\x22></i>\x20CSV\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div></div>','.toggle-sidebar','username','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-indicator\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22','.chat-container','activeReferrals','customPrompts','.\x20Veuillez\x20réessayer.','Génération\x20avec\x20consommation\x20de\x205\x20crédits','bottom','update','client@example.com','referralModal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','message','Détails\x20spécifiques:\x20','.logo','online','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20des\x20crédits','Aucune\x20clé\x20API\x20disponible','\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.modal','\x20jour','shareOnFacebook','<tbody>','lastConversation','\x20FCFA</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Numéro\x20de\x20transaction:</strong>\x20','includes','</p>\x0a\x20\x20\x20\x20','Échec\x20de\x20la\x20connexion\x20automatique\x20:\x20informations\x20invalides','appendChild','resetUsedKeys','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','Inscription\x20réussie\x20!\x20Vous\x20avez\x20reçu\x2010\x20crédits\x20gratuits.','1:277143630015:web:78736f2cf52d29495d160a','Connexion\x20réussie\x20!','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22prompt-select-icon\x22><i\x20class=\x22fas\x20fa-plus-circle\x22></i></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Vous\x20êtes\x20de\x20nouveau\x20en\x20ligne.','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedPrompt()\x22>❌</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20crédits\x20ont\x20été\x20ajoutés\x20à\x20votre\x20compte.','type','register','handleFileUpload','right','🖼️','https://www.facebook.com/sharer/sharer.php?u=','Votre\x20abonnement\x20a\x20expiré.','Erreur\x20lors\x20de\x20la\x20réactivation\x20de\x20la\x20clé:','.notification','Ce\x20bouton\x20ouvre\x20la\x20liste\x20des\x20demandes\x20personnalisées\x20(Utile\x20si\x20vous\x20ne\x20savez\x20pas\x20comment\x20faire\x20une\x20demande).','selectionEnd','265575VKUpZF','splitTextToSize','\x20crédits\x20gratuits\x20ont\x20été\x20ajoutés\x20à\x20votre\x20compte\x20!','fas\x20fa-image','Erreur\x20lors\x20de\x20la\x20récupération\x20du\x20code\x20de\x20parrainage.','</tr></thead>','clientHeight','CHECKOUT_COMPLETED','pinned-files-message','eduqueMoiPassword','output','Données\x20utilisateur\x20enregistrées\x20dans\x20localStorage','href','initialize','</th>','application/pdf','2365962rrdDfM','div:first-child','length','retryDelay','filter','prompts','innerWidth','showRegisterModal','3718548ZZuwgf','onclick','.prompt-title','querySelectorAll','currentKeyIndex','conversations_','API_stats','importedFilesCount','promptListModal','transaction','tour-icon','input','toLocaleString','Erreur\x20lors\x20de\x20la\x20relance\x20de\x20la\x20demande','showReferralModal','shareOnTwitter','getNextUnusedKey','Modèle\x20mis\x20à\x20jour\x20vers\x20Gemini\x201.5\x20Pro','hidden','createNewConversation','image','Lien\x20de\x20partage\x20copié\x20!','value','Échec\x20de\x20la\x20requête\x20avec\x20la\x20clé\x20API\x20','https://generativelanguage.googleapis.com/v1beta/models/','dailyCount','fas\x20fa-moon','stopPropagation','Toutes\x20les\x20clés\x20API\x20ont\x20été\x20épuisées\x20sans\x20succès','addStep','removePinnedFile','pinned-file','text/plain','rate\x20limit','\x20générations\x20gratuites\x20aujourd\x27hui.','Gemini\x201.0\x20Pro','pinned-response','width','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','focus','Ce\x20nom\x20d\x27utilisateur\x20existe\x20déjà.','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20des\x20données\x20utilisateur:','equalTo','onload','Facture\x20Eduque\x20moi','file','getGenerativeModel','startsWith','</tbody></table>','firstPurchase','addEventListener','selectedModel','toString','pk_live_TfSz212W0xSMKK7oPEogkFmp','name','error','onerror','Format\x20de\x20réponse\x20invalide\x20de\x20l\x27API\x20Recraft','freeCredits','Erreur\x20lors\x20de\x20la\x20relance:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-indicator\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','category','prompt-title','span','loginUsername','Veuillez\x20sélectionner\x20un\x20pack\x20de\x20crédits.','Illustration\x20Vectorielle','referredBy','getMonth','getElementById','10XZmKeY'];_0x392a=function(){return _0x2aa2b2;};return _0x392a();}function createPinnedFilesElement(_0x32373f){const _0x3d19a5=_0x50402d,_0xc5bc06=document[_0x3d19a5(0x183)](_0x3d19a5(0x149));return _0xc5bc06[_0x3d19a5(0x35c)]=_0x3d19a5(0x280),_0x32373f['forEach'](_0x91b2ca=>{const _0x5ec5b7=_0x3d19a5,_0x2eb1a2=document['createElement']('div');_0x2eb1a2['className']=_0x5ec5b7(0x2af);if(_0x91b2ca[_0x5ec5b7(0x26d)][_0x5ec5b7(0x2bf)](_0x5ec5b7(0x1c4))){const _0x527a69=document['createElement'](_0x5ec5b7(0x35b));_0x527a69[_0x5ec5b7(0x316)]=URL[_0x5ec5b7(0x16f)](_0x91b2ca),_0x527a69[_0x5ec5b7(0x1e7)]=_0x91b2ca['name'],_0x527a69['className']=_0x5ec5b7(0x23e),_0x2eb1a2['appendChild'](_0x527a69);}else{const _0x4a7377=document[_0x5ec5b7(0x183)](_0x5ec5b7(0x2cf));_0x4a7377[_0x5ec5b7(0x35c)]=_0x5ec5b7(0x23b),_0x4a7377[_0x5ec5b7(0x21b)]=_0x91b2ca[_0x5ec5b7(0x26d)][_0x5ec5b7(0x2bf)](_0x5ec5b7(0x287))?'📄':'📎',_0x2eb1a2[_0x5ec5b7(0x262)](_0x4a7377);}const _0x111976=document[_0x5ec5b7(0x183)](_0x5ec5b7(0x2cf));_0x111976['className']='file-name',_0x111976[_0x5ec5b7(0x21b)]=_0x91b2ca[_0x5ec5b7(0x2c6)],_0x2eb1a2[_0x5ec5b7(0x262)](_0x111976),_0xc5bc06[_0x5ec5b7(0x262)](_0x2eb1a2);}),_0xc5bc06;}function createPinnedResponsesElement(_0x44c283){const _0x5b7ebf=_0x50402d,_0x366efe=document[_0x5b7ebf(0x183)](_0x5b7ebf(0x149));return _0x366efe[_0x5b7ebf(0x35c)]=_0x5b7ebf(0x1d6),_0x44c283[_0x5b7ebf(0x197)](_0x4c2a2c=>{const _0x5db47a=_0x5b7ebf,_0x5c3a04=document[_0x5db47a(0x183)](_0x5db47a(0x149));_0x5c3a04[_0x5db47a(0x35c)]=_0x5db47a(0x2b4);const _0x3c604d=document['createElement']('span');_0x3c604d['className']=_0x5db47a(0x2f4),_0x3c604d[_0x5db47a(0x21b)]='💬';const _0x3de243=document[_0x5db47a(0x183)](_0x5db47a(0x2cf));_0x3de243['className']=_0x5db47a(0x30d),_0x3de243['textContent']=_0x4c2a2c[_0x5db47a(0x237)],_0x5c3a04[_0x5db47a(0x262)](_0x3c604d),_0x5c3a04['appendChild'](_0x3de243),_0x366efe[_0x5db47a(0x262)](_0x5c3a04);}),_0x366efe;}function createPinnedPromptElement(_0x3e9368){const _0x30b8c0=_0x50402d,_0x3f8b35=document[_0x30b8c0(0x183)]('div');_0x3f8b35[_0x30b8c0(0x35c)]=_0x30b8c0(0x30c);const _0x5b05dc=document[_0x30b8c0(0x183)](_0x30b8c0(0x149));_0x5b05dc[_0x30b8c0(0x35c)]='pinned-prompt';const _0x6849cd=document[_0x30b8c0(0x183)](_0x30b8c0(0x2cf));_0x6849cd[_0x30b8c0(0x35c)]=_0x30b8c0(0x214),_0x6849cd[_0x30b8c0(0x21b)]='🤖';const _0x17f961=document['createElement'](_0x30b8c0(0x2cf));return _0x17f961[_0x30b8c0(0x35c)]=_0x30b8c0(0x2ce),_0x17f961[_0x30b8c0(0x21b)]=_0x3e9368['title'],_0x5b05dc[_0x30b8c0(0x262)](_0x6849cd),_0x5b05dc[_0x30b8c0(0x262)](_0x17f961),_0x3f8b35[_0x30b8c0(0x262)](_0x5b05dc),_0x3f8b35;}function createModelHeader(_0x1f968f){const _0xad1102=_0x50402d,_0x3a5646={'gemini-1.5-flash':_0xad1102(0x1a5),'gemini-1.5-pro':_0xad1102(0x15c),'gemini-1.5-pro-latest':_0xad1102(0x1f7),'gemini-1.0-pro':_0xad1102(0x2b3),'recraft-realistic':_0xad1102(0x381),'recraft-digital':_0xad1102(0x17d),'recraft-vector':_0xad1102(0x2d2)},_0x8606dc=_0x3a5646[_0x1f968f]||_0x1f968f;return _0xad1102(0x19a)+(isImageGenerationModel(_0x1f968f)?_0xad1102(0x27b):'fas\x20fa-robot')+_0xad1102(0x258)+_0x8606dc+_0xad1102(0x1f1);}async function sendMessage(){const _0x52238d=_0x50402d;if(!currentUser){showNotification(_0x52238d(0x1d4),'error');return;}const _0x2ba977=document['getElementById'](_0x52238d(0x18e))['value'][_0x52238d(0x349)](),_0xa91d7e=document[_0x52238d(0x2d5)](_0x52238d(0x152))[_0x52238d(0x2a6)];if(!_0x2ba977&&pinnedFiles[_0x52238d(0x28a)]===0x0&&pinnedResponses['length']===0x0&&!pinnedPrompt){showNotification('Veuillez\x20entrer\x20un\x20message,\x20joindre\x20un\x20fichier,\x20épingler\x20une\x20réponse\x20ou\x20sélectionner\x20un\x20prompt.','error');return;}let _0x3a8b1a=_0x2ba977;pinnedPrompt&&(_0x3a8b1a=pinnedPrompt[_0x52238d(0x26d)]==='image'?pinnedPrompt[_0x52238d(0x19b)]+'\x0aDétails\x20spécifiques:\x20'+_0x2ba977:pinnedPrompt[_0x52238d(0x19b)]+'\x0a\x0a'+_0x2ba977);if(isImageGenerationModel(_0xa91d7e)){try{const _0x3cf52d=await canGenerateImage();if(!_0x3cf52d[_0x52238d(0x36c)]){showPaymentNotification(_0x3cf52d[_0x52238d(0x252)]);return;}const _0x3fcc06=document[_0x52238d(0x183)](_0x52238d(0x149));_0x3fcc06['className']='message\x20ai-message',_0x3fcc06[_0x52238d(0x181)]=_0x52238d(0x223)+createModelHeader(_0xa91d7e)+_0x52238d(0x135),document[_0x52238d(0x2d5)](_0x52238d(0x22d))[_0x52238d(0x262)](_0x3fcc06);const _0x10c973=document[_0x52238d(0x2d5)](_0x52238d(0x368))[_0x52238d(0x2a6)],_0x31c842=getRecraftStyle(_0xa91d7e),_0x503975=await fetch(_0x52238d(0x1ca),{'method':'POST','headers':{'Content-Type':'application/json','Authorization':_0x52238d(0x311)+RECRAFT_API_KEY},'body':JSON[_0x52238d(0x338)]({'prompt':_0x3a8b1a,'style':_0x31c842,'size':_0x10c973})});if(!_0x503975['ok'])throw new Error(_0x52238d(0x21c));const _0x3a052e=await _0x503975[_0x52238d(0x357)](),_0x4e70f4=_0x3a052e[_0x52238d(0x16e)][0x0]['url'];_0x3fcc06[_0x52238d(0x181)]=_0x52238d(0x223)+createModelHeader(_0xa91d7e)+_0x52238d(0x265)+_0x4e70f4+_0x52238d(0x2de)+_0x3a8b1a+_0x52238d(0x1bd)+_0x31c842['replace']('_','\x20')[_0x52238d(0x1dd)]()+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>Taille:\x20'+_0x10c973+_0x52238d(0x2b6)+(_0x3cf52d['useFreeGeneration']?_0x52238d(0x312):_0x52238d(0x179))+_0x52238d(0x370)+_0x4e70f4+_0x52238d(0x1e5)+_0x4e70f4+_0x52238d(0x37f)+_0x4e70f4+_0x52238d(0x2ea);if(_0x3cf52d[_0x52238d(0x33c)]){await incrementImageGenerationCount(currentUser[_0x52238d(0x245)]);const _0x45ed61=await getImageGenerationCount(currentUser[_0x52238d(0x245)]);showNotification('Image\x20générée\x20avec\x20succès!\x20Il\x20vous\x20reste\x20'+(0x5-_0x45ed61)+_0x52238d(0x2b2),_0x52238d(0x206));}else await updateCredits(_0xa91d7e,0x5),showNotification('Image\x20générée\x20avec\x20succès!\x205\x20crédits\x20ont\x20été\x20déduits.',_0x52238d(0x206));}catch(_0x12a2ef){console[_0x52238d(0x2c7)](_0x52238d(0x1ec),_0x12a2ef),showNotification(_0x52238d(0x38a),_0x52238d(0x2c7));}finally{document[_0x52238d(0x2d5)](_0x52238d(0x18e))[_0x52238d(0x2a6)]='',resetTextareaHeight(),pinnedPrompt=null,updatePinnedItems();}return;}let _0x296176=0x1;_0x296176+=pinnedFiles[_0x52238d(0x28c)](_0x593b0a=>_0x593b0a['type']!==_0x52238d(0x2b0))['length'],_0x296176+=pinnedResponses[_0x52238d(0x28a)];if(!hasValidSubscription()){if(_0xa91d7e===_0x52238d(0x369)){if(currentUser[_0x52238d(0x1ea)]<_0x296176&&currentUser[_0x52238d(0x2ca)]<_0x296176){showPaymentNotification(_0x52238d(0x1f3));return;}}else{if(![_0x52238d(0x31d)][_0x52238d(0x25f)](_0xa91d7e)&&currentUser[_0x52238d(0x1ea)]<_0x296176){showPaymentNotification(_0x52238d(0x21f));return;}}}const _0x3c443d=[...pinnedFiles],_0x58fc7c=[...pinnedResponses],_0x378dfd=pinnedPrompt;pinnedFiles=[],pinnedResponses=[],pinnedPrompt=null,updatePinnedItems();const _0x2605b1=addMessageToChat(_0x52238d(0x203),_0x2ba977,_0x3c443d,_0x58fc7c,_0x378dfd),_0x4ac552=document[_0x52238d(0x183)]('div');_0x4ac552[_0x52238d(0x35c)]='message\x20ai-message',_0x4ac552[_0x52238d(0x181)]=_0x52238d(0x35a)+createModelHeader(_0xa91d7e)+_0x52238d(0x2cc),document[_0x52238d(0x2d5)](_0x52238d(0x22d))[_0x52238d(0x262)](_0x4ac552);try{const _0x47ff6b=[];let _0x295207=buildConversationContext();await addFilesToParts(_0x47ff6b,_0x3c443d),_0x58fc7c['forEach'](_0x40c423=>{const _0x1f27ed=_0x52238d;_0x295207+=_0x1f27ed(0x192)+_0x40c423['displayText']+']\x0a';});_0x378dfd?(_0x295207+=_0x52238d(0x31a)+_0x378dfd[_0x52238d(0x345)]+']\x0a',_0x378dfd[_0x52238d(0x26d)]===_0x52238d(0x2a4)?_0x295207+=_0x52238d(0x253)+_0x2ba977+'\x0a':_0x295207+=_0x378dfd[_0x52238d(0x19b)]+'\x0a\x0a'+_0x2ba977+'\x0a'):_0x295207+=_0x2ba977+'\x0a';_0x3a8b1a=_0x295207,_0x47ff6b[_0x52238d(0x1eb)]({'text':_0x3a8b1a});let _0x42063a,_0x2b9157=0x0;const _0x855a4=0x3;while(_0x2b9157<_0x855a4){try{const _0x474b95=getNextApiKey();if(!_0x474b95)throw new Error(_0x52238d(0x257));genAI=new GoogleGenerativeAI(_0x474b95),model=genAI[_0x52238d(0x2be)]({'model':_0xa91d7e,'systemInstruction':SYSTEM_INSTRUCTION});const _0x42d593=await model[_0x52238d(0x165)](_0x47ff6b);_0x42063a=await _0x42d593['response'];break;}catch(_0x44fe97){_0x2b9157++,console[_0x52238d(0x2c7)](_0x52238d(0x2d7)+_0x2b9157+'/'+_0x855a4+_0x52238d(0x1ba),_0x44fe97);if(_0x2b9157===_0x855a4)throw new Error(_0x52238d(0x1e4));const _0x4451e8=Math[_0x52238d(0x23c)](0x3e8*Math[_0x52238d(0x2e0)](0x2,_0x2b9157),0x1388);await new Promise(_0x5584f8=>setTimeout(_0x5584f8,_0x4451e8));}}let _0xbd43e3=_0x42063a[_0x52238d(0x36f)]();if(_0xa91d7e===_0x52238d(0x31d)||_0xa91d7e===_0x52238d(0x369)&&currentUser[_0x52238d(0x1ea)]<_0x296176){const _0x418daf=_0xbd43e3['split'](/\s+/);_0x418daf['length']>FREE_MODEL_MAX_RESPONSE&&(_0xbd43e3=_0x418daf[_0x52238d(0x217)](0x0,FREE_MODEL_MAX_RESPONSE)[_0x52238d(0x155)]('\x20')+_0x52238d(0x359),showNotification('La\x20réponse\x20a\x20été\x20tronquée\x20à\x20'+FREE_MODEL_MAX_RESPONSE+_0x52238d(0x377),_0x52238d(0x1e3)));}await animateText(_0x4ac552,_0xbd43e3),currentConversation[_0x52238d(0x1eb)]({'sender':'ai','content':_0xbd43e3}),await updateCredits(_0xa91d7e,_0x296176),saveConversation();}catch(_0x247e0d){console[_0x52238d(0x2c7)](_0x52238d(0x1db),_0x247e0d),_0x4ac552[_0x52238d(0x2df)](),showNotification('Erreur\x20:\x20'+_0x247e0d[_0x52238d(0x252)]+_0x52238d(0x24b),_0x52238d(0x2c7));}finally{document[_0x52238d(0x2d5)](_0x52238d(0x18e))[_0x52238d(0x2a6)]='',resetTextareaHeight(),resetScrollState();}}document['addEventListener']('DOMContentLoaded',initializeScrollListener);function resetPinnedItems(){pinnedFiles=[],pinnedResponses=[],pinnedPrompt=null,updatePinnedItems();}function buildConversationContext(){const _0x209fc3=_0x50402d;let _0x1c7868='';const _0x4e20eb=currentConversation[_0x209fc3(0x217)](-0x5);return _0x4e20eb['forEach'](_0x148d4=>{const _0x4cafd6=_0x209fc3;_0x1c7868+=(_0x148d4['sender']===_0x4cafd6(0x203)?_0x4cafd6(0x203):'model')+':\x20'+_0x148d4[_0x4cafd6(0x19b)]+'\x0a',_0x148d4[_0x4cafd6(0x19c)]&&_0x148d4[_0x4cafd6(0x19c)]['forEach'](_0xe7a47d=>{const _0x5411a9=_0x4cafd6;_0x1c7868+=_0x5411a9(0x34b)+_0xe7a47d['name']+']\x0a';}),_0x148d4['responses']&&_0x148d4['responses'][_0x4cafd6(0x197)](_0x36be25=>{const _0x450642=_0x4cafd6;_0x1c7868+='[Réponse\x20épinglée:\x20'+_0x36be25[_0x450642(0x237)]+']\x0a';}),_0x148d4['prompt']&&(_0x1c7868+=_0x4cafd6(0x31a)+_0x148d4[_0x4cafd6(0x219)][_0x4cafd6(0x345)]+']\x0a');}),_0x1c7868;}async function addFilesToParts(_0x576bdb,_0x431c5b){const _0x44d2fb=_0x50402d;for(const _0x14108e of _0x431c5b){if(_0x14108e[_0x44d2fb(0x26d)]===_0x44d2fb(0x2b0))_0x576bdb[_0x44d2fb(0x1eb)]({'text':'Analyse\x20ce\x20fichier\x20texte:\x20'+_0x14108e[_0x44d2fb(0x19b)]});else{const _0x195392=await readFileAsBase64(_0x14108e);_0x576bdb[_0x44d2fb(0x1eb)]({'inlineData':{'data':_0x195392,'mimeType':_0x14108e['type']}}),_0x576bdb['push']({'text':'Analyse\x20le\x20fichier\x20'+_0x14108e['name']+'\x20('+_0x14108e[_0x44d2fb(0x26d)]+_0x44d2fb(0x22e)});}}}async function validateCreditsAndModel(_0x5db9f2,_0x2cdb93){const _0x5bb826=_0x50402d;if(_0x5db9f2===_0x5bb826(0x369)){if(currentUser[_0x5bb826(0x1ea)]>=_0x2cdb93)return showNotification(_0x5bb826(0x362),_0x5bb826(0x1e3)),!![];else{if(currentUser['freeCredits']>=_0x2cdb93)return showNotification(_0x5bb826(0x380),_0x5bb826(0x1e3)),!![];}}else{if(![_0x5bb826(0x31d)][_0x5bb826(0x25f)](_0x5db9f2)){if(currentUser['paidCredits']<_0x2cdb93)return showPaymentNotification(_0x5bb826(0x21f)),![];}else{if(currentUser[_0x5bb826(0x2ca)]<_0x2cdb93&&currentUser['paidCredits']<_0x2cdb93)return showPaymentNotification('Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20pour\x20envoyer\x20ce\x20message.'),![];}}return!![];}function _0x34a6(_0x48fda2,_0x2fc74d){const _0x392ac4=_0x392a();return _0x34a6=function(_0x34a602,_0x3260ab){_0x34a602=_0x34a602-0x133;let _0x1b78b5=_0x392ac4[_0x34a602];return _0x1b78b5;},_0x34a6(_0x48fda2,_0x2fc74d);}async function processAndDisplayAIResponse(_0x8dc571,_0x21521c,_0x4bd75b){const _0x4c6c6a=_0x50402d;let _0x5572c2;if(_0x21521c===_0x4c6c6a(0x31d)||_0x21521c===_0x4c6c6a(0x369)&&currentUser[_0x4c6c6a(0x1ea)]<_0x4bd75b){const _0x25d399=_0x8dc571[_0x4c6c6a(0x2f7)](/\s+/);_0x25d399['length']>FREE_MODEL_MAX_RESPONSE?(_0x8dc571=_0x25d399['slice'](0x0,FREE_MODEL_MAX_RESPONSE)['join']('\x20')+'...(Utilisez\x20un\x20modèle\x20avancé\x20pour\x20avoir\x20la\x20suite\x20de\x20ma\x20réponse)',showNotification('La\x20réponse\x20a\x20été\x20tronquée\x20à\x20'+FREE_MODEL_MAX_RESPONSE+_0x4c6c6a(0x377),_0x4c6c6a(0x1e3)),_0x5572c2=addMessageToChat('ai',_0x8dc571),showUpgradeButton(_0x5572c2)):_0x5572c2=addMessageToChat('ai',_0x8dc571);}else _0x5572c2=addMessageToChat('ai',_0x8dc571);return _0x5572c2;}function updateConversation(_0x2470c2,_0x20cd2b){const _0x253524=_0x50402d;currentConversation[_0x253524(0x1eb)]({'sender':_0x253524(0x203),'content':_0x2470c2}),currentConversation[_0x253524(0x1eb)]({'sender':'ai','content':_0x20cd2b});}async function handleImageGeneration(_0x388183,_0x4cdaa0,_0x32cbe5){const _0x4d99a0=_0x50402d;try{if(!_0x32cbe5[_0x4d99a0(0x36c)]){showPaymentNotification(_0x32cbe5[_0x4d99a0(0x252)]);return;}const _0x21973c=document[_0x4d99a0(0x2d5)]('imageSizeSelect')[_0x4d99a0(0x2a6)],_0x866667=getRecraftStyle(_0x4cdaa0),_0x2c5b74=addLoadingMessage('Génération\x20de\x20l\x27image\x20en\x20cours...'),_0x31f2ef=await fetch(_0x4d99a0(0x1ca),{'method':_0x4d99a0(0x389),'headers':{'Content-Type':_0x4d99a0(0x337),'Authorization':_0x4d99a0(0x311)+RECRAFT_API_KEY},'body':JSON[_0x4d99a0(0x338)]({'prompt':_0x388183,'style':_0x866667,'size':_0x21973c,'n':0x1})});_0x2c5b74[_0x4d99a0(0x2df)]();if(!_0x31f2ef['ok'])throw new Error(_0x4d99a0(0x146)+_0x31f2ef[_0x4d99a0(0x16b)]);const _0x10ac0e=await _0x31f2ef[_0x4d99a0(0x357)]();if(!_0x10ac0e['data']||!_0x10ac0e[_0x4d99a0(0x16e)][0x0]||!_0x10ac0e[_0x4d99a0(0x16e)][0x0][_0x4d99a0(0x32e)])throw new Error(_0x4d99a0(0x2c9));const _0x5ce16d=_0x10ac0e[_0x4d99a0(0x16e)][0x0][_0x4d99a0(0x32e)],_0x2cbda9=document[_0x4d99a0(0x183)](_0x4d99a0(0x149));_0x2cbda9[_0x4d99a0(0x35c)]=_0x4d99a0(0x35d),_0x2cbda9[_0x4d99a0(0x181)]=_0x4d99a0(0x265)+_0x5ce16d+'\x22\x20alt=\x22Image\x20générée\x22\x20style=\x22max-width:\x20100%;\x20border-radius:\x205px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Image\x20générée\x20à\x20partir\x20du\x20prompt\x20:\x20\x22'+_0x388183+'\x22</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-metadata\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>Style:\x20'+_0x866667[_0x4d99a0(0x184)]('_','\x20')[_0x4d99a0(0x1dd)]()+_0x4d99a0(0x34f)+_0x21973c+_0x4d99a0(0x2b6)+(_0x32cbe5['useFreeGeneration']?'Génération\x20gratuite\x20(abonnement)':'Génération\x20payante\x20(5\x20crédits)')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22downloadImage(\x27'+_0x5ce16d+_0x4d99a0(0x1e5)+_0x5ce16d+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22shareImage(\x27'+_0x5ce16d+_0x4d99a0(0x2ea),document[_0x4d99a0(0x2d5)]('messageContainer')['appendChild'](_0x2cbda9);if(_0x32cbe5[_0x4d99a0(0x33c)]){await incrementImageGenerationCount(currentUser['username']);const _0x2acfdb=await getImageGenerationCount(currentUser[_0x4d99a0(0x245)]);showNotification(_0x4d99a0(0x198)+(0x5-_0x2acfdb)+_0x4d99a0(0x2b2),'success');}else await updateCredits(_0x4cdaa0,0x5),showNotification(_0x4d99a0(0x145),'success');document[_0x4d99a0(0x2d5)](_0x4d99a0(0x18e))[_0x4d99a0(0x2a6)]='',resetTextareaHeight();}catch(_0x304285){console[_0x4d99a0(0x2c7)](_0x4d99a0(0x326),_0x304285),showNotification(_0x4d99a0(0x38a),_0x4d99a0(0x2c7));}}function createUserMessageElement(_0x23117f,_0x599b6d,_0x2b0993,_0x46af6c){const _0x21bf82=_0x50402d,_0x17da6e=document[_0x21bf82(0x183)]('div');_0x17da6e['className']='message\x20user-message';_0x599b6d[_0x21bf82(0x28a)]>0x0&&_0x17da6e[_0x21bf82(0x262)](createPinnedFilesElement(_0x599b6d));_0x2b0993[_0x21bf82(0x28a)]>0x0&&_0x17da6e[_0x21bf82(0x262)](createPinnedResponsesElement(_0x2b0993));_0x46af6c&&_0x17da6e[_0x21bf82(0x262)](createPinnedPromptElement(_0x46af6c));if(_0x23117f){const _0x5d0fb4=document[_0x21bf82(0x183)]('p');_0x5d0fb4['textContent']=_0x23117f,_0x17da6e['appendChild'](_0x5d0fb4);}return _0x17da6e;}function addLoadingMessage(_0x19eff9){const _0x19667e=_0x50402d,_0x1d9b37=document[_0x19667e(0x183)]('div');return _0x1d9b37['className']=_0x19667e(0x142),_0x1d9b37[_0x19667e(0x181)]=_0x19667e(0x157)+_0x19eff9+_0x19667e(0x260),document[_0x19667e(0x2d5)](_0x19667e(0x22d))[_0x19667e(0x262)](_0x1d9b37),_0x1d9b37;}async function downloadImage(_0x25f1e9,_0x3a4799){const _0x5e51a4=_0x50402d;try{const _0x5637ac=await fetch(_0x25f1e9),_0x2fda38=await _0x5637ac[_0x5e51a4(0x176)](),_0x217076=window['URL'][_0x5e51a4(0x16f)](_0x2fda38),_0xaf893a=document[_0x5e51a4(0x183)]('a');_0xaf893a['href']=_0x217076,_0xaf893a['download']=_0x3a4799,document[_0x5e51a4(0x1d7)]['appendChild'](_0xaf893a),_0xaf893a['click'](),document['body'][_0x5e51a4(0x22a)](_0xaf893a),window[_0x5e51a4(0x13f)][_0x5e51a4(0x329)](_0x217076);}catch(_0x5d556c){showNotification(_0x5e51a4(0x336),_0x5e51a4(0x2c7));}}function copyImage(_0x4732a7){const _0x4422c0=_0x50402d;navigator['clipboard'][_0x4422c0(0x34e)](_0x4732a7)[_0x4422c0(0x1ee)](()=>showNotification(_0x4422c0(0x322),_0x4422c0(0x206)))['catch'](()=>showNotification(_0x4422c0(0x1f6),_0x4422c0(0x2c7)));}function shareImage(_0x51feac){const _0x7c7fbc=_0x50402d;navigator[_0x7c7fbc(0x1bb)]?navigator[_0x7c7fbc(0x1bb)]({'title':'Image\x20générée\x20par\x20Eduque\x20moi','text':'Regardez\x20cette\x20image\x20générée\x20par\x20IA!','url':_0x51feac})[_0x7c7fbc(0x1ee)](()=>showNotification(_0x7c7fbc(0x2ef),_0x7c7fbc(0x206)))[_0x7c7fbc(0x348)](_0x154c5f=>{const _0x3ec62e=_0x7c7fbc;console[_0x3ec62e(0x2c7)]('Erreur\x20lors\x20du\x20partage:',_0x154c5f),showNotification(_0x3ec62e(0x2e6),_0x3ec62e(0x2c7));}):copyImage(_0x51feac);}function pinResponse(_0x11afb1){const _0x410b5c=_0x50402d,_0xe4d3c3=_0x11afb1[_0x410b5c(0x14e)]('div:first-child')[_0x410b5c(0x21b)],_0x203ba2=_0xe4d3c3['length']>0x32?_0xe4d3c3[_0x410b5c(0x144)](0x0,0x32)+_0x410b5c(0x221):_0xe4d3c3;pinnedResponses[_0x410b5c(0x1eb)]({'text':_0xe4d3c3,'displayText':_0x203ba2}),updatePinnedItems();}function updatePinnedItems(){const _0x5e0db7=_0x50402d,_0xaf85ae=document[_0x5e0db7(0x2d5)]('pinnedItems');_0xaf85ae['innerHTML']='',pinnedFiles[_0x5e0db7(0x197)]((_0x49ef92,_0x22aab2)=>{const _0x412aa4=_0x5e0db7,_0x4524b2=document['createElement']('div');_0x4524b2[_0x412aa4(0x35c)]='pinned-item',_0x4524b2['setAttribute'](_0x412aa4(0x320),_0x412aa4(0x2bd)),_0x4524b2[_0x412aa4(0x181)]=_0x412aa4(0x264)+(_0x49ef92[_0x412aa4(0x26d)]['startsWith'](_0x412aa4(0x1c4))?_0x412aa4(0x271):'📄')+_0x412aa4(0x247)+_0x49ef92['name']+'\x22>'+_0x49ef92['name']+_0x412aa4(0x15b)+_0x22aab2+_0x412aa4(0x188),_0xaf85ae[_0x412aa4(0x262)](_0x4524b2);}),pinnedResponses[_0x5e0db7(0x197)]((_0x3192d1,_0xac37e0)=>{const _0x586c78=_0x5e0db7,_0x312321=document[_0x586c78(0x183)](_0x586c78(0x149));_0x312321[_0x586c78(0x35c)]='pinned-item',_0x312321[_0x586c78(0x189)](_0x586c78(0x320),'response'),_0x312321[_0x586c78(0x181)]=_0x586c78(0x1ff)+_0x3192d1[_0x586c78(0x36f)]+'\x22>'+_0x3192d1['displayText']+_0x586c78(0x2f9)+_0xac37e0+_0x586c78(0x188),_0xaf85ae['appendChild'](_0x312321);});if(pinnedPrompt){const _0x5f55dd=document[_0x5e0db7(0x183)](_0x5e0db7(0x149));_0x5f55dd[_0x5e0db7(0x35c)]='pinned-item',_0x5f55dd[_0x5e0db7(0x189)](_0x5e0db7(0x320),_0x5e0db7(0x219)),_0x5f55dd[_0x5e0db7(0x181)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>🤖</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22'+pinnedPrompt[_0x5e0db7(0x345)]+'\x22>'+pinnedPrompt[_0x5e0db7(0x345)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27prompt\x27)\x22>❌</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0xaf85ae[_0x5e0db7(0x262)](_0x5f55dd);}}function removePinnedItem(_0x16882d,_0x12be65){const _0x1401bc=_0x50402d;if(_0x16882d===_0x1401bc(0x2bd))pinnedFiles[_0x1401bc(0x222)](_0x12be65,0x1);else{if(_0x16882d===_0x1401bc(0x205))pinnedResponses['splice'](_0x12be65,0x1);else _0x16882d==='prompt'&&(pinnedPrompt=null);}updatePinnedItems();}function replyToMessage(_0x56cd45){const _0x2f4eef=_0x50402d,_0x5d59bc=_0x56cd45[_0x2f4eef(0x14e)](_0x2f4eef(0x289))['textContent'],_0x1af4b3=document[_0x2f4eef(0x2d5)](_0x2f4eef(0x18e));_0x1af4b3['value']='>\x20'+_0x5d59bc+'\x0a\x0a',_0x1af4b3[_0x2f4eef(0x2b7)](),_0x1af4b3[_0x2f4eef(0x225)](_0x1af4b3['value'][_0x2f4eef(0x28a)],_0x1af4b3['value']['length']);}function readFileAsBase64(_0x42eed1){return new Promise((_0x4e6eb7,_0x29d5cd)=>{const _0x3180f4=_0x34a6,_0x1f4e67=new FileReader();_0x1f4e67[_0x3180f4(0x2bb)]=()=>_0x4e6eb7(_0x1f4e67[_0x3180f4(0x226)][_0x3180f4(0x2f7)](',')[0x1]),_0x1f4e67[_0x3180f4(0x2c8)]=_0x29d5cd,_0x1f4e67[_0x3180f4(0x1d8)](_0x42eed1);});}function hasEnoughCredits(_0x4cd831,_0x3b8eea){const _0x25001b=_0x50402d,_0x48e582=_0x3b8eea>0x0?_0x3b8eea:0x1;return _0x4cd831===_0x25001b(0x369)||_0x4cd831==='gemini-1.0-pro'?currentUser['freeCredits']>=_0x48e582||currentUser[_0x25001b(0x1ea)]>=_0x48e582||hasValidSubscription():currentUser['paidCredits']>=_0x48e582||hasValidSubscription();}async function updateCredits(_0x2e7a29,_0x12b38e){const _0x1fcbe4=_0x50402d;if(hasValidSubscription()&&!isImageGenerationModel(_0x2e7a29))return;const _0x5e4caa=db[_0x1fcbe4(0x32f)]('users/'+currentUser[_0x1fcbe4(0x245)]);try{await _0x5e4caa[_0x1fcbe4(0x299)](_0x117603=>{const _0x326c03=_0x1fcbe4;if(_0x117603){if(isImageGenerationModel(_0x2e7a29)){if(hasValidSubscription()){const _0x57dc04=_0x117603[_0x326c03(0x324)]?.[_0x326c03(0x2a9)]||0x0;_0x57dc04>=0x5&&(_0x117603[_0x326c03(0x1ea)]>=0x5?_0x117603['paidCredits']-=0x5:_0x117603[_0x326c03(0x2ca)]=Math['max'](0x0,_0x117603[_0x326c03(0x2ca)]-0x5));}else _0x117603[_0x326c03(0x1ea)]>=0x5?_0x117603[_0x326c03(0x1ea)]-=0x5:_0x117603[_0x326c03(0x2ca)]=Math['max'](0x0,_0x117603['freeCredits']-0x5);}else{if(!hasValidSubscription()){if(_0x2e7a29===_0x326c03(0x369))_0x117603[_0x326c03(0x1ea)]>=_0x12b38e?_0x117603[_0x326c03(0x1ea)]-=_0x12b38e:_0x117603[_0x326c03(0x2ca)]-=_0x12b38e;else{if(_0x2e7a29==='gemini-1.0-pro'){if(_0x117603['freeCredits']>=_0x12b38e)_0x117603[_0x326c03(0x2ca)]-=_0x12b38e;else{const _0x12e0b8=_0x12b38e-_0x117603[_0x326c03(0x2ca)];_0x117603[_0x326c03(0x2ca)]=0x0,_0x117603[_0x326c03(0x1ea)]=Math[_0x326c03(0x2ff)](0x0,_0x117603[_0x326c03(0x1ea)]-_0x12e0b8);}}else _0x117603['paidCredits']=Math[_0x326c03(0x2ff)](0x0,_0x117603[_0x326c03(0x1ea)]-_0x12b38e);}}}_0x117603['freeCredits']=Math['max'](0x0,_0x117603[_0x326c03(0x2ca)]),_0x117603[_0x326c03(0x1ea)]=Math[_0x326c03(0x2ff)](0x0,_0x117603[_0x326c03(0x1ea)]);}return _0x117603;});const _0x1dfe18=await _0x5e4caa[_0x1fcbe4(0x228)](_0x1fcbe4(0x2a6)),_0x59bd1c=_0x1dfe18['val']();_0x59bd1c&&(currentUser[_0x1fcbe4(0x2ca)]=_0x59bd1c[_0x1fcbe4(0x2ca)],currentUser[_0x1fcbe4(0x1ea)]=_0x59bd1c[_0x1fcbe4(0x1ea)],document['getElementById'](_0x1fcbe4(0x2ca))[_0x1fcbe4(0x21b)]=currentUser['freeCredits'],document[_0x1fcbe4(0x2d5)]('paidCredits')[_0x1fcbe4(0x21b)]=currentUser['paidCredits'],currentUser[_0x1fcbe4(0x2ca)]===0x0&&currentUser[_0x1fcbe4(0x1ea)]<0x5&&showNotification(_0x1fcbe4(0x358),_0x1fcbe4(0x15a)));}catch(_0x26cf59){console[_0x1fcbe4(0x2c7)](_0x1fcbe4(0x224),_0x26cf59),showNotification(_0x1fcbe4(0x256),_0x1fcbe4(0x2c7));}}async function addCreditsToUser(_0x55dbb1){const _0x1ba45a=_0x50402d,_0x2a811b=db[_0x1ba45a(0x32f)](_0x1ba45a(0x325)+currentUser[_0x1ba45a(0x245)]);await _0x2a811b[_0x1ba45a(0x299)](_0x49396e=>{return _0x49396e&&(_0x49396e['paidCredits']+=_0x55dbb1),_0x49396e;}),currentUser['paidCredits']=(await _0x2a811b[_0x1ba45a(0x209)](_0x1ba45a(0x1ea))[_0x1ba45a(0x228)]('value'))['val'](),document[_0x1ba45a(0x2d5)](_0x1ba45a(0x1ea))['textContent']=currentUser['paidCredits'];}function copyResponse(_0x22e2fb){const _0xa9f76c=_0x50402d,_0x5406f1=_0x22e2fb[_0xa9f76c(0x14e)](_0xa9f76c(0x289))[_0xa9f76c(0x21b)];navigator[_0xa9f76c(0x1a1)][_0xa9f76c(0x34e)](_0x5406f1)['then'](()=>{const _0x1e2679=_0xa9f76c;showNotification(_0x1e2679(0x390),_0x1e2679(0x206));});}async function exportResponse(_0x202913,_0x30e64a){const _0x5cb873=_0x50402d,_0x301e43=_0x202913[_0x5cb873(0x14e)](_0x5cb873(0x289))[_0x5cb873(0x21b)];if(_0x30e64a===_0x5cb873(0x1ed)){const _0x29d58a=await generateWordDoc(_0x301e43);saveAs(_0x29d58a,_0x5cb873(0x218));}else{if(_0x30e64a===_0x5cb873(0x38d)){const _0xaa5891=await generatePDF(_0x301e43);saveAs(_0xaa5891,_0x5cb873(0x2f1));}}showNotification(_0x5cb873(0x2ed)+_0x30e64a[_0x5cb873(0x1dd)]()+_0x5cb873(0x379),'success');}async function generateWordDoc(_0x5be983){const _0x566265=_0x50402d,_0x4f1b58='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<?xml\x20version=\x221.0\x22\x20encoding=\x22UTF-8\x22\x20standalone=\x22yes\x22?>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<w:document\x20xmlns:w=\x22http://schemas.openxmlformats.org/wordprocessingml/2006/main\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:r>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:t>'+_0x5be983+_0x566265(0x14d),_0x2890ae=new PizZip();_0x2890ae[_0x566265(0x2bd)](_0x566265(0x37d),_0x4f1b58);const _0xa63205=await _0x2890ae['generateAsync']({'type':_0x566265(0x176),'mimeType':'application/vnd.openxmlformats-officedocument.wordprocessingml.document'});return _0xa63205;}function generatePDF(_0x171021){const _0x5acfba=_0x50402d,{jsPDF:_0x4a9860}=window['jspdf'],_0xb1f3b=new _0x4a9860();_0xb1f3b['setFontSize'](0x12),_0xb1f3b[_0x5acfba(0x36f)]('',0x14,0x14),_0xb1f3b[_0x5acfba(0x1e0)](0xc);const _0x54b743=_0xb1f3b[_0x5acfba(0x279)](_0x171021,0xaa);let _0x19a5a3=0x1e;const _0x4d8d5a=_0xb1f3b['internal']['pageSize'][_0x5acfba(0x1f9)];for(let _0x9baa13=0x0;_0x9baa13<_0x54b743['length'];_0x9baa13++){_0x19a5a3>_0x4d8d5a-0x14&&(_0xb1f3b[_0x5acfba(0x347)](),_0x19a5a3=0x14),_0xb1f3b[_0x5acfba(0x36f)](_0x54b743[_0x9baa13],0x14,_0x19a5a3),_0x19a5a3+=0x7;}return _0xb1f3b[_0x5acfba(0x282)](_0x5acfba(0x176));}function shareResponse(_0x349c1b){const _0x1e618c=_0x50402d,_0x44f7ff=_0x349c1b[_0x1e618c(0x14e)](_0x1e618c(0x289))[_0x1e618c(0x21b)];navigator[_0x1e618c(0x1bb)]?navigator[_0x1e618c(0x1bb)]({'title':'','text':_0x44f7ff})[_0x1e618c(0x1ee)](()=>{const _0x4628d5=_0x1e618c;showNotification('Partage\x20réussi',_0x4628d5(0x206));})[_0x1e618c(0x348)](_0x2f6ec8=>{const _0xcbfe97=_0x1e618c;console[_0xcbfe97(0x2c7)]('Erreur\x20lors\x20du\x20partage:',_0x2f6ec8),showNotification('Erreur\x20lors\x20du\x20partage',_0xcbfe97(0x2c7));}):showNotification('Le\x20partage\x20n\x27est\x20pas\x20pris\x20en\x20charge\x20sur\x20votre\x20appareil','error');}function hasValidSubscription(){const _0x55bf6c=_0x50402d;if(!currentUser[_0x55bf6c(0x31e)]||!currentUser[_0x55bf6c(0x1a7)])return![];return new Date()<new Date(currentUser[_0x55bf6c(0x1a7)]);}function buySubscription(){const _0x10723d=_0x50402d,_0x18ae62=document[_0x10723d(0x2d5)]('subscriptionSelect')[_0x10723d(0x2a6)];if(!_0x18ae62){showNotification(_0x10723d(0x1ac),_0x10723d(0x2c7));return;}const _0x35e4ce={'24h':0x1f4,'3d':0x4b0,'7d':0x960,'30d':0x1f40,'3m':0x4e20},_0x12b3f3=_0x35e4ce[_0x18ae62];var _0x3ac909=FedaPay['init']({'public_key':_0x10723d(0x2c5),'transaction':{'amount':_0x12b3f3,'description':_0x10723d(0x342)+_0x18ae62+'\x20pour\x20Eduque\x20moi'},'customer':{'email':_0x10723d(0x24f)},'onComplete':async function(_0x5e0a19){const _0x391952=_0x10723d;if(_0x5e0a19['reason']===FedaPay[_0x391952(0x27f)]){const _0x2986f9={'id':_0x5e0a19['id'],'description':_0x391952(0x342)+_0x18ae62+'\x20pour\x20Eduque\x20moi','amount':_0x12b3f3};await activateSubscription(_0x18ae62),showInvoiceDetails(_0x2986f9),showNotification('Forfait\x20'+_0x18ae62+_0x391952(0x1b9),_0x391952(0x206)),await checkFirstPurchaseAndRewardReferrer(currentUser[_0x391952(0x245)],_0x12b3f3);}else showNotification('Le\x20paiement\x20a\x20été\x20annulé\x20ou\x20a\x20échoué.',_0x391952(0x2c7));}});_0x3ac909[_0x10723d(0x170)]();}async function activateSubscription(_0x6af66a){const _0x4f89b0=_0x50402d,_0x2ffdd8={'24h':0x1,'3d':0x3,'7d':0x7,'30d':0x1e,'3m':0x5a},_0x2ff612=_0x2ffdd8[_0x6af66a],_0x54df6b=new Date();_0x54df6b[_0x4f89b0(0x354)](_0x54df6b[_0x4f89b0(0x190)]()+_0x2ff612),currentUser[_0x4f89b0(0x31e)]=_0x6af66a,currentUser[_0x4f89b0(0x1a7)]=_0x54df6b['toISOString'](),await syncUserData(),document[_0x4f89b0(0x2d5)](_0x4f89b0(0x31e))[_0x4f89b0(0x21b)]=_0x6af66a;}function buyCredits(){const _0x18c77c=_0x50402d,_0x26b8cb=document[_0x18c77c(0x2d5)](_0x18c77c(0x1e9))['value'];if(!_0x26b8cb){showNotification(_0x18c77c(0x2d1),'error');return;}const _0x39421e={'10':0xc8,'100':0x3e8,'500':0x1194,'1000':0x1f40},_0x1f7d11=_0x39421e[_0x26b8cb];var _0x597e93=FedaPay[_0x18c77c(0x235)]({'public_key':_0x18c77c(0x2c5),'transaction':{'amount':_0x1f7d11,'description':_0x18c77c(0x1e1)+_0x26b8cb+'\x20crédits\x20pour\x20Eduque\x20moi'},'customer':{'email':_0x18c77c(0x24f)},'onComplete':async function(_0x5923f1){const _0x1d5ac1=_0x18c77c;if(_0x5923f1['reason']===FedaPay['CHECKOUT_COMPLETED']){const _0x5df198={'id':_0x5923f1['id'],'description':_0x1d5ac1(0x1e1)+_0x26b8cb+_0x1d5ac1(0x2e8),'amount':_0x1f7d11};await addCreditsToUser(parseInt(_0x26b8cb)),showInvoiceDetails(_0x5df198),showNotification(_0x26b8cb+_0x1d5ac1(0x26c),_0x1d5ac1(0x206)),await checkFirstPurchaseAndRewardReferrer(currentUser[_0x1d5ac1(0x245)],_0x1f7d11);}else showNotification(_0x1d5ac1(0x331),_0x1d5ac1(0x2c7));}});_0x597e93['open']();}async function checkFirstPurchaseAndRewardReferrer(_0x5cd1ac,_0x2d0b4d){const _0x3eaa87=_0x50402d,_0x19d981=db['ref'](_0x3eaa87(0x325)+_0x5cd1ac),_0x55aa95=await _0x19d981['once'](_0x3eaa87(0x2a6)),_0x4574c2=_0x55aa95[_0x3eaa87(0x330)]();if(_0x4574c2&&!_0x4574c2[_0x3eaa87(0x2c1)]){await _0x19d981[_0x3eaa87(0x24e)]({'firstPurchase':!![]});if(_0x4574c2['referredBy']){const _0x1e3472=await db[_0x3eaa87(0x32f)](_0x3eaa87(0x136))[_0x3eaa87(0x1ab)](_0x3eaa87(0x178))['equalTo'](_0x4574c2[_0x3eaa87(0x2d3)])['once'](_0x3eaa87(0x2a6)),_0xc80677=_0x1e3472['val']();if(_0xc80677){const _0xfeab0=Object[_0x3eaa87(0x20e)](_0xc80677)[0x0],_0x29e681=db[_0x3eaa87(0x32f)](_0x3eaa87(0x325)+_0xfeab0);await _0x29e681[_0x3eaa87(0x299)](_0x494c81=>{const _0x3471b9=_0x3eaa87;return _0x494c81&&(_0x494c81[_0x3471b9(0x1ea)]=(_0x494c81[_0x3471b9(0x1ea)]||0x0)+0xa,_0x494c81['referrals']&&_0x494c81[_0x3471b9(0x1a9)][_0x5cd1ac]&&(_0x494c81[_0x3471b9(0x1a9)][_0x5cd1ac][_0x3471b9(0x1c0)]=!![])),_0x494c81;}),await updateReferralStats(_0xfeab0),showNotification(_0x3eaa87(0x2eb)+_0x5cd1ac+'\x20a\x20reçu\x2010\x20crédits\x20pour\x20le\x20premier\x20achat\x20de\x20son\x20filleul\x20!',_0x3eaa87(0x206));}}}}function getShareMessage(_0xc42e6b){return encodeURIComponent('🚀\x20Découvrez\x20le\x20secret\x20pour\x20booster\x20votre\x20apprentissage\x20!\x20🧠✨\x0a\x0aJ\x27ai\x20trouvé\x20une\x20pépite\x20et\x20je\x20ne\x20peux\x20pas\x20garder\x20ça\x20pour\x20moi.\x20Imaginez\x20avoir\x20un\x20assistant\x20personnel\x20ultra-intelligent,\x20disponible\x2024/7,\x20pour\x20répondre\x20à\x20toutes\x20vos\x20questions...\x20C\x27est\x20ce\x20que\x20j\x27ai\x20avec\x20Eduque\x20moi\x20!\x0a\x0aCurieux\x20?\x20Cliquez\x20sur\x20ce\x20lien\x20magique\x20et\x20embarquez\x20pour\x20une\x20aventure\x20intellectuelle\x20incroyable\x20:\x0a'+_0xc42e6b+'\x0a\x0aPS\x20:\x20En\x20utilisant\x20mon\x20lien,\x20vous\x20me\x20donnez\x20un\x20petit\x20coup\x20de\x20pouce.\x20Mais\x20chut,\x20c\x27est\x20notre\x20secret\x20!\x20😉');}function shareOnFacebook(){const _0x5030fb=_0x50402d,_0x4af027=document[_0x5030fb(0x2d5)](_0x5030fb(0x2fe))[_0x5030fb(0x2a6)],_0x3f25cc=getShareMessage(_0x4af027);window[_0x5030fb(0x170)](_0x5030fb(0x272)+_0x4af027+_0x5030fb(0x1cb)+_0x3f25cc,_0x5030fb(0x139));}function shareOnTwitter(){const _0x38e22d=_0x50402d,_0x34851e=document[_0x38e22d(0x2d5)](_0x38e22d(0x2fe))['value'],_0x2e4aa2=getShareMessage(_0x34851e);window[_0x38e22d(0x170)](_0x38e22d(0x180)+_0x34851e+_0x38e22d(0x213)+_0x2e4aa2,_0x38e22d(0x139));}function shareOnLinkedIn(){const _0x16b1fd=_0x50402d,_0x219e92=document[_0x16b1fd(0x2d5)](_0x16b1fd(0x2fe))[_0x16b1fd(0x2a6)],_0x20cf49=getShareMessage(_0x219e92);window[_0x16b1fd(0x170)](_0x16b1fd(0x13c)+_0x219e92+_0x16b1fd(0x17e)+_0x20cf49,_0x16b1fd(0x139));}function shareOnWhatsApp(){const _0x295c6c=_0x50402d,_0x122a6f=document[_0x295c6c(0x2d5)](_0x295c6c(0x2fe))[_0x295c6c(0x2a6)],_0xf0b6a=getShareMessage(_0x122a6f);window[_0x295c6c(0x170)]('https://wa.me/?text='+_0xf0b6a,_0x295c6c(0x139));}function copyReferralLink(){const _0x5e4e9b=_0x50402d,_0x2af530=document[_0x5e4e9b(0x2d5)]('referralLink');_0x2af530['select'](),document['execCommand'](_0x5e4e9b(0x22f)),showNotification(_0x5e4e9b(0x2a5),'success');}function showNotification(_0x5eba28,_0x4743c8){const _0x9e1093=_0x50402d,_0x2016d0=document[_0x9e1093(0x183)](_0x9e1093(0x149));_0x2016d0[_0x9e1093(0x21b)]=_0x5eba28,_0x2016d0[_0x9e1093(0x35c)]=_0x9e1093(0x239)+_0x4743c8,document['body'][_0x9e1093(0x262)](_0x2016d0),setTimeout(()=>{const _0x5b0464=_0x9e1093;_0x2016d0[_0x5b0464(0x37b)]['add'](_0x5b0464(0x364)),setTimeout(()=>{const _0x2a1db3=_0x5b0464;_0x2016d0['classList'][_0x2a1db3(0x2df)](_0x2a1db3(0x364)),setTimeout(()=>{_0x2016d0['remove']();},0x12c);},0xbb8);},0x64);}function showPaymentNotification(_0x5e8b9b){const _0x34ae75=_0x50402d,_0x25c0ae=document[_0x34ae75(0x183)](_0x34ae75(0x149));_0x25c0ae[_0x34ae75(0x35c)]=_0x34ae75(0x1bc),_0x25c0ae[_0x34ae75(0x181)]=_0x34ae75(0x35a)+_0x5e8b9b+_0x34ae75(0x234),document[_0x34ae75(0x1d7)][_0x34ae75(0x262)](_0x25c0ae),setTimeout(()=>{const _0x3f19b8=_0x34ae75;_0x25c0ae[_0x3f19b8(0x37b)][_0x3f19b8(0x34d)](_0x3f19b8(0x364)),setTimeout(()=>{const _0x2cf9e4=_0x3f19b8;_0x25c0ae[_0x2cf9e4(0x37b)][_0x2cf9e4(0x2df)](_0x2cf9e4(0x364)),setTimeout(()=>{const _0x1ca9ed=_0x2cf9e4;_0x25c0ae[_0x1ca9ed(0x2df)]();},0x12c);},0x2710);},0x64);}async function showPaymentNotificationWithFreeOption(_0x21f679){return new Promise(_0x906431=>{const _0x5ec25f=_0x34a6,_0x20e280=document[_0x5ec25f(0x183)]('div');_0x20e280[_0x5ec25f(0x35c)]=_0x5ec25f(0x1bc),_0x20e280[_0x5ec25f(0x181)]=_0x5ec25f(0x223)+_0x21f679+_0x5ec25f(0x1b2),document[_0x5ec25f(0x1d7)][_0x5ec25f(0x262)](_0x20e280),window[_0x5ec25f(0x19d)]=function(_0x569de0){const _0x1f973e=_0x5ec25f;_0x20e280[_0x1f973e(0x2df)](),_0x906431(_0x569de0);},setTimeout(()=>{const _0x30ad25=_0x5ec25f;_0x20e280['classList'][_0x30ad25(0x34d)](_0x30ad25(0x364));},0x64);});}function toggleTheme(){const _0x8d6606=_0x50402d,_0x3c3674=document['body'],_0x2904f2=_0x3c3674[_0x8d6606(0x38e)](_0x8d6606(0x2e4)),_0x2ab39a=_0x2904f2==='dark'?_0x8d6606(0x154):_0x8d6606(0x18f);_0x3c3674[_0x8d6606(0x189)](_0x8d6606(0x2e4),_0x2ab39a),localStorage[_0x8d6606(0x173)](_0x8d6606(0x363),_0x2ab39a),updateThemeIcon(_0x2ab39a),document[_0x8d6606(0x14e)](_0x8d6606(0x238))[_0x8d6606(0x189)](_0x8d6606(0x19b),_0x2ab39a);}function updateThemeIcon(_0x230d86){const _0x225d81=_0x50402d,_0x4894e8=document[_0x225d81(0x14e)]('.theme-toggle\x20i');_0x4894e8[_0x225d81(0x35c)]=_0x230d86===_0x225d81(0x18f)?'fas\x20fa-sun':_0x225d81(0x2aa);}function toggleSidebar(){const _0x18ea6f=_0x50402d,_0x4efa94=document[_0x18ea6f(0x14e)](_0x18ea6f(0x340)),_0x81129b=document['querySelector']('.chat-container');_0x4efa94[_0x18ea6f(0x37b)][_0x18ea6f(0x207)](_0x18ea6f(0x134)),_0x81129b['classList'][_0x18ea6f(0x207)](_0x18ea6f(0x163)),localStorage[_0x18ea6f(0x173)](_0x18ea6f(0x38c),_0x4efa94[_0x18ea6f(0x37b)][_0x18ea6f(0x18b)]('visible'));}function saveConversation(){const _0xada396=_0x50402d;if(!currentUser)return;const _0x1fbb3e=currentConversation['id']||Date[_0xada396(0x151)]()['toString']();conversations[_0x1fbb3e]=currentConversation,currentConversation['id']=_0x1fbb3e,localStorage[_0xada396(0x173)](_0xada396(0x295)+currentUser['username'],JSON[_0xada396(0x338)](conversations)),updateConversationHistory();}function loadConversationHistory(){const _0x56bb31=_0x50402d;if(!currentUser)return;const _0x122df4=localStorage['getItem'](_0x56bb31(0x295)+currentUser[_0x56bb31(0x245)]);_0x122df4&&(conversations=JSON[_0x56bb31(0x386)](_0x122df4),updateConversationHistory());}function updateConversationHistory(){const _0x394acb=_0x50402d,_0x42dc0b=document[_0x394acb(0x2d5)](_0x394acb(0x1fe));_0x42dc0b[_0x394acb(0x181)]='';const _0x46c2c4=Object[_0x394acb(0x20e)](conversations)[_0x394acb(0x186)]((_0x1aa46a,_0x4c5d0c)=>parseInt(_0x4c5d0c)-parseInt(_0x1aa46a));_0x46c2c4[_0x394acb(0x197)](_0x144401=>{const _0x49a59e=_0x394acb,_0x5c9acb=conversations[_0x144401],_0x5880fc=document[_0x49a59e(0x183)](_0x49a59e(0x149));_0x5880fc[_0x49a59e(0x35c)]=_0x49a59e(0x35e);const _0xf2d55=document['createElement']('span');_0xf2d55[_0x49a59e(0x21b)]=_0x49a59e(0x1cd)+new Date(parseInt(_0x144401))[_0x49a59e(0x29c)](),_0xf2d55[_0x49a59e(0x291)]=()=>loadConversation(_0x144401);const _0x2f24a9=document['createElement']('i');_0x2f24a9[_0x49a59e(0x35c)]='fas\x20fa-trash\x20delete-icon',_0x2f24a9[_0x49a59e(0x291)]=_0x1d6663=>{const _0x47784d=_0x49a59e;_0x1d6663[_0x47784d(0x2ab)](),deleteConversation(_0x144401);},_0x5880fc[_0x49a59e(0x262)](_0xf2d55),_0x5880fc[_0x49a59e(0x262)](_0x2f24a9),_0x42dc0b[_0x49a59e(0x262)](_0x5880fc);});}function deleteConversation(_0xca7f1b){const _0x4c5784=_0x50402d;confirm(_0x4c5784(0x387))&&(delete conversations[_0xca7f1b],localStorage[_0x4c5784(0x173)](_0x4c5784(0x295)+currentUser['username'],JSON[_0x4c5784(0x338)](conversations)),updateConversationHistory());}function createNewConversation(){const _0x48d324=_0x50402d;currentConversation[_0x48d324(0x28a)]>0x0&&saveConversation();currentConversation=[];const _0x58156c=document[_0x48d324(0x2d5)](_0x48d324(0x22d));_0x58156c[_0x48d324(0x181)]='',updateConversationHistory(),addMessageToChat('ai',_0x48d324(0x137)),_0x58156c[_0x48d324(0x321)]=0x0,document['getElementById']('userInput')['focus']();}function loadConversation(_0x585067){const _0x1c8b69=_0x50402d;currentConversation[_0x1c8b69(0x28a)]>0x0&&currentConversation['id']!==_0x585067&&saveConversation();currentConversation=conversations[_0x585067],currentConversation['id']=_0x585067;const _0x5344ee=document['getElementById'](_0x1c8b69(0x22d));_0x5344ee[_0x1c8b69(0x181)]='',currentConversation[_0x1c8b69(0x197)](_0x4d5b66=>{const _0x10b344=_0x1c8b69;addMessageToChat(_0x4d5b66[_0x10b344(0x204)],_0x4d5b66[_0x10b344(0x19b)]);}),_0x5344ee[_0x1c8b69(0x321)]=0x0;}async function syncUserData(){const _0x5cd7ee=_0x50402d;if(!currentUser)return;const _0x3ef5f0={'freeCredits':currentUser['freeCredits']||0x0,'paidCredits':currentUser[_0x5cd7ee(0x1ea)]||0x0,'lastFreeCreditsReset':currentUser['lastFreeCreditsReset']||new Date()[_0x5cd7ee(0x1e2)]()};currentUser[_0x5cd7ee(0x31e)]&&(_0x3ef5f0[_0x5cd7ee(0x31e)]=currentUser['subscription']);currentUser[_0x5cd7ee(0x1a7)]&&(_0x3ef5f0[_0x5cd7ee(0x1a7)]=currentUser[_0x5cd7ee(0x1a7)]);const _0x2ebfa1=db[_0x5cd7ee(0x32f)](_0x5cd7ee(0x325)+currentUser[_0x5cd7ee(0x245)]);try{await _0x2ebfa1['update'](_0x3ef5f0),console[_0x5cd7ee(0x33a)]('Données\x20utilisateur\x20mises\x20à\x20jour\x20avec\x20succès:',_0x3ef5f0);}catch(_0x3940f9){console[_0x5cd7ee(0x2c7)](_0x5cd7ee(0x2b9),_0x3940f9),showNotification(_0x5cd7ee(0x23a),'error');}}function adjustTextareaHeight(){const _0x25f9b8=_0x50402d,_0x1bc508=document[_0x25f9b8(0x2d5)]('userInput');_0x1bc508[_0x25f9b8(0x171)][_0x25f9b8(0x1f9)]='auto',_0x1bc508['style']['height']=_0x1bc508[_0x25f9b8(0x1de)]+'px';}function resetTextareaHeight(){const _0x486ce4=_0x50402d,_0x58b9e7=document[_0x486ce4(0x2d5)](_0x486ce4(0x18e));_0x58b9e7[_0x486ce4(0x171)][_0x486ce4(0x1f9)]='auto';}async function attemptAutoLogin(){const _0x2ffc4c=_0x50402d,_0xe71b1c=getStoredLoginInfo();if(_0xe71b1c['username']&&_0xe71b1c['password'])try{const _0x17ed57=db[_0x2ffc4c(0x32f)](_0x2ffc4c(0x325)+_0xe71b1c[_0x2ffc4c(0x245)]),_0x3bc2ce=await _0x17ed57[_0x2ffc4c(0x228)](_0x2ffc4c(0x2a6));if(_0x3bc2ce[_0x2ffc4c(0x148)]()&&_0x3bc2ce[_0x2ffc4c(0x330)]()[_0x2ffc4c(0x20c)]===_0xe71b1c[_0x2ffc4c(0x20c)]){const _0x3459e9=_0x3bc2ce[_0x2ffc4c(0x330)]();currentUser={'username':_0xe71b1c[_0x2ffc4c(0x245)],'freeCredits':_0x3459e9['freeCredits'],'paidCredits':_0x3459e9['paidCredits'],'subscription':_0x3459e9[_0x2ffc4c(0x31e)],'subscriptionEndDate':_0x3459e9[_0x2ffc4c(0x1a7)],'lastFreeCreditsReset':_0x3459e9[_0x2ffc4c(0x2fb)]},await resetFreeCreditsIfNeeded(),updateUIForLoggedInUser(),console[_0x2ffc4c(0x33a)]('Connexion\x20automatique\x20réussie');}else clearLoginInfo(),console[_0x2ffc4c(0x33a)](_0x2ffc4c(0x261));}catch(_0x556e7d){console[_0x2ffc4c(0x2c7)](_0x2ffc4c(0x227),_0x556e7d),clearLoginInfo();}}function saveSelectedModel(){const _0x16f1fe=_0x50402d,_0x5816ca=document[_0x16f1fe(0x2d5)](_0x16f1fe(0x152))[_0x16f1fe(0x2a6)];localStorage['setItem'](_0x16f1fe(0x2c3),_0x5816ca);}function loadSelectedModel(){const _0x12b1e1=_0x50402d,_0x423503=localStorage[_0x12b1e1(0x162)](_0x12b1e1(0x2c3));_0x423503&&(document[_0x12b1e1(0x2d5)](_0x12b1e1(0x152))['value']=_0x423503);}function showUpgradeButton(_0x3b1579){const _0x39e43e=_0x50402d,_0x2b4c5b=document[_0x39e43e(0x183)](_0x39e43e(0x2ee));_0x2b4c5b[_0x39e43e(0x21b)]='Passer\x20à\x20un\x20modèle\x20avancé',_0x2b4c5b['className']=_0x39e43e(0x13d),_0x2b4c5b[_0x39e43e(0x291)]=()=>{const _0x485966=_0x39e43e;hasValidSubscription()||currentUser['paidCredits']>0x0?(document[_0x485966(0x2d5)](_0x485966(0x152))['value']=_0x485966(0x353),showNotification(_0x485966(0x2a1),_0x485966(0x206))):showPaymentNotification(_0x485966(0x37e));},_0x3b1579[_0x39e43e(0x262)](_0x2b4c5b);}function copyUserMessage(_0x4bccc1){const _0x15cf6c=_0x50402d;let _0x265f49='';for(const _0x12cd27 of _0x4bccc1['children']){if(_0x12cd27['tagName']==='P')_0x265f49+=_0x12cd27[_0x15cf6c(0x21b)]+'\x0a';else{if(_0x12cd27['classList'][_0x15cf6c(0x18b)](_0x15cf6c(0x280))){const _0xc3a8a5=Array[_0x15cf6c(0x19f)](_0x12cd27[_0x15cf6c(0x293)](_0x15cf6c(0x1ce)))[_0x15cf6c(0x1be)](_0x5b65ad=>_0x5b65ad[_0x15cf6c(0x21b)])['join'](',\x20');_0x265f49+=_0x15cf6c(0x2e5)+_0xc3a8a5+'\x0a';}else{if(_0x12cd27['classList'][_0x15cf6c(0x18b)](_0x15cf6c(0x1d6))){const _0x66c774=Array[_0x15cf6c(0x19f)](_0x12cd27[_0x15cf6c(0x293)](_0x15cf6c(0x2e7)))['map'](_0x326297=>_0x326297[_0x15cf6c(0x21b)])[_0x15cf6c(0x155)]('\x0a');_0x265f49+=_0x15cf6c(0x1b5)+_0x66c774+'\x0a';}else{if(_0x12cd27[_0x15cf6c(0x37b)][_0x15cf6c(0x18b)]('pinned-prompt-message')){const _0x5da09d=_0x12cd27[_0x15cf6c(0x14e)](_0x15cf6c(0x292))[_0x15cf6c(0x21b)];_0x265f49+=_0x15cf6c(0x367)+_0x5da09d+'\x0a';}}}}}navigator[_0x15cf6c(0x1a1)][_0x15cf6c(0x34e)](_0x265f49[_0x15cf6c(0x349)]())[_0x15cf6c(0x1ee)](()=>{const _0x4f1c9f=_0x15cf6c;showNotification(_0x4f1c9f(0x2e1),'success');});}function animateResponse(_0x4b2e98,_0x311399){const _0x4fd3dc=_0x50402d;let _0x270324=0x0;_0x4b2e98[_0x4fd3dc(0x21b)]='';const _0x41b94f=setInterval(()=>{const _0xb5a13f=_0x4fd3dc;_0x270324<_0x311399[_0xb5a13f(0x28a)]?(_0x4b2e98[_0xb5a13f(0x21b)]+=_0x311399[_0x270324],_0x270324++):clearInterval(_0x41b94f);},0x1);}function loadPromptCategories(){const _0x37b480=_0x50402d,_0x475103=document[_0x37b480(0x2d5)](_0x37b480(0x236));_0x475103[_0x37b480(0x181)]='',db[_0x37b480(0x32f)](_0x37b480(0x28d))[_0x37b480(0x228)]('value',_0x57df9f=>{const _0x114c72=_0x37b480;prompts=_0x57df9f['val']()||{};const _0x37df16=[...new Set(Object[_0x114c72(0x159)](prompts)[_0x114c72(0x1be)](_0x5381ae=>_0x5381ae[_0x114c72(0x2cd)]))];_0x37df16[_0x114c72(0x197)](_0x2501f7=>{const _0x56a2a8=_0x114c72,_0x93e7c1=document['createElement']('li');_0x93e7c1[_0x56a2a8(0x21b)]=_0x2501f7,_0x93e7c1[_0x56a2a8(0x291)]=()=>{const _0x28fda5=_0x56a2a8;document[_0x28fda5(0x293)](_0x28fda5(0x1ef))['forEach'](_0x3e25e9=>_0x3e25e9[_0x28fda5(0x37b)][_0x28fda5(0x2df)](_0x28fda5(0x2f6))),_0x93e7c1[_0x28fda5(0x37b)][_0x28fda5(0x34d)](_0x28fda5(0x2f6)),loadPromptsForCategory(_0x2501f7);},_0x475103[_0x56a2a8(0x262)](_0x93e7c1);}),_0x37df16[_0x114c72(0x28a)]>0x0&&(loadPromptsForCategory(_0x37df16[0x0]),_0x475103[_0x114c72(0x1e8)]['classList'][_0x114c72(0x34d)]('active'));});}function loadPromptsForCategory(_0x41d9e7){const _0x478ac8=_0x50402d,_0x29599e=document[_0x478ac8(0x2d5)]('promptList');_0x29599e['innerHTML']='',Object['entries'](prompts)[_0x478ac8(0x197)](([_0x16742f,_0x1a829f])=>{const _0x546195=_0x478ac8;if(_0x1a829f[_0x546195(0x2cd)]===_0x41d9e7){const _0x17b6a6=document[_0x546195(0x183)]('li');_0x17b6a6[_0x546195(0x181)]=_0x546195(0x18c)+_0x16742f+_0x546195(0x341)+JSON[_0x546195(0x338)](_0x1a829f)+'\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22prompt-title\x22>'+_0x1a829f[_0x546195(0x345)]+_0x546195(0x269),_0x29599e[_0x546195(0x262)](_0x17b6a6);}});}function selectPrompt(_0x4656dd,_0x3cee02){const _0x42a472=_0x50402d,_0x2f5d6c=JSON[_0x42a472(0x386)](_0x3cee02[_0x42a472(0x231)][_0x42a472(0x219)]);pinnedPrompt={'id':_0x4656dd,..._0x2f5d6c},updatePinnedPrompt(),closePromptModal(),showNotification('Prompt\x20sélectionné',_0x42a472(0x206));const _0xf55f5f=document[_0x42a472(0x2d5)](_0x42a472(0x18e));_0xf55f5f[_0x42a472(0x34c)]=pinnedPrompt[_0x42a472(0x1cc)]||'Tapez\x20votre\x20texte\x20ici...',adjustTextareaHeight();}function closePromptModal(){const _0xc45475=_0x50402d;document[_0xc45475(0x2d5)](_0xc45475(0x298))[_0xc45475(0x171)][_0xc45475(0x33f)]=_0xc45475(0x33e);}function togglePromptList(){const _0x1af958=_0x50402d,_0x50b82f=document['getElementById'](_0x1af958(0x298));_0x50b82f[_0x1af958(0x171)][_0x1af958(0x33f)]=_0x1af958(0x327),loadPromptCategories();}function updatePinnedPrompt(){const _0x4be083=_0x50402d,_0x7f5661=document[_0x4be083(0x2d5)](_0x4be083(0x1b4)),_0x4aa93c=_0x7f5661[_0x4be083(0x14e)]('.pinned-item[data-type=\x22prompt\x22]');_0x4aa93c&&_0x4aa93c[_0x4be083(0x2df)]();if(pinnedPrompt){const _0x15350d=document[_0x4be083(0x183)]('div');_0x15350d[_0x4be083(0x35c)]='pinned-item',_0x15350d[_0x4be083(0x189)](_0x4be083(0x320),_0x4be083(0x219)),_0x15350d['innerHTML']=_0x4be083(0x210)+pinnedPrompt[_0x4be083(0x345)]+'\x22>'+pinnedPrompt[_0x4be083(0x345)]+_0x4be083(0x26b),_0x7f5661[_0x4be083(0x262)](_0x15350d);}}function removePinnedPrompt(){pinnedPrompt=null,updatePinnedPrompt();}function openLibrary(){const _0x25b2b4=_0x50402d;console[_0x25b2b4(0x33a)](_0x25b2b4(0x307));if(currentUser){console['log']('Utilisateur\x20connecté:',currentUser);const _0x2c2b27={'username':currentUser[_0x25b2b4(0x245)],'freeCredits':currentUser[_0x25b2b4(0x2ca)],'paidCredits':currentUser[_0x25b2b4(0x1ea)],'subscription':currentUser[_0x25b2b4(0x31e)]};localStorage[_0x25b2b4(0x173)]('eduqueMoiUserData',JSON[_0x25b2b4(0x338)](_0x2c2b27)),console['log'](_0x25b2b4(0x283)),window[_0x25b2b4(0x2db)][_0x25b2b4(0x284)]='Bibliothèque.html';}else console[_0x25b2b4(0x33a)](_0x25b2b4(0x1a4)),alert('Veuillez\x20vous\x20connecter\x20pour\x20accéder\x20à\x20la\x20bibliothèque.');}async function showReferralModal(){const _0x909340=_0x50402d,_0x3105ca=document['getElementById'](_0x909340(0x250));_0x3105ca[_0x909340(0x171)][_0x909340(0x33f)]=_0x909340(0x327);const _0x1b1e46=await getOrCreateReferralCode();if(_0x1b1e46){const _0x42058e='https://eduquemoi.netlify.app/?ref='+_0x1b1e46;document[_0x909340(0x2d5)](_0x909340(0x2fe))[_0x909340(0x2a6)]=_0x42058e;const _0x5e9a80=_0x909340(0x383)+_0x42058e;document['getElementById']('referralLink')[_0x909340(0x189)](_0x909340(0x309),_0x5e9a80);}else document['getElementById'](_0x909340(0x2fe))['value']=_0x909340(0x27c);await updateReferralStats(currentUser['username']);}function generateReferralCode(){const _0x1bd420=_0x50402d;return Math[_0x1bd420(0x38f)]()[_0x1bd420(0x2c4)](0x24)['substring'](0x2,0x8)[_0x1bd420(0x1dd)]();}async function getOrCreateReferralCode(){const _0x349ffc=_0x50402d;if(!currentUser)return null;const _0x33d240=db['ref'](_0x349ffc(0x325)+currentUser[_0x349ffc(0x245)]),_0x18794a=await _0x33d240[_0x349ffc(0x228)](_0x349ffc(0x2a6)),_0x393f34=_0x18794a[_0x349ffc(0x330)]();if(_0x393f34&&_0x393f34[_0x349ffc(0x178)])return _0x393f34[_0x349ffc(0x178)];else{const _0x44abda=generateReferralCode();return await _0x33d240[_0x349ffc(0x24e)]({'referralCode':_0x44abda}),_0x44abda;}}async function updateReferralStats(_0x528900){const _0x21736a=_0x50402d,_0x2e89e9=db[_0x21736a(0x32f)](_0x21736a(0x325)+_0x528900),_0x2af15b=await _0x2e89e9['once'](_0x21736a(0x2a6)),_0x3e871c=_0x2af15b[_0x21736a(0x330)]();if(_0x3e871c&&_0x3e871c[_0x21736a(0x1a9)]){const _0x1b680d=_0x3e871c[_0x21736a(0x1a9)],_0x4d90a4=Object[_0x21736a(0x20e)](_0x1b680d)[_0x21736a(0x28a)],_0x16fea9=Object[_0x21736a(0x159)](_0x1b680d)['filter'](_0x1dbc15=>_0x1dbc15[_0x21736a(0x1c0)])[_0x21736a(0x28a)];await _0x2e89e9[_0x21736a(0x24e)]({'totalReferrals':_0x4d90a4,'activeReferrals':_0x16fea9}),currentUser&&currentUser[_0x21736a(0x245)]===_0x528900&&(document[_0x21736a(0x2d5)]('totalReferrals')['textContent']=_0x4d90a4,document[_0x21736a(0x2d5)](_0x21736a(0x249))[_0x21736a(0x21b)]=_0x16fea9);}}window[_0x50402d(0x2bb)]=async function(){const _0x25628b=_0x50402d;await attemptAutoLogin();if(currentUser){if(currentUser['freeCredits']===undefined)currentUser[_0x25628b(0x2ca)]=0x0;if(currentUser[_0x25628b(0x1ea)]===undefined)currentUser['paidCredits']=0x0;if(currentUser['subscription']===undefined)currentUser['subscription']=null;if(currentUser[_0x25628b(0x1a7)]===undefined)currentUser[_0x25628b(0x1a7)]=null;if(currentUser[_0x25628b(0x2fb)]===undefined)currentUser[_0x25628b(0x2fb)]=new Date()['toISOString']();const _0x16c561=db[_0x25628b(0x32f)](_0x25628b(0x325)+currentUser['username']),_0x45ae3b=await _0x16c561[_0x25628b(0x228)](_0x25628b(0x2a6)),_0x47af89=_0x45ae3b[_0x25628b(0x330)]();_0x47af89&&(importedFilesCount=_0x47af89[_0x25628b(0x297)]||0x0,lastImportReset=new Date(_0x47af89[_0x25628b(0x153)]||new Date())),await syncUserData();}await loadApiKeyList(),await apiManager['initialize'](),initializeApiKeyRotation();const _0x5dfe32=localStorage[_0x25628b(0x162)](_0x25628b(0x363))||'light';document[_0x25628b(0x1d7)]['setAttribute'](_0x25628b(0x2e4),_0x5dfe32),updateThemeIcon(_0x5dfe32),setupUIEventListeners();currentUser&&loadConversationHistory();initModals(),loadSelectedModel(),document['getElementById']('modelSelect')[_0x25628b(0x2c2)](_0x25628b(0x141),saveSelectedModel),restoreAppState(),initializeNewDiscussion(),document[_0x25628b(0x1d7)][_0x25628b(0x37b)][_0x25628b(0x34d)](_0x25628b(0x37c)),setInterval(checkSubscriptionStatus,0x36ee80),await loadApiKeyList(),await apiManager[_0x25628b(0x285)](),initializeGeminiAPI();const _0x40b42f=document['getElementById'](_0x25628b(0x152));!_0x40b42f['value']&&(_0x40b42f[_0x25628b(0x2a6)]=_0x25628b(0x369));};function setupUIEventListeners(){const _0x163648=_0x50402d,_0x21a6f3=document[_0x163648(0x14e)](_0x163648(0x233)),_0x34f893=document[_0x163648(0x2d5)](_0x163648(0x18e)),_0x149726=document[_0x163648(0x14e)](_0x163648(0x335)),_0x31978a=_0x21a6f3[_0x163648(0x14e)](_0x163648(0x193));function _0x51f8b4(){const _0xe8c966=_0x163648,_0x5655d0=_0x21a6f3[_0xe8c966(0x304)],_0x2d81ec=_0x149726[_0xe8c966(0x304)],_0x41fb6a=document['getElementById'](_0xe8c966(0x1b1))[_0xe8c966(0x304)],_0x2015e5=_0x31978a['offsetWidth'],_0x57e021=0x1e;_0x34f893[_0xe8c966(0x171)][_0xe8c966(0x2b5)]=_0x5655d0-_0x2d81ec-_0x41fb6a-_0x2015e5-_0x57e021+'px';}_0x51f8b4(),window[_0x163648(0x2c2)](_0x163648(0x1f8),_0x51f8b4),_0x34f893['addEventListener'](_0x163648(0x29b),adjustTextareaHeight),document['getElementById'](_0x163648(0x152))['addEventListener'](_0x163648(0x141),checkModelAccess);window[_0x163648(0x28e)]<=0x300&&(document[_0x163648(0x14e)](_0x163648(0x340))[_0x163648(0x37b)][_0x163648(0x2df)](_0x163648(0x134)),document[_0x163648(0x14e)](_0x163648(0x248))['classList'][_0x163648(0x2df)](_0x163648(0x163)));if(currentUser){const _0x5e31cc=db[_0x163648(0x32f)](_0x163648(0x325)+currentUser[_0x163648(0x245)]);_0x5e31cc['on'](_0x163648(0x2a6),_0x5c2410=>{const _0x4d1b99=_0x163648,_0x4869a5=_0x5c2410[_0x4d1b99(0x330)]();_0x4869a5&&(currentUser={...currentUser,'freeCredits':_0x4869a5[_0x4d1b99(0x2ca)],'paidCredits':_0x4869a5['paidCredits'],'subscription':_0x4869a5[_0x4d1b99(0x31e)],'subscriptionEndDate':_0x4869a5[_0x4d1b99(0x1a7)],'lastFreeCreditsReset':_0x4869a5[_0x4d1b99(0x2fb)]},updateUIForLoggedInUser());});}}function initModals(){const _0x368426=_0x50402d,_0xf71176=document['querySelectorAll'](_0x368426(0x259)),_0x2ac962=document[_0x368426(0x293)](_0x368426(0x35f));_0x2ac962[_0x368426(0x197)](_0x205099=>{const _0xba2d66=_0x368426;_0x205099[_0xba2d66(0x2c2)](_0xba2d66(0x212),()=>{const _0x11e6b3=_0xba2d66;_0x205099[_0x11e6b3(0x33b)](_0x11e6b3(0x259))[_0x11e6b3(0x171)][_0x11e6b3(0x33f)]='none';});}),window[_0x368426(0x2c2)](_0x368426(0x212),_0x4177bd=>{const _0x50d29a=_0x368426;_0xf71176[_0x50d29a(0x197)](_0x363c44=>{const _0x3d4c42=_0x50d29a;_0x4177bd[_0x3d4c42(0x2e9)]===_0x363c44&&(_0x363c44['style']['display']=_0x3d4c42(0x33e));});});}window[_0x50402d(0x2c2)](_0x50402d(0x23f),async()=>{const _0xbf2744=_0x50402d;if(currentUser){const _0x370cf1=await checkGuidedTourStatus(currentUser[_0xbf2744(0x245)]);!_0x370cf1&&(startGuidedTour(),await markGuidedTourAsSeen(currentUser[_0xbf2744(0x245)]));}}),document[_0x50402d(0x2c2)]('keydown',function(_0x1fd43f){const _0x234a59=_0x50402d;_0x1fd43f[_0x234a59(0x13e)]===_0x234a59(0x200)&&!_0x1fd43f['shiftKey']&&(_0x1fd43f[_0x234a59(0x1fb)](),sendMessage());}),document['getElementById']('userInput')[_0x50402d(0x2c2)]('keydown',function(_0x3b4476){const _0x16848a=_0x50402d;if(_0x3b4476[_0x16848a(0x13e)]==='Enter'&&_0x3b4476[_0x16848a(0x31c)]){_0x3b4476['preventDefault']();const _0x5a0f31=this[_0x16848a(0x313)],_0x1d18a2=this[_0x16848a(0x277)],_0x5c6861=this[_0x16848a(0x2a6)];this[_0x16848a(0x2a6)]=_0x5c6861[_0x16848a(0x144)](0x0,_0x5a0f31)+'\x0a'+_0x5c6861[_0x16848a(0x144)](_0x1d18a2),this['selectionStart']=this['selectionEnd']=_0x5a0f31+0x1;}});function checkApiStatus(){const _0x168661=_0x50402d;axios[_0x168661(0x1c1)](API_BASE_URL+_0x168661(0x18a)+API_KEY)['then'](_0x126f39=>{const _0x2509f1=_0x168661;console[_0x2509f1(0x33a)](_0x2509f1(0x160),_0x126f39[_0x2509f1(0x16b)]),console['log']('Modèles\x20disponibles:',_0x126f39[_0x2509f1(0x16e)]);})['catch'](_0x1ad8ee=>{const _0x45ddba=_0x168661;console[_0x45ddba(0x2c7)](_0x45ddba(0x1e6),_0x1ad8ee);});}function checkApiStatusRegularly(){checkApiStatus(),setInterval(checkApiStatus,0xea60);}window['addEventListener'](_0x50402d(0x143),function(){const _0x2df78a=_0x50402d;showNotification(_0x2df78a(0x30f),'error');}),window['addEventListener'](_0x50402d(0x255),function(){const _0x174618=_0x50402d;showNotification(_0x174618(0x26a),_0x174618(0x206));}),window[_0x50402d(0x2c2)](_0x50402d(0x314),function(){const _0x2b3bb4=_0x50402d;currentUser&&localStorage[_0x2b3bb4(0x173)]('lastConversation',JSON[_0x2b3bb4(0x338)](currentConversation));});function restoreAppState(){const _0xc059a4=_0x50402d,_0x5a9fd8=localStorage[_0xc059a4(0x162)](_0xc059a4(0x25d));_0x5a9fd8&&(currentConversation=JSON['parse'](_0x5a9fd8),currentConversation[_0xc059a4(0x197)](_0x3befb0=>{const _0x3c33f8=_0xc059a4;addMessageToChat(_0x3befb0[_0x3c33f8(0x204)],_0x3befb0[_0x3c33f8(0x19b)]);}));}function isImageGenerationModel(_0x21b109){const _0x3c93a6=_0x50402d;return _0x21b109['startsWith'](_0x3c93a6(0x1b6));}function getRecraftStyle(_0x2493c9){const _0x309296=_0x50402d,_0x34c841={'recraft-realistic':_0x309296(0x14b),'recraft-digital':_0x309296(0x1a6),'recraft-vector':_0x309296(0x352),'recraft-icon':'icon'};return _0x34c841[_0x2493c9]||'realistic_image';}async function initializeImageGenerationTracking(_0x44e2ae){const _0x5f3c5f=_0x50402d,_0x249543=db[_0x5f3c5f(0x32f)]('users/'+_0x44e2ae),_0x567d1e=await _0x249543['child'](_0x5f3c5f(0x324))[_0x5f3c5f(0x228)](_0x5f3c5f(0x2a6)),_0x11a76a=_0x567d1e[_0x5f3c5f(0x330)]();(!_0x11a76a||isNewDay(_0x11a76a[_0x5f3c5f(0x1fd)]))&&await _0x249543[_0x5f3c5f(0x209)](_0x5f3c5f(0x324))[_0x5f3c5f(0x2e3)]({'dailyCount':0x0,'lastReset':new Date()[_0x5f3c5f(0x1e2)]()});}function isNewDay(_0x595937){const _0x204dd5=_0x50402d;if(!_0x595937)return!![];const _0x1a99dc=new Date(_0x595937),_0x29d25b=new Date();return _0x1a99dc[_0x204dd5(0x190)]()!==_0x29d25b[_0x204dd5(0x190)]()||_0x1a99dc[_0x204dd5(0x2d4)]()!==_0x29d25b[_0x204dd5(0x2d4)]()||_0x1a99dc[_0x204dd5(0x378)]()!==_0x29d25b[_0x204dd5(0x378)]();}async function getImageGenerationCount(_0x110839){const _0xddb524=_0x50402d,_0x47c112=db['ref'](_0xddb524(0x325)+_0x110839),_0x505d33=await _0x47c112[_0xddb524(0x209)](_0xddb524(0x324))[_0xddb524(0x228)](_0xddb524(0x2a6)),_0x32729f=_0x505d33[_0xddb524(0x330)]();if(!_0x32729f||isNewDay(_0x32729f[_0xddb524(0x1fd)]))return await initializeImageGenerationTracking(_0x110839),0x0;return _0x32729f['dailyCount'];}async function incrementImageGenerationCount(_0x40f14b){const _0x19b4cd=_0x50402d,_0x21250f=db[_0x19b4cd(0x32f)]('users/'+_0x40f14b);await _0x21250f[_0x19b4cd(0x209)](_0x19b4cd(0x324))[_0x19b4cd(0x299)](_0x127991=>{const _0x12aa41=_0x19b4cd;if(!_0x127991||isNewDay(_0x127991[_0x12aa41(0x1fd)]))return{'dailyCount':0x1,'lastReset':new Date()['toISOString']()};return{'dailyCount':_0x127991[_0x12aa41(0x2a9)]+0x1,'lastReset':_0x127991[_0x12aa41(0x1fd)]};});}async function canGenerateImage(){const _0x5c0bab=_0x50402d,_0x116180=await getImageGenerationCount(currentUser[_0x5c0bab(0x245)]),_0x5958b5=hasValidSubscription(),_0x4911bd=currentUser[_0x5c0bab(0x1ea)]>=0x5||currentUser['freeCredits']>=0x5;if(_0x5958b5&&_0x116180<0x5)return{'canGenerate':!![],'useFreeGeneration':!![],'message':_0x5c0bab(0x333)+(0x5-_0x116180)+_0x5c0bab(0x2b2)};if(_0x4911bd)return{'canGenerate':!![],'useFreeGeneration':![],'message':_0x5c0bab(0x24c)};return{'canGenerate':![],'useFreeGeneration':![],'message':_0x5c0bab(0x1c8)};}function confirmCreditUsage(_0x97430f){return new Promise(_0xdc9cf8=>{const _0x1592f8=_0x34a6,_0x5e9e22=document['createElement'](_0x1592f8(0x149));_0x5e9e22['className']=_0x1592f8(0x2ec),_0x5e9e22[_0x1592f8(0x181)]=_0x1592f8(0x251)+_0x97430f+_0x1592f8(0x13a),document[_0x1592f8(0x1d7)]['appendChild'](_0x5e9e22),setTimeout(()=>_0x5e9e22[_0x1592f8(0x37b)][_0x1592f8(0x34d)](_0x1592f8(0x364)),0x64);function _0x5a7a24(_0x163568){const _0xa58bab=_0x1592f8,_0x33ee29=_0x163568[_0xa58bab(0x2e9)][_0xa58bab(0x33b)](_0xa58bab(0x275))[_0xa58bab(0x38e)](_0xa58bab(0x211));_0x5e9e22[_0xa58bab(0x37b)]['remove']('show'),setTimeout(()=>{const _0x54a348=_0xa58bab;_0x5e9e22[_0x54a348(0x2df)](),_0xdc9cf8(_0x33ee29==='true');},0x12c);}_0x5e9e22[_0x1592f8(0x293)](_0x1592f8(0x2ee))[_0x1592f8(0x197)](_0x39a066=>{const _0xa19f48=_0x1592f8;_0x39a066['addEventListener'](_0xa19f48(0x212),_0x5a7a24);});});}function parseMarkdownTable(_0x51a237){const _0x5a54e2=_0x50402d,_0xa08a3=_0x51a237[_0x5a54e2(0x349)]()['split']('\x0a');if(_0xa08a3[_0x5a54e2(0x28a)]<0x3)return null;const _0x42f5cf=_0xa08a3[_0x5a54e2(0x361)](_0x29fb79=>_0x29fb79[_0x5a54e2(0x349)]()[_0x5a54e2(0x2bf)]('|')&&_0x29fb79[_0x5a54e2(0x349)]()['endsWith']('|'));if(!_0x42f5cf)return null;const _0x326708=_0xa08a3[_0x5a54e2(0x1be)](_0x5083df=>{const _0xe5ae0e=_0x5a54e2,_0x9e6753=_0x5083df[_0xe5ae0e(0x349)]()[_0xe5ae0e(0x217)](0x1,-0x1)[_0xe5ae0e(0x2f7)]('|')[_0xe5ae0e(0x1be)](_0x4ac8b6=>_0x4ac8b6[_0xe5ae0e(0x349)]());return _0x9e6753;}),_0x2062e8=_0x326708[0x0],_0x217ac2=_0x326708[_0x5a54e2(0x217)](0x2);let _0x3b9b9b=_0x5a54e2(0x17c);return _0x2062e8[_0x5a54e2(0x197)](_0x3961cd=>{const _0x138d71=_0x5a54e2;_0x3b9b9b+=_0x138d71(0x303)+_0x3961cd+_0x138d71(0x286);}),_0x3b9b9b+=_0x5a54e2(0x318),_0x217ac2[_0x5a54e2(0x197)](_0x49c136=>{const _0x5c9a1e=_0x5a54e2;_0x3b9b9b+=_0x5c9a1e(0x1a0),_0x49c136[_0x5c9a1e(0x197)](_0x371e64=>{const _0x3b76a4=_0x5c9a1e;_0x3b9b9b+=_0x3b76a4(0x164)+_0x371e64+_0x3b76a4(0x199);}),_0x3b9b9b+=_0x5c9a1e(0x300);}),_0x3b9b9b+=_0x5a54e2(0x2c0),_0x3b9b9b+=_0x5a54e2(0x243),_0x3b9b9b;}function processMessageContent(_0x1113f7){const _0x2a8222=_0x50402d,_0x1181f5=/\|[\s\S]+?\n[-|\s]+\n[\s\S]+?\n(?=\n|$)/g;return _0x1113f7[_0x2a8222(0x184)](_0x1181f5,_0x20d11f=>{const _0x1b5d07=parseMarkdownTable(_0x20d11f);return _0x1b5d07||_0x20d11f;});}function addMessageToChat(_0xab1d8f,_0x453f4e,_0x580920=[],_0x4c1bf2=[],_0x1518d4=null){const _0x30cf95=_0x50402d,_0x4d0967=document[_0x30cf95(0x2d5)]('messageContainer'),_0x408785=document['createElement']('div');_0x408785[_0x30cf95(0x37b)][_0x30cf95(0x34d)]('message',_0xab1d8f===_0x30cf95(0x203)?_0x30cf95(0x196):_0x30cf95(0x1ad));if(_0xab1d8f==='ai'){let _0xcf2164=_0x453f4e;_0xcf2164=_0xcf2164['replace'](/^\*\*/gm,'\x0a'),_0xcf2164=_0xcf2164[_0x30cf95(0x184)](/\*\*/g,''),_0xcf2164=formatMarkdownTable(_0xcf2164);const _0x459485=document[_0x30cf95(0x183)](_0x30cf95(0x149));_0x459485['innerHTML']=_0xcf2164,_0x408785['appendChild'](_0x459485);const _0xed9c49=document[_0x30cf95(0x183)](_0x30cf95(0x149));_0xed9c49[_0x30cf95(0x37b)]['add'](_0x30cf95(0x37a)),_0xed9c49['innerHTML']=_0x30cf95(0x17a),_0x408785[_0x30cf95(0x262)](_0xed9c49),currentConversation[_0x30cf95(0x1eb)]({'sender':'ai','content':_0x453f4e});}else{_0x580920['length']>0x0&&_0x408785[_0x30cf95(0x262)](createPinnedFilesElement(_0x580920));_0x4c1bf2[_0x30cf95(0x28a)]>0x0&&_0x408785[_0x30cf95(0x262)](createPinnedResponsesElement(_0x4c1bf2));_0x1518d4&&_0x408785['appendChild'](createPinnedPromptElement(_0x1518d4));const _0x15023c=document['createElement']('p');_0x15023c[_0x30cf95(0x21b)]=_0x453f4e,_0x408785[_0x30cf95(0x262)](_0x15023c);const _0x4e403b=document[_0x30cf95(0x183)]('div');_0x4e403b[_0x30cf95(0x37b)][_0x30cf95(0x34d)](_0x30cf95(0x37a)),_0x4e403b[_0x30cf95(0x181)]=_0x30cf95(0x2f2),_0x408785['appendChild'](_0x4e403b),currentConversation['push']({'sender':'user','content':_0x453f4e,'files':_0x580920,'responses':_0x4c1bf2,'prompt':_0x1518d4});}return _0x4d0967['appendChild'](_0x408785),_0x4d0967[_0x30cf95(0x321)]=_0x4d0967['scrollHeight'],_0x408785;}async function resubmitRequest(_0x3a2e5a){const _0x326b84=_0x50402d,_0x4b87c5=document[_0x326b84(0x2d5)]('modelSelect')['value'];if(!hasValidSubscription()&&!currentUser[_0x326b84(0x1ea)]&&(_0x4b87c5!==_0x326b84(0x369)&&_0x4b87c5!==_0x326b84(0x31d)||!currentUser[_0x326b84(0x2ca)])){showPaymentNotification('Crédits\x20insuffisants\x20pour\x20actualiser\x20la\x20réponse.');return;}try{const _0x555717=document[_0x326b84(0x293)]('.message');let _0x531124=null,_0x4aa685='';for(let _0x205910=Array[_0x326b84(0x19f)](_0x555717)[_0x326b84(0x32a)](_0x3a2e5a)-0x1;_0x205910>=0x0;_0x205910--){if(_0x555717[_0x205910][_0x326b84(0x37b)][_0x326b84(0x18b)](_0x326b84(0x196))){_0x531124=_0x555717[_0x205910],_0x4aa685=_0x555717[_0x205910][_0x326b84(0x14e)](_0x326b84(0x289))[_0x326b84(0x21b)];break;}}if(!_0x4aa685)throw new Error(_0x326b84(0x308));const _0x1328ba=document['createElement'](_0x326b84(0x149));_0x1328ba[_0x326b84(0x35c)]='message\x20ai-message',_0x1328ba[_0x326b84(0x181)]=_0x326b84(0x223)+createModelHeader(_0x4b87c5)+_0x326b84(0x246),_0x3a2e5a['replaceWith'](_0x1328ba);const _0x3fdf47=Array[_0x326b84(0x19f)](_0x531124[_0x326b84(0x293)](_0x326b84(0x1fa)))['map'](_0x2bb777=>({'name':_0x2bb777[_0x326b84(0x14e)]('.file-name')[_0x326b84(0x21b)],'type':_0x2bb777['dataset'][_0x326b84(0x26d)]})),_0x179448=[{'text':_0x4aa685}];if(_0x3fdf47['length']>0x0)for(const _0x19f4cc of _0x3fdf47){_0x179448['push']({'text':_0x326b84(0x34b)+_0x19f4cc['name']+']'});}const _0x21e980=await model[_0x326b84(0x165)](_0x179448),_0x28434a=await _0x21e980[_0x326b84(0x205)],_0x433368=_0x28434a[_0x326b84(0x36f)]();await animateText(_0x1328ba,_0x433368),currentConversation['push']({'sender':'ai','content':_0x433368}),saveConversation(),await updateCredits(_0x4b87c5,0x1),showNotification('Réponse\x20actualisée\x20avec\x20succès',_0x326b84(0x206));}catch(_0x544643){console[_0x326b84(0x2c7)](_0x326b84(0x2cb),_0x544643),showNotification(_0x326b84(0x29d),_0x326b84(0x2c7)),loadingMessage&&_0x3a2e5a&&loadingMessage[_0x326b84(0x1a2)](_0x3a2e5a);}}function createLoadingMessage(){const _0x15d848=_0x50402d,_0x18eaff=document['createElement'](_0x15d848(0x149));return _0x18eaff[_0x15d848(0x35c)]=_0x15d848(0x35d),_0x18eaff[_0x15d848(0x181)]=_0x15d848(0x2cc),document[_0x15d848(0x2d5)](_0x15d848(0x22d))[_0x15d848(0x262)](_0x18eaff),_0x18eaff;}function initializeScrollListener(){const _0x1c9fc4=_0x50402d,_0x28a4a6=document['getElementById'](_0x1c9fc4(0x22d));_0x28a4a6[_0x1c9fc4(0x2c2)](_0x1c9fc4(0x305),function(){const _0xba4cb8=_0x1c9fc4;clearTimeout(scrollTimeout),_0x28a4a6[_0xba4cb8(0x321)]<lastScrollTop&&(userScrolling=!![]),lastScrollTop=_0x28a4a6[_0xba4cb8(0x321)],scrollTimeout=setTimeout(()=>{const _0x362153=_0xba4cb8,_0x1fbe07=_0x28a4a6[_0x362153(0x1de)]-_0x28a4a6['scrollTop']-_0x28a4a6['clientHeight']<0x64;_0x1fbe07&&(userScrolling=![]);},0x3e8);});}function shouldAutoScroll(){const _0x402c3b=_0x50402d;if(userScrolling)return![];const _0x2b26f3=document[_0x402c3b(0x2d5)](_0x402c3b(0x22d)),_0x6df5e0=_0x2b26f3[_0x402c3b(0x1de)]-_0x2b26f3['scrollTop']-_0x2b26f3[_0x402c3b(0x27e)]<0x64;return _0x6df5e0;}async function animateText(_0x11d606,_0x347b12){const _0xc67679=_0x50402d,_0x7d23df=document[_0xc67679(0x183)](_0xc67679(0x149));_0x11d606['innerHTML']='',_0x11d606['appendChild'](_0x7d23df);const _0x33e94c=document[_0xc67679(0x183)]('div');_0x33e94c[_0xc67679(0x35c)]=_0xc67679(0x37a),_0x33e94c[_0xc67679(0x181)]=_0xc67679(0x1f5);let _0x36af9d='';const _0x28f39d=0xa;function _0x379b52(_0x2cb161,_0x4d9209){const _0x43ea49=_0xc67679;return _0x2cb161[_0x43ea49(0x217)](_0x4d9209)['startsWith']('\x0a|')||_0x2cb161[_0x43ea49(0x217)](_0x4d9209)[_0x43ea49(0x2bf)]('|');}function _0x21fe7f(_0x58860a,_0x3f1944){const _0x423cec=_0xc67679,_0x2c55cb=_0x58860a[_0x423cec(0x217)](_0x3f1944)['split']('\x0a');let _0x277495=[],_0x996b67=0x0;while(_0x996b67<_0x2c55cb[_0x423cec(0x28a)]&&_0x2c55cb[_0x996b67][_0x423cec(0x349)]()['startsWith']('|')){_0x277495[_0x423cec(0x1eb)](_0x2c55cb[_0x996b67]),_0x996b67++;}return _0x277495['join']('\x0a');}const _0x115f6a=document[_0xc67679(0x2d5)](_0xc67679(0x22d));for(let _0x51a9cf=0x0;_0x51a9cf<_0x347b12['length'];_0x51a9cf++){if(_0x379b52(_0x347b12,_0x51a9cf)){const _0x33522f=_0x21fe7f(_0x347b12,_0x51a9cf);if(_0x33522f){_0x36af9d+=_0x33522f,_0x7d23df[_0xc67679(0x181)]=formatMarkdownTable(_0x36af9d),_0x51a9cf+=_0x33522f[_0xc67679(0x28a)]-0x1;continue;}}_0x36af9d+=_0x347b12[_0x51a9cf],_0x7d23df[_0xc67679(0x181)]=formatMarkdownTable(_0x36af9d),shouldAutoScroll()&&(_0x115f6a['scrollTop']=_0x115f6a[_0xc67679(0x1de)]),await new Promise(_0x1799cb=>setTimeout(_0x1799cb,_0x28f39d));}_0x11d606[_0xc67679(0x262)](_0x33e94c);}function resetScrollState(){userScrolling=![],lastScrollTop=0x0;}function formatMarkdownTable(_0x4db2da){const _0x42381c=_0x50402d,_0x12f9e9=/\|(.+)\|\n\|(?:[-:|]+\|)+\n(\|(?:.+\|)+\n?)+/g;return _0x4db2da[_0x42381c(0x184)](_0x12f9e9,function(_0x166845){const _0x49f4d7=_0x42381c,_0x2e03c7=_0x166845['trim']()['split']('\x0a');if(_0x2e03c7[_0x49f4d7(0x28a)]<0x3)return _0x166845;let _0x4d495f=_0x49f4d7(0x229);const _0x2d1f55=_0x2e03c7[0x0][_0x49f4d7(0x2f7)]('|')['filter'](_0x4605ae=>_0x4605ae[_0x49f4d7(0x349)]());return _0x4d495f+=_0x49f4d7(0x17b),_0x2d1f55[_0x49f4d7(0x197)](_0x2839d2=>{const _0x2e943b=_0x49f4d7;_0x4d495f+=_0x2e943b(0x303)+_0x2839d2[_0x2e943b(0x349)]()+'</th>';}),_0x4d495f+=_0x49f4d7(0x27d),_0x4d495f+=_0x49f4d7(0x25c),_0x2e03c7[_0x49f4d7(0x217)](0x2)[_0x49f4d7(0x197)](_0x5afb5a=>{const _0x59bd76=_0x49f4d7,_0x20b772=_0x5afb5a[_0x59bd76(0x2f7)]('|')['filter'](_0x307557=>_0x307557[_0x59bd76(0x349)]());_0x20b772['length']>0x0&&(_0x4d495f+=_0x59bd76(0x1a0),_0x20b772[_0x59bd76(0x197)](_0x34959e=>{const _0xe2e481=_0x59bd76;_0x4d495f+=_0xe2e481(0x164)+_0x34959e[_0xe2e481(0x349)]()+_0xe2e481(0x199);}),_0x4d495f+=_0x59bd76(0x300));}),_0x4d495f+=_0x49f4d7(0x391),_0x4d495f;});}function updateUI(){const _0x35a85b=_0x50402d;currentUser&&(document['getElementById'](_0x35a85b(0x2ca))[_0x35a85b(0x21b)]=currentUser[_0x35a85b(0x2ca)],document['getElementById'](_0x35a85b(0x1ea))[_0x35a85b(0x21b)]=currentUser[_0x35a85b(0x1ea)],document[_0x35a85b(0x2d5)](_0x35a85b(0x31e))[_0x35a85b(0x21b)]=currentUser['subscription']||_0x35a85b(0x15f));}const apiManager=new GeminiApiManager();document[_0x50402d(0x2c2)](_0x50402d(0x212),function(_0x1cb7d4){const _0x3eb107=_0x50402d,_0x1fa69c=document['querySelector'](_0x3eb107(0x340)),_0x49a6df=document[_0x3eb107(0x14e)]('.toggle-sidebar');_0x1fa69c[_0x3eb107(0x37b)][_0x3eb107(0x18b)]('visible')&&!_0x1fa69c[_0x3eb107(0x18b)](_0x1cb7d4[_0x3eb107(0x2e9)])&&!_0x49a6df[_0x3eb107(0x18b)](_0x1cb7d4['target'])&&(toggleSidebar(),_0x1cb7d4[_0x3eb107(0x1fb)]());}),window['onpopstate']=function(_0x3a3333){const _0x291631=_0x50402d,_0x58c16b=document[_0x291631(0x14e)](_0x291631(0x340));if(_0x58c16b[_0x291631(0x37b)][_0x291631(0x18b)]('visible'))return toggleSidebar(),_0x3a3333[_0x291631(0x1fb)](),history[_0x291631(0x1f0)]({},'',''),![];},document['getElementById'](_0x50402d(0x13b))[_0x50402d(0x36b)]=_0x50402d(0x2dd),setInterval(updateUI,0x493e0),checkApiStatusRegularly(),window['showLoginModal']=showLoginModal,window[_0x50402d(0x28f)]=showRegisterModal,window[_0x50402d(0x365)]=login,window[_0x50402d(0x26e)]=register,window[_0x50402d(0x351)]=logout,window[_0x50402d(0x16c)]=sendMessage,window['buySubscription']=buySubscription,window[_0x50402d(0x339)]=buyCredits,window[_0x50402d(0x310)]=toggleTheme,window['toggleSidebar']=toggleSidebar,window[_0x50402d(0x2a3)]=createNewConversation,window[_0x50402d(0x26f)]=handleFileUpload,window[_0x50402d(0x182)]=togglePromptList,window[_0x50402d(0x29e)]=showReferralModal,window[_0x50402d(0x20d)]=generateReferralCode,window[_0x50402d(0x242)]=copyReferralLink,window[_0x50402d(0x25b)]=shareOnFacebook,window[_0x50402d(0x29f)]=shareOnTwitter,window[_0x50402d(0x384)]=shareOnLinkedIn,window['shareOnWhatsApp']=shareOnWhatsApp,window[_0x50402d(0x2ae)]=removePinnedFile;
