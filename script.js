const _0x106b63=_0x2304;(function(_0x1ef96e,_0x4eb87c){const _0x559ca0=_0x2304,_0x2a4f90=_0x1ef96e();while(!![]){try{const _0xd5cdeb=parseInt(_0x559ca0(0x192))/0x1*(-parseInt(_0x559ca0(0x144))/0x2)+-parseInt(_0x559ca0(0x219))/0x3+parseInt(_0x559ca0(0x14a))/0x4+parseInt(_0x559ca0(0x155))/0x5+-parseInt(_0x559ca0(0x1ca))/0x6+parseInt(_0x559ca0(0xe5))/0x7*(parseInt(_0x559ca0(0xd2))/0x8)+-parseInt(_0x559ca0(0x18f))/0x9;if(_0xd5cdeb===_0x4eb87c)break;else _0x2a4f90['push'](_0x2a4f90['shift']());}catch(_0x2f81a4){_0x2a4f90['push'](_0x2a4f90['shift']());}}}(_0x4c8b,0x79a12));const API_KEY='AIzaSyB3umTE3n2d5gwKzOmJz4ss1pFZMR8_vOE',API_BASE_URL=_0x106b63(0x116);let currentUser=null,pinnedFiles=[],currentConversation=[],conversations={};const FREE_CREDITS_PER_DAY=0x3,FREE_CREDITS_REGISTER=0xa,FREE_MODEL_MAX_WORDS=0xc350,FREE_MODEL_MAX_RESPONSE=0x7d0,SYSTEM_INSTRUCTION=_0x106b63(0x13d),firebaseConfig={'apiKey':_0x106b63(0x1a7),'authDomain':_0x106b63(0x1d8),'databaseURL':'https://gemini-bb56e-default-rtdb.firebaseio.com','projectId':'gemini-bb56e','storageBucket':_0x106b63(0x1a0),'messagingSenderId':_0x106b63(0x18b),'appId':_0x106b63(0x233),'measurementId':'G-CSN292219J'};firebase[_0x106b63(0x188)](firebaseConfig);const db=firebase[_0x106b63(0x238)]();let prompts={},pinnedPrompt=null,pinnedResponses=[],genAI;const API_KEY_LIST_REF=db[_0x106b63(0x16b)](_0x106b63(0x1e9));let apiKeyList=[];async function loadApiKeyList(){const _0x679bd6=_0x106b63;try{const _0x1d515a=await API_KEY_LIST_REF[_0x679bd6(0x213)](_0x679bd6(0xb0)),_0x2bf718=_0x1d515a[_0x679bd6(0x12a)]();_0x2bf718?apiKeyList=Object[_0x679bd6(0xf9)](_0x2bf718):console[_0x679bd6(0x230)](_0x679bd6(0x206));}catch(_0x2f23a5){console[_0x679bd6(0xde)](_0x679bd6(0x1e5),_0x2f23a5);}}function getRandomApiKey(){const _0x4ec868=_0x106b63;if(apiKeyList[_0x4ec868(0x1ab)]===0x0)return console[_0x4ec868(0xde)](_0x4ec868(0x17a)),null;const _0x164d64=Math[_0x4ec868(0xa1)](Math[_0x4ec868(0x108)]()*apiKeyList[_0x4ec868(0x1ab)]);return apiKeyList[_0x164d64];}function initializeGeminiAPI(){const _0x16fca9=_0x106b63,_0x32ad5f=getRandomApiKey();_0x32ad5f?(genAI=new GoogleGenerativeAI(_0x32ad5f),model=genAI[_0x16fca9(0x1ee)]({'model':document[_0x16fca9(0x204)](_0x16fca9(0xe2))[_0x16fca9(0xb0)],'systemInstruction':SYSTEM_INSTRUCTION})):showNotification(_0x16fca9(0x129),_0x16fca9(0xde));}function createPointer(){const _0x39886a=_0x106b63,_0xf75635=document['createElement']('div');return _0xf75635[_0x39886a(0xfd)][_0x39886a(0x237)](_0x39886a(0xb7)),_0xf75635[_0x39886a(0x1b4)]='üëÜ',_0xf75635['style'][_0x39886a(0xbd)]=_0x39886a(0x120),_0xf75635[_0x39886a(0x221)][_0x39886a(0x205)]=_0x39886a(0xb3),document[_0x39886a(0x1c9)]['appendChild'](_0xf75635),_0xf75635;}function positionPointer(_0x113771,_0x54c2f0){const _0x5df474=_0x106b63,_0x354fa0=_0x54c2f0[_0x5df474(0x1eb)]();_0x113771[_0x5df474(0x221)][_0x5df474(0x124)]=_0x354fa0[_0x5df474(0x124)]+_0x354fa0[_0x5df474(0x1c0)]/0x2+'px',_0x113771[_0x5df474(0x221)]['top']=_0x354fa0[_0x5df474(0x163)]+_0x354fa0[_0x5df474(0xe6)]/0x2+'px',_0x113771[_0x5df474(0x221)][_0x5df474(0x205)]=_0x5df474(0x187);}function highlightElement(_0x129431){const _0xbb02d6=_0x106b63;_0x129431[_0xbb02d6(0xfd)][_0xbb02d6(0x237)](_0xbb02d6(0x200));}function removeHighlight(_0x4983ff){const _0x5a6632=_0x106b63;_0x4983ff[_0x5a6632(0xfd)][_0x5a6632(0x224)](_0x5a6632(0x200));}function startGuidedTour(){const _0x17f286=_0x106b63,_0x3d10ea=createPointer(),_0x5e1a0f=new Shepherd['Tour']({'defaultStepOptions':{'cancelIcon':{'enabled':!![]},'classes':_0x17f286(0x1cf),'scrollTo':{'behavior':'smooth','block':'center'}}}),_0x4e715a=[{'id':_0x17f286(0x1f3),'text':'Bienvenue\x20sur\x20Eduque\x20moi\x20!\x20Commen√ßons\x20la\x20visite\x20guid√©e.','attachTo':{'element':_0x17f286(0x167),'on':_0x17f286(0xfb)}},{'id':_0x17f286(0x1cc),'text':_0x17f286(0x1f8),'attachTo':{'element':_0x17f286(0x105),'on':'right'},'beforeShow':()=>{const _0x4eb412=_0x17f286,_0x52b0a7=document[_0x4eb412(0x137)](_0x4eb412(0x105));highlightElement(_0x52b0a7);const _0x13bd35=document['querySelector']('.sidebar');!_0x13bd35['classList'][_0x4eb412(0x180)](_0x4eb412(0x145))&&_0x52b0a7[_0x4eb412(0x1f9)]();},'beforeHide':()=>{const _0x2b589b=_0x17f286,_0x39d027=document[_0x2b589b(0x137)](_0x2b589b(0x105));removeHighlight(_0x39d027);}},{'id':_0x17f286(0x241),'text':_0x17f286(0x21c),'attachTo':{'element':_0x17f286(0x21d),'on':_0x17f286(0x163)}},{'id':_0x17f286(0x104),'text':'Cliquez\x20ici\x20pour\x20importer\x20des\x20fichiers\x20(image,\x20pdf,\x20docx,\x20doc,\x20txt)\x20que\x20vous\x20voulez\x20analyser.','attachTo':{'element':_0x17f286(0x170),'on':_0x17f286(0x163)}},{'id':_0x17f286(0x10c),'text':'Ce\x20bouton\x20ouvre\x20la\x20liste\x20des\x20demandes\x20personnalis√©es\x20(Utile\x20si\x20vous\x20ne\x20savez\x20pas\x20comment\x20faire\x20une\x20demande).','attachTo':{'element':_0x17f286(0x1ed),'on':_0x17f286(0x163)}},{'id':'send-button','text':'Cliquez\x20ici\x20pour\x20envoyer\x20votre\x20message.','attachTo':{'element':_0x17f286(0xdc),'on':'top'}},{'id':_0x17f286(0x216),'text':_0x17f286(0x165),'attachTo':{'element':'.message-actions','on':_0x17f286(0xfb)}}];_0x4e715a['forEach']((_0x50fd04,_0x176f64)=>{const _0x21128c=_0x17f286;_0x5e1a0f[_0x21128c(0x22a)]({..._0x50fd04,'buttons':[{'text':_0x176f64===_0x4e715a[_0x21128c(0x1ab)]-0x1?_0x21128c(0x1b6):_0x21128c(0x23a),'action':_0x176f64===_0x4e715a[_0x21128c(0x1ab)]-0x1?_0x5e1a0f[_0x21128c(0x217)]:_0x5e1a0f[_0x21128c(0xbe)]}],'beforeShow':()=>{const _0xe4ddd4=_0x21128c,_0x2559b7=document[_0xe4ddd4(0x137)](_0x50fd04['attachTo'][_0xe4ddd4(0x178)]);_0x2559b7&&positionPointer(_0x3d10ea,_0x2559b7),_0x50fd04[_0xe4ddd4(0x1d0)]&&_0x50fd04[_0xe4ddd4(0x1d0)]();},'beforeHide':()=>{const _0x382639=_0x21128c;_0x3d10ea['style'][_0x382639(0x205)]=_0x382639(0xb3);}});}),_0x5e1a0f['on']('complete',()=>{const _0x3c8b15=_0x17f286;_0x3d10ea[_0x3c8b15(0x224)]();const _0x14755f=document[_0x3c8b15(0x137)](_0x3c8b15(0x154));_0x14755f[_0x3c8b15(0xfd)][_0x3c8b15(0x180)]('visible')&&document[_0x3c8b15(0x137)](_0x3c8b15(0x105))[_0x3c8b15(0x1f9)]();}),_0x5e1a0f[_0x17f286(0x1e4)]();}async function checkGuidedTourStatus(_0x3672f5){const _0xa1e9f1=_0x106b63,_0x4dfdd9=db[_0xa1e9f1(0x16b)]('users/'+_0x3672f5),_0x890af=await _0x4dfdd9[_0xa1e9f1(0x213)](_0xa1e9f1(0xb0)),_0x292e93=_0x890af[_0xa1e9f1(0x12a)]();return _0x292e93&&_0x292e93[_0xa1e9f1(0x12b)];}async function markGuidedTourAsSeen(_0x524e91){const _0x1ef342=_0x106b63,_0x47b661=db[_0x1ef342(0x16b)](_0x1ef342(0x1b7)+_0x524e91);await _0x47b661[_0x1ef342(0x21b)]({'hasSeenGuidedTour':!![]});}async function checkSubscriptionStatus(){const _0x350c98=_0x106b63;if(!currentUser||!currentUser[_0x350c98(0x118)])return;const _0x51262d=new Date(),_0x396b15=new Date(currentUser['subscriptionEndDate']);if(_0x51262d>_0x396b15)currentUser[_0x350c98(0x16a)]=null,currentUser['subscriptionEndDate']=null,await syncUserData(),showNotification('Votre\x20abonnement\x20a\x20expir√©.',_0x350c98(0xb8)),updateUIForLoggedInUser();else{if(_0x51262d>new Date(_0x396b15[_0x350c98(0x143)]()-0x3*0x18*0x3c*0x3c*0x3e8)){const _0x1c8108=Math[_0x350c98(0x1b3)]((_0x396b15-_0x51262d)/(0x18*0x3c*0x3c*0x3e8));showNotification(_0x350c98(0xa7)+_0x1c8108+_0x350c98(0x18d)+(_0x1c8108>0x1?'s':'')+'.',_0x350c98(0x131));}}}function generateInvoicePDF(_0x5c9f52){const _0x133ca3=_0x106b63,{jsPDF:_0x496cb6}=window['jspdf'],_0x3f7a06=new _0x496cb6();return _0x3f7a06[_0x133ca3(0x17f)](0x12),_0x3f7a06[_0x133ca3(0x1c7)](_0x133ca3(0xd7),0x69,0x14,null,null,_0x133ca3(0x190)),_0x3f7a06[_0x133ca3(0x17f)](0xc),_0x3f7a06[_0x133ca3(0x1c7)](_0x133ca3(0x11d)+currentUser['username'],0x14,0x28),_0x3f7a06[_0x133ca3(0x1c7)](_0x133ca3(0xbb)+new Date()[_0x133ca3(0xd5)](),0x14,0x32),_0x3f7a06[_0x133ca3(0x1c7)]('Description\x20:\x20'+_0x5c9f52['description'],0x14,0x3c),_0x3f7a06[_0x133ca3(0x1c7)](_0x133ca3(0x1c5)+_0x5c9f52[_0x133ca3(0xd3)]+'\x20FCFA',0x14,0x46),_0x3f7a06[_0x133ca3(0x1c7)](_0x133ca3(0x121)+_0x5c9f52['id'],0x14,0x50),_0x3f7a06;}function showInvoiceDetails(_0x55d4b5){const _0x548af0=_0x106b63,_0x1a0fc1=document[_0x548af0(0x1e0)](_0x548af0(0x125));_0x1a0fc1[_0x548af0(0x13e)]=_0x548af0(0xeb),_0x1a0fc1[_0x548af0(0x1b4)]=_0x548af0(0x9e)+new Date()[_0x548af0(0xd5)]()+_0x548af0(0x1dd)+_0x55d4b5['description']+_0x548af0(0x10d)+_0x55d4b5[_0x548af0(0xd3)]+_0x548af0(0x1b8)+_0x55d4b5['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22downloadInvoice\x22>T√©l√©charger\x20la\x20facture\x20en\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeModal\x22>Fermer</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x548af0(0x1c9)]['appendChild'](_0x1a0fc1),document[_0x548af0(0x204)]('downloadInvoice')[_0x548af0(0x1db)](_0x548af0(0x1f9),()=>{const _0x26f27d=_0x548af0,_0x2333c9=generateInvoicePDF(_0x55d4b5);_0x2333c9[_0x26f27d(0xe7)](_0x26f27d(0xbf)+_0x55d4b5['id']+_0x26f27d(0x22f));}),document[_0x548af0(0x204)](_0x548af0(0x1a6))[_0x548af0(0x1db)](_0x548af0(0x1f9),()=>{const _0x54bacb=_0x548af0;document[_0x54bacb(0x1c9)]['removeChild'](_0x1a0fc1);});}function initializeNewDiscussion(){const _0x5acf7d=_0x106b63;currentConversation=[];const _0x2f513b=document['getElementById'](_0x5acf7d(0x1f6));_0x2f513b[_0x5acf7d(0x1b4)]='',addMessageToChat('ai',_0x5acf7d(0x176)),updateConversationHistory();}function showLoginModal(){const _0x49cb55=_0x106b63;document[_0x49cb55(0x204)](_0x49cb55(0x1fb))[_0x49cb55(0x221)]['display']=_0x49cb55(0x187);}function showRegisterModal(){const _0x5bcd22=_0x106b63;document['getElementById']('registerModal')[_0x5bcd22(0x221)][_0x5bcd22(0x205)]=_0x5bcd22(0x187);}function closeModal(_0x554eae){const _0x2554f2=_0x106b63;document[_0x2554f2(0x204)](_0x554eae)['style'][_0x2554f2(0x205)]=_0x2554f2(0xb3);}function updateUIForLoggedInUser(){const _0x1d4bfe=_0x106b63;document[_0x1d4bfe(0x204)]('loginBtn')[_0x1d4bfe(0xfd)]['add'](_0x1d4bfe(0x1d5)),document[_0x1d4bfe(0x204)](_0x1d4bfe(0xea))[_0x1d4bfe(0xfd)]['add']('hidden'),document[_0x1d4bfe(0x204)]('logoutBtn')[_0x1d4bfe(0xfd)][_0x1d4bfe(0x224)](_0x1d4bfe(0x1d5)),document[_0x1d4bfe(0x204)](_0x1d4bfe(0x1ba))[_0x1d4bfe(0xfd)]['remove'](_0x1d4bfe(0x1d5)),document[_0x1d4bfe(0x204)]('username')[_0x1d4bfe(0x23c)]=currentUser[_0x1d4bfe(0x1bd)],document['getElementById']('freeCredits')[_0x1d4bfe(0x23c)]=currentUser['freeCredits'],document[_0x1d4bfe(0x204)](_0x1d4bfe(0x12d))[_0x1d4bfe(0x23c)]=currentUser[_0x1d4bfe(0x12d)],document[_0x1d4bfe(0x204)](_0x1d4bfe(0x16a))[_0x1d4bfe(0x23c)]=currentUser[_0x1d4bfe(0x16a)]||'Aucun',loadConversationHistory();}function updateUIForLoggedOutUser(){const _0x55156c=_0x106b63;document['getElementById']('loginBtn')[_0x55156c(0xfd)][_0x55156c(0x224)]('hidden'),document[_0x55156c(0x204)](_0x55156c(0xea))[_0x55156c(0xfd)][_0x55156c(0x224)](_0x55156c(0x1d5)),document['getElementById'](_0x55156c(0xf6))['classList'][_0x55156c(0x237)](_0x55156c(0x1d5)),document['getElementById']('userInfo')[_0x55156c(0xfd)][_0x55156c(0x237)](_0x55156c(0x1d5)),document[_0x55156c(0x204)]('conversationHistory')[_0x55156c(0x1b4)]=_0x55156c(0xf3);}function storeLoginInfo(_0x54cfc8,_0x2eee1f){const _0x2e4372=_0x106b63;localStorage[_0x2e4372(0x234)](_0x2e4372(0x114),_0x54cfc8),localStorage[_0x2e4372(0x234)]('eduqueMoiPassword',_0x2eee1f);}function getStoredLoginInfo(){const _0x310bdb=_0x106b63;return{'username':localStorage[_0x310bdb(0xf0)](_0x310bdb(0x114)),'password':localStorage[_0x310bdb(0xf0)]('eduqueMoiPassword')};}function clearLoginInfo(){const _0x172992=_0x106b63;localStorage[_0x172992(0xe3)](_0x172992(0x114)),localStorage['removeItem'](_0x172992(0x20d));}async function register(){const _0x32afa6=_0x106b63,_0x692d71=document['getElementById'](_0x32afa6(0x1c3))[_0x32afa6(0xb0)],_0x47f466=document[_0x32afa6(0x204)]('registerPassword')[_0x32afa6(0xb0)],_0xad5a88=new URLSearchParams(window[_0x32afa6(0x21a)][_0x32afa6(0x10e)])['get']('ref');if(!_0x692d71||!_0x47f466){showNotification(_0x32afa6(0xb9),_0x32afa6(0xde));return;}try{const _0x4f5f01=db[_0x32afa6(0x16b)]('users/'+_0x692d71),_0x45e7fc=await _0x4f5f01[_0x32afa6(0x213)](_0x32afa6(0xb0));if(_0x45e7fc['exists']()){showNotification('Ce\x20nom\x20d\x27utilisateur\x20existe\x20d√©j√†.',_0x32afa6(0xde));return;}const _0x106789=new Date(),_0xaca8e3={'password':_0x47f466,'freeCredits':FREE_CREDITS_REGISTER,'paidCredits':0x0,'subscription':null,'subscriptionEndDate':null,'lastFreeCreditsReset':_0x106789[_0x32afa6(0x220)](),'referredBy':_0xad5a88||null,'firstPurchase':![],'totalReferrals':0x0,'activeReferrals':0x0,'hasSeenGuidedTour':![]};await _0x4f5f01[_0x32afa6(0x19d)](_0xaca8e3);if(_0xad5a88){const _0x516e83=await db['ref'](_0x32afa6(0x20b))[_0x32afa6(0x18e)](_0x32afa6(0x141))['equalTo'](_0xad5a88)[_0x32afa6(0x213)]('value'),_0x12e429=_0x516e83[_0x32afa6(0x12a)]();if(_0x12e429){const _0x2a2d52=Object[_0x32afa6(0x17d)](_0x12e429)[0x0];await db['ref'](_0x32afa6(0x1b7)+_0x2a2d52+_0x32afa6(0x1b0)+_0x692d71)[_0x32afa6(0x19d)]({'date':_0x106789['toISOString'](),'isActive':![]});const _0x38f7e4=db[_0x32afa6(0x16b)]('users/'+_0x2a2d52);await _0x38f7e4['transaction'](_0x2d2ab7=>{const _0x3c0428=_0x32afa6;return _0x2d2ab7&&(_0x2d2ab7[_0x3c0428(0xd1)]=(_0x2d2ab7[_0x3c0428(0xd1)]||0x0)+0x1),_0x2d2ab7;}),currentUser&&currentUser['username']===_0x2a2d52&&(document[_0x32afa6(0x204)](_0x32afa6(0xd1))[_0x32afa6(0x23c)]=(parseInt(document['getElementById'](_0x32afa6(0xd1))[_0x32afa6(0x23c)])||0x0)+0x1);}}currentUser={'username':_0x692d71,..._0xaca8e3},updateUIForLoggedInUser(),showNotification(_0x32afa6(0xa6),_0x32afa6(0x1e7)),closeModal(_0x32afa6(0x212)),storeLoginInfo(_0x692d71,_0x47f466),startGuidedTour(),await markGuidedTourAsSeen(_0x692d71);}catch(_0x1913f9){console['error']('Erreur\x20lors\x20de\x20l\x27inscription:',_0x1913f9),showNotification(_0x32afa6(0x1e8),_0x32afa6(0xde));}}async function login(_0x5b7a20,_0x3014cc){const _0x52a8b3=_0x106b63;(!_0x5b7a20||!_0x3014cc)&&(_0x5b7a20=document[_0x52a8b3(0x204)](_0x52a8b3(0x168))[_0x52a8b3(0xb0)],_0x3014cc=document['getElementById']('loginPassword')['value']);if(!_0x5b7a20||!_0x3014cc){showNotification(_0x52a8b3(0xb9),_0x52a8b3(0xde));return;}try{const _0x3801b6=db[_0x52a8b3(0x16b)](_0x52a8b3(0x1b7)+_0x5b7a20),_0xc4befa=await _0x3801b6[_0x52a8b3(0x213)](_0x52a8b3(0xb0));if(_0xc4befa[_0x52a8b3(0xb6)]()&&_0xc4befa['val']()[_0x52a8b3(0xa4)]===_0x3014cc){const _0x2dee82=_0xc4befa['val']();currentUser={'username':_0x5b7a20,'freeCredits':_0x2dee82[_0x52a8b3(0x16f)],'paidCredits':_0x2dee82['paidCredits'],'subscription':_0x2dee82['subscription'],'subscriptionEndDate':_0x2dee82[_0x52a8b3(0x118)],'lastFreeCreditsReset':_0x2dee82[_0x52a8b3(0x14e)]},await resetFreeCreditsIfNeeded(),updateUIForLoggedInUser(),showNotification('Connexion\x20r√©ussie\x20!','success'),closeModal(_0x52a8b3(0x1fb)),storeLoginInfo(_0x5b7a20,_0x3014cc);const _0x4413b5=await checkGuidedTourStatus(_0x5b7a20);!_0x4413b5&&(startGuidedTour(),await markGuidedTourAsSeen(_0x5b7a20));}else showNotification('Nom\x20dutilisateur\x20ou\x20mot\x20de\x20passe\x20incorrect.',_0x52a8b3(0xde));}catch(_0x174ed6){console['error'](_0x52a8b3(0xe1),_0x174ed6),showNotification(_0x52a8b3(0xd8),'error');}}function logout(){currentUser&&syncUserData(),currentUser=null,updateUIForLoggedOutUser(),showNotification('D√©connexion\x20r√©ussie.','success'),clearLoginInfo();}async function resetFreeCreditsIfNeeded(){const _0x5102fa=_0x106b63,_0x4c5785=new Date(),_0x5c77a9=new Date(currentUser[_0x5102fa(0x14e)]);if(_0x4c5785[_0x5102fa(0x143)]()-_0x5c77a9[_0x5102fa(0x143)]()>=0x18*0x3c*0x3c*0x3e8){const _0x5eb341=currentUser[_0x5102fa(0x16f)];currentUser[_0x5102fa(0x16f)]=FREE_CREDITS_PER_DAY,currentUser['lastFreeCreditsReset']=_0x4c5785['toISOString'](),await syncUserData(),document[_0x5102fa(0x204)](_0x5102fa(0x16f))[_0x5102fa(0x23c)]=currentUser[_0x5102fa(0x16f)];const _0x5404f3=currentUser['freeCredits']-_0x5eb341;_0x5404f3>0x0&&showNotification(_0x5404f3+_0x5102fa(0x109),_0x5102fa(0x1e7));}}function checkModelAccess(){const _0x26655d=_0x106b63,_0x150f6b=document['getElementById'](_0x26655d(0xe2))['value'];![_0x26655d(0xaa),_0x26655d(0x22e)][_0x26655d(0x22b)](_0x150f6b)&&!hasValidSubscription()&&currentUser[_0x26655d(0x12d)]<=0x0&&(showPaymentNotification(_0x26655d(0x194)),document[_0x26655d(0x204)](_0x26655d(0xe2))[_0x26655d(0xb0)]='gemini-1.5-flash');}async function handleFileUpload(_0x479cd){const _0x4206e5=_0x106b63,_0x46b6f9=_0x479cd[_0x4206e5(0xf7)]['files'];for(let _0x15b558=0x0;_0x15b558<_0x46b6f9[_0x4206e5(0x1ab)];_0x15b558++){const _0x17587d=_0x46b6f9[_0x15b558];if(_0x17587d['type']==='application/vnd.openxmlformats-officedocument.wordprocessingml.document'||_0x17587d[_0x4206e5(0xe0)]==='application/msword')try{const _0x43f90b=await convertWordToText(_0x17587d);pinnedFiles['push']({'name':_0x17587d['name'][_0x4206e5(0x203)](/\.[^/.]+$/,'')+_0x4206e5(0xc7),'type':_0x4206e5(0x1f2),'content':_0x43f90b}),updatePinnedFiles(),importedFilesCount++,await db[_0x4206e5(0x16b)](_0x4206e5(0x1b7)+currentUser[_0x4206e5(0x1bd)])[_0x4206e5(0x21b)]({'importedFilesCount':importedFilesCount});}catch(_0x354c4a){console[_0x4206e5(0xde)](_0x4206e5(0x13a),_0x354c4a),showNotification(_0x4206e5(0x218),_0x4206e5(0xde));}else(_0x17587d[_0x4206e5(0xe0)]['startsWith']('image/')||_0x17587d[_0x4206e5(0xe0)]===_0x4206e5(0x15e))&&(pinnedFiles[_0x4206e5(0x207)](_0x17587d),updatePinnedFiles());}}function convertWordToText(_0x478c99){return new Promise((_0x3d6070,_0x19fd02)=>{const _0x4a74e5=_0x2304,_0x2b8cd1=new FileReader();_0x2b8cd1[_0x4a74e5(0x1bb)]=function(_0x575e77){const _0x43aeac=_0x4a74e5,_0x2101dc=_0x575e77[_0x43aeac(0xf7)][_0x43aeac(0xcb)];mammoth['extractRawText']({'arrayBuffer':_0x2101dc})[_0x43aeac(0xa9)](function(_0x180830){const _0x18769f=_0x43aeac;_0x3d6070(_0x180830[_0x18769f(0xb0)]);})[_0x43aeac(0x15c)](function(_0x36d7d4){_0x19fd02(_0x36d7d4);});},_0x2b8cd1['readAsArrayBuffer'](_0x478c99);});}function updatePinnedFiles(){const _0x3a37ac=_0x106b63,_0x4e8ad2=document[_0x3a37ac(0x204)](_0x3a37ac(0xfe));_0x4e8ad2[_0x3a37ac(0x1b4)]='',pinnedFiles['forEach']((_0x4d1d2e,_0x2ce7d6)=>{const _0x44a533=_0x3a37ac,_0x3eecd8=document[_0x44a533(0x1e0)](_0x44a533(0x125));_0x3eecd8[_0x44a533(0x13e)]=_0x44a533(0x1ff),_0x3eecd8[_0x44a533(0x1b4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>'+(_0x4d1d2e[_0x44a533(0xe0)]['startsWith'](_0x44a533(0x1d3))?'üñºÔ∏è':'üìÑ')+_0x44a533(0x195)+_0x4d1d2e[_0x44a533(0x126)]+'\x22>'+_0x4d1d2e[_0x44a533(0x126)]+_0x44a533(0x1ec)+_0x2ce7d6+_0x44a533(0x20e),_0x4e8ad2[_0x44a533(0x150)](_0x3eecd8);});}function removePinnedFile(_0x5addf6){const _0x50f99e=_0x106b63;pinnedFiles[_0x50f99e(0x1f7)](_0x5addf6,0x1),updatePinnedFiles();}function createPinnedFilesElement(_0xaed8a3){const _0x1d4471=_0x106b63,_0x58c087=document[_0x1d4471(0x1e0)]('div');return _0x58c087[_0x1d4471(0x13e)]=_0x1d4471(0x20f),_0xaed8a3[_0x1d4471(0x153)](_0xdcebae=>{const _0x1f3600=_0x1d4471,_0x4ead81=document['createElement'](_0x1f3600(0x125));_0x4ead81[_0x1f3600(0x13e)]=_0x1f3600(0x23b);if(_0xdcebae[_0x1f3600(0xe0)]['startsWith'](_0x1f3600(0x1d3))){const _0x1bcc15=document[_0x1f3600(0x1e0)](_0x1f3600(0x14f));_0x1bcc15[_0x1f3600(0x1cd)]=URL[_0x1f3600(0x149)](_0xdcebae),_0x1bcc15[_0x1f3600(0x182)]=_0xdcebae[_0x1f3600(0x126)],_0x1bcc15[_0x1f3600(0x13e)]=_0x1f3600(0x152),_0x4ead81[_0x1f3600(0x150)](_0x1bcc15);}else{const _0x3c1b46=document[_0x1f3600(0x1e0)]('span');_0x3c1b46['className']=_0x1f3600(0x151),_0x3c1b46[_0x1f3600(0x23c)]=_0xdcebae['type'][_0x1f3600(0x225)](_0x1f3600(0x15e))?'üìÑ':'üìé',_0x4ead81[_0x1f3600(0x150)](_0x3c1b46);}const _0x2a0bb4=document[_0x1f3600(0x1e0)]('span');_0x2a0bb4[_0x1f3600(0x13e)]=_0x1f3600(0xc0),_0x2a0bb4['textContent']=_0xdcebae['name'],_0x4ead81[_0x1f3600(0x150)](_0x2a0bb4),_0x58c087[_0x1f3600(0x150)](_0x4ead81);}),_0x58c087;}function createPinnedResponsesElement(_0x302c7f){const _0x1609c5=_0x106b63,_0x3c2264=document[_0x1609c5(0x1e0)](_0x1609c5(0x125));return _0x3c2264[_0x1609c5(0x13e)]='pinned-responses-message',_0x302c7f[_0x1609c5(0x153)](_0xa5a68e=>{const _0x12bb5d=_0x1609c5,_0x2b8e57=document[_0x12bb5d(0x1e0)](_0x12bb5d(0x125));_0x2b8e57['className']='pinned-response';const _0x3d58e8=document[_0x12bb5d(0x1e0)](_0x12bb5d(0x14d));_0x3d58e8[_0x12bb5d(0x13e)]='response-icon',_0x3d58e8[_0x12bb5d(0x23c)]='üí¨';const _0xcbd6f9=document[_0x12bb5d(0x1e0)](_0x12bb5d(0x14d));_0xcbd6f9[_0x12bb5d(0x13e)]='response-text',_0xcbd6f9[_0x12bb5d(0x23c)]=_0xa5a68e[_0x12bb5d(0x185)],_0x2b8e57[_0x12bb5d(0x150)](_0x3d58e8),_0x2b8e57[_0x12bb5d(0x150)](_0xcbd6f9),_0x3c2264[_0x12bb5d(0x150)](_0x2b8e57);}),_0x3c2264;}function createPinnedPromptElement(_0x453d41){const _0x2b3eaa=_0x106b63,_0x4c8d91=document[_0x2b3eaa(0x1e0)]('div');_0x4c8d91[_0x2b3eaa(0x13e)]=_0x2b3eaa(0xca);const _0x4854ab=document[_0x2b3eaa(0x1e0)](_0x2b3eaa(0x125));_0x4854ab[_0x2b3eaa(0x13e)]=_0x2b3eaa(0x208);const _0x1333e3=document[_0x2b3eaa(0x1e0)](_0x2b3eaa(0x14d));_0x1333e3[_0x2b3eaa(0x13e)]=_0x2b3eaa(0x1d9),_0x1333e3[_0x2b3eaa(0x23c)]='ü§ñ';const _0x546e67=document[_0x2b3eaa(0x1e0)](_0x2b3eaa(0x14d));return _0x546e67[_0x2b3eaa(0x13e)]=_0x2b3eaa(0x177),_0x546e67[_0x2b3eaa(0x23c)]=_0x453d41['title'],_0x4854ab[_0x2b3eaa(0x150)](_0x1333e3),_0x4854ab[_0x2b3eaa(0x150)](_0x546e67),_0x4c8d91['appendChild'](_0x4854ab),_0x4c8d91;}async function sendMessage(){const _0x20f595=_0x106b63;if(!currentUser){showNotification(_0x20f595(0x107),_0x20f595(0xde));return;}const _0xf778=document[_0x20f595(0x204)](_0x20f595(0x1ae))[_0x20f595(0xb0)][_0x20f595(0xcd)](),_0x187426=document[_0x20f595(0x204)](_0x20f595(0xe2))['value'];if(!_0xf778&&pinnedFiles[_0x20f595(0x1ab)]===0x0&&pinnedResponses[_0x20f595(0x1ab)]===0x0&&!pinnedPrompt){showNotification(_0x20f595(0xf2),'error');return;}let _0x11fd1a=0x1;_0x11fd1a+=pinnedFiles[_0x20f595(0x1c4)](_0x1c6792=>_0x1c6792[_0x20f595(0xe0)]!==_0x20f595(0x1f2))[_0x20f595(0x1ab)],_0x11fd1a+=pinnedResponses[_0x20f595(0x1ab)];if(!hasValidSubscription()){if(_0x187426==='gemini-1.5-flash'){if(currentUser[_0x20f595(0x12d)]>=_0x11fd1a)showNotification(_0x20f595(0xdd),'info');else{if(currentUser[_0x20f595(0x16f)]>=_0x11fd1a)showNotification('Utilisation\x20de\x20cr√©dits\x20gratuits\x20pour\x20Gemini\x201.5\x20Flash.',_0x20f595(0xb8));else{showPaymentNotification(_0x20f595(0x1c2));return;}}}else{if(![_0x20f595(0x22e)][_0x20f595(0x22b)](_0x187426)){if(currentUser[_0x20f595(0x12d)]<_0x11fd1a){showPaymentNotification(_0x20f595(0x160));return;}}else{if(currentUser[_0x20f595(0x16f)]<_0x11fd1a&&currentUser['paidCredits']<_0x11fd1a){showPaymentNotification(_0x20f595(0x17e));return;}}}}let _0x32af19=_0xf778,_0x1b2ad2=_0xf778;const _0x927126=[...pinnedFiles],_0x1ae745=[...pinnedResponses],_0x412113=pinnedPrompt;pinnedFiles=[],pinnedResponses=[],pinnedPrompt=null,updatePinnedItems();const _0x387afc=document[_0x20f595(0x1e0)](_0x20f595(0x125));_0x387afc['className']=_0x20f595(0xaf);if(_0x927126[_0x20f595(0x1ab)]>0x0){const _0x27dc9f=createPinnedFilesElement(_0x927126);_0x387afc[_0x20f595(0x150)](_0x27dc9f),_0x1b2ad2+=_0x20f595(0x127),_0x927126[_0x20f595(0x153)](_0x4a428c=>{const _0x4b1231=_0x20f595;_0x1b2ad2+='-\x20'+_0x4a428c[_0x4b1231(0x126)]+'\x20('+_0x4a428c[_0x4b1231(0xe0)]+')\x0a';});}if(_0x1ae745[_0x20f595(0x1ab)]>0x0){const _0x2ca971=createPinnedResponsesElement(_0x1ae745);_0x387afc[_0x20f595(0x150)](_0x2ca971),_0x1b2ad2+=_0x20f595(0xd9),_0x1ae745[_0x20f595(0x153)](_0x414581=>{_0x1b2ad2+='-\x20'+_0x414581['displayText']+'\x0a';});}if(_0x412113){const _0x480003=createPinnedPromptElement(_0x412113);_0x387afc[_0x20f595(0x150)](_0x480003),_0x1b2ad2=_0x412113['content']+'\x0a\x0a'+_0x1b2ad2;}const _0x154f02=document[_0x20f595(0x1e0)]('p');_0x154f02[_0x20f595(0x23c)]=_0x32af19,_0x387afc['appendChild'](_0x154f02);const _0x29a55a=document['getElementById'](_0x20f595(0x1f6));_0x29a55a[_0x20f595(0x150)](_0x387afc),_0x29a55a['scrollTop']=_0x29a55a[_0x20f595(0x18a)],document['getElementById'](_0x20f595(0x1ae))[_0x20f595(0xb0)]='',resetTextareaHeight();const _0x57362d=document[_0x20f595(0x137)]('.input-actions\x20button:last-child');_0x57362d['classList'][_0x20f595(0x237)](_0x20f595(0x13f)),_0x57362d[_0x20f595(0x147)]=!![];try{const _0x745105=[];let _0x49143b='';const _0x2abdc8=currentConversation[_0x20f595(0x164)](-0x5);_0x2abdc8[_0x20f595(0x153)](_0x3636dc=>{const _0x392486=_0x20f595;_0x3636dc[_0x392486(0x1d6)]===_0x392486(0xb4)?_0x49143b+=_0x392486(0x111)+_0x3636dc['content']+'\x0a':_0x49143b+=_0x392486(0x146)+_0x3636dc['content']+'\x0a';}),_0x1b2ad2=_0x49143b+'\x0a'+_0x1b2ad2,_0x745105[_0x20f595(0x207)]({'text':_0x1b2ad2});for(const _0x15845d of _0x927126){if(_0x15845d[_0x20f595(0xe0)]==='text/plain')_0x745105[_0x20f595(0x207)]({'text':_0x20f595(0x15a)+_0x15845d['content']});else{const _0xcd18c1=await readFileAsBase64(_0x15845d);_0x745105[_0x20f595(0x207)]({'inlineData':{'data':_0xcd18c1,'mimeType':_0x15845d['type']}}),_0x745105['push']({'text':_0x20f595(0x181)+_0x15845d['name']+'\x20('+_0x15845d['type']+_0x20f595(0xe4)});}}model=genAI['getGenerativeModel']({'model':_0x187426,'systemInstruction':SYSTEM_INSTRUCTION});const _0x54cb9c=await model['generateContent'](_0x745105),_0x14ab95=await _0x54cb9c[_0x20f595(0x1be)];let _0x4fef7d=_0x14ab95[_0x20f595(0x1c7)](),_0xcb9ff5;if(_0x187426==='gemini-1.0-pro'||_0x187426===_0x20f595(0xaa)&&currentUser[_0x20f595(0x12d)]<_0x11fd1a){const _0x449a93=_0x4fef7d[_0x20f595(0x1a2)](/\s+/);_0x449a93[_0x20f595(0x1ab)]>FREE_MODEL_MAX_RESPONSE?(_0x4fef7d=_0x449a93['slice'](0x0,FREE_MODEL_MAX_RESPONSE)[_0x20f595(0x1e3)]('\x20')+_0x20f595(0xab),showNotification('La\x20r√©ponse\x20a\x20√©t√©\x20tronqu√©e\x20√†\x20'+FREE_MODEL_MAX_RESPONSE+_0x20f595(0x119),_0x20f595(0xb8)),_0xcb9ff5=addMessageToChat('ai',_0x4fef7d),showUpgradeButton(_0xcb9ff5)):_0xcb9ff5=addMessageToChat('ai',_0x4fef7d);}else _0xcb9ff5=addMessageToChat('ai',_0x4fef7d);currentConversation[_0x20f595(0x207)]({'sender':'user','content':_0xf778}),currentConversation['push']({'sender':'ai','content':_0x4fef7d}),await updateCredits(_0x187426,_0x11fd1a),saveConversation();}catch(_0x20691e){console[_0x20f595(0xde)](_0x20f595(0x19f),_0x20691e),showNotification(_0x20f595(0x19a)+_0x20691e[_0x20f595(0x1fc)]+_0x20f595(0x1b2),_0x20f595(0xde));}finally{_0x57362d[_0x20f595(0xfd)][_0x20f595(0x224)](_0x20f595(0x13f)),_0x57362d['disabled']=![];}}function pinResponse(_0x2568b0){const _0xa7ea03=_0x106b63,_0x5aea80=_0x2568b0[_0xa7ea03(0x137)]('div:first-child')[_0xa7ea03(0x23c)],_0x1a2764=_0x5aea80[_0xa7ea03(0x1ab)]>0x32?_0x5aea80[_0xa7ea03(0x1ea)](0x0,0x32)+_0xa7ea03(0x214):_0x5aea80;pinnedResponses[_0xa7ea03(0x207)]({'text':_0x5aea80,'displayText':_0x1a2764}),updatePinnedItems();}function updatePinnedItems(){const _0xd06df4=_0x106b63,_0x3e4b5d=document[_0xd06df4(0x204)](_0xd06df4(0xfe));_0x3e4b5d[_0xd06df4(0x1b4)]='',pinnedFiles[_0xd06df4(0x153)]((_0x40e255,_0x3853bf)=>{const _0x32a598=_0xd06df4,_0x250178=document['createElement'](_0x32a598(0x125));_0x250178[_0x32a598(0x13e)]=_0x32a598(0x1ff),_0x250178[_0x32a598(0xb2)]('data-type',_0x32a598(0xc8)),_0x250178[_0x32a598(0x1b4)]=_0x32a598(0xa8)+(_0x40e255['type'][_0x32a598(0x225)]('image/')?_0x32a598(0xee):'üìÑ')+_0x32a598(0x195)+_0x40e255[_0x32a598(0x126)]+'\x22>'+_0x40e255[_0x32a598(0x126)]+_0x32a598(0x100)+_0x3853bf+')\x22>‚ùå</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x3e4b5d[_0x32a598(0x150)](_0x250178);}),pinnedResponses[_0xd06df4(0x153)]((_0x504d62,_0x32a913)=>{const _0x4544ff=_0xd06df4,_0x444bfe=document[_0x4544ff(0x1e0)](_0x4544ff(0x125));_0x444bfe[_0x4544ff(0x13e)]='pinned-item',_0x444bfe['setAttribute'](_0x4544ff(0x215),_0x4544ff(0x1be)),_0x444bfe[_0x4544ff(0x1b4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>üí¨</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22'+_0x504d62[_0x4544ff(0x1c7)]+'\x22>'+_0x504d62[_0x4544ff(0x185)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27response\x27,\x20'+_0x32a913+')\x22>‚ùå</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x3e4b5d[_0x4544ff(0x150)](_0x444bfe);});if(pinnedPrompt){const _0x126e0a=document['createElement']('div');_0x126e0a[_0xd06df4(0x13e)]=_0xd06df4(0x1ff),_0x126e0a[_0xd06df4(0xb2)](_0xd06df4(0x215),_0xd06df4(0x183)),_0x126e0a[_0xd06df4(0x1b4)]=_0xd06df4(0x184)+pinnedPrompt['title']+'\x22>'+pinnedPrompt[_0xd06df4(0x1a1)]+_0xd06df4(0x1a5),_0x3e4b5d[_0xd06df4(0x150)](_0x126e0a);}}function removePinnedItem(_0x17ed73,_0x151886){const _0x3ccfad=_0x106b63;if(_0x17ed73===_0x3ccfad(0xc8))pinnedFiles[_0x3ccfad(0x1f7)](_0x151886,0x1);else{if(_0x17ed73===_0x3ccfad(0x1be))pinnedResponses['splice'](_0x151886,0x1);else _0x17ed73===_0x3ccfad(0x183)&&(pinnedPrompt=null);}updatePinnedItems();}function replyToMessage(_0x48fa87){const _0x5f1eb7=_0x106b63,_0xd58681=_0x48fa87[_0x5f1eb7(0x137)](_0x5f1eb7(0xad))[_0x5f1eb7(0x23c)],_0x9f916c=document[_0x5f1eb7(0x204)]('userInput');_0x9f916c['value']='>\x20'+_0xd58681+'\x0a\x0a',_0x9f916c['focus'](),_0x9f916c['setSelectionRange'](_0x9f916c[_0x5f1eb7(0xb0)]['length'],_0x9f916c[_0x5f1eb7(0xb0)][_0x5f1eb7(0x1ab)]);}function readFileAsBase64(_0x28d331){return new Promise((_0x43bfea,_0x26633f)=>{const _0x4b7633=_0x2304,_0x275c74=new FileReader();_0x275c74[_0x4b7633(0x1bb)]=()=>_0x43bfea(_0x275c74[_0x4b7633(0xcb)][_0x4b7633(0x1a2)](',')[0x1]),_0x275c74[_0x4b7633(0x110)]=_0x26633f,_0x275c74[_0x4b7633(0x173)](_0x28d331);});}function hasEnoughCredits(_0x5e4780,_0x33e0b2){const _0x320416=_0x106b63,_0x2012af=_0x33e0b2>0x0?_0x33e0b2:0x1;return _0x5e4780===_0x320416(0xaa)||_0x5e4780===_0x320416(0x22e)?currentUser[_0x320416(0x16f)]>=_0x2012af||currentUser[_0x320416(0x12d)]>=_0x2012af||hasValidSubscription():currentUser[_0x320416(0x12d)]>=_0x2012af||hasValidSubscription();}async function updateCredits(_0x26d077,_0x4d0371){const _0x422d9f=_0x106b63;if(hasValidSubscription())return;const _0x2e6c2d=db['ref'](_0x422d9f(0x1b7)+currentUser[_0x422d9f(0x1bd)]);await _0x2e6c2d['transaction'](_0x4f5e87=>{const _0x2b8302=_0x422d9f;if(_0x4f5e87){if(_0x26d077===_0x2b8302(0xaa))_0x4f5e87[_0x2b8302(0x12d)]>=_0x4d0371?_0x4f5e87[_0x2b8302(0x12d)]-=_0x4d0371:_0x4f5e87[_0x2b8302(0x16f)]-=_0x4d0371;else{if(_0x26d077===_0x2b8302(0x22e)){if(_0x4f5e87[_0x2b8302(0x16f)]>=_0x4d0371)_0x4f5e87[_0x2b8302(0x16f)]-=_0x4d0371;else{const _0x55300a=_0x4d0371-_0x4f5e87[_0x2b8302(0x16f)];_0x4f5e87[_0x2b8302(0x16f)]=0x0,_0x4f5e87[_0x2b8302(0x12d)]=Math[_0x2b8302(0x14c)](0x0,_0x4f5e87[_0x2b8302(0x12d)]-_0x55300a);}}else _0x4f5e87[_0x2b8302(0x12d)]=Math[_0x2b8302(0x14c)](0x0,_0x4f5e87[_0x2b8302(0x12d)]-_0x4d0371);}}return _0x4f5e87;}),currentUser[_0x422d9f(0x16f)]=(await _0x2e6c2d['child'](_0x422d9f(0x16f))[_0x422d9f(0x213)]('value'))[_0x422d9f(0x12a)](),currentUser[_0x422d9f(0x12d)]=(await _0x2e6c2d[_0x422d9f(0x135)](_0x422d9f(0x12d))[_0x422d9f(0x213)]('value'))[_0x422d9f(0x12a)](),document['getElementById'](_0x422d9f(0x16f))['textContent']=currentUser[_0x422d9f(0x16f)],document['getElementById']('paidCredits')[_0x422d9f(0x23c)]=currentUser[_0x422d9f(0x12d)];}async function addCreditsToUser(_0x207fe1){const _0x188e13=_0x106b63,_0x31f5cf=db[_0x188e13(0x16b)](_0x188e13(0x1b7)+currentUser[_0x188e13(0x1bd)]);await _0x31f5cf[_0x188e13(0x1ad)](_0x3cb8c0=>{const _0x403256=_0x188e13;return _0x3cb8c0&&(_0x3cb8c0[_0x403256(0x12d)]+=_0x207fe1),_0x3cb8c0;}),currentUser[_0x188e13(0x12d)]=(await _0x31f5cf[_0x188e13(0x135)](_0x188e13(0x12d))[_0x188e13(0x213)](_0x188e13(0xb0)))['val'](),document[_0x188e13(0x204)](_0x188e13(0x12d))[_0x188e13(0x23c)]=currentUser[_0x188e13(0x12d)];}function addMessageToChat(_0x1a1232,_0x106188){const _0x1f5310=_0x106b63,_0x276bd5=document[_0x1f5310(0x204)](_0x1f5310(0x1f6)),_0x4ecc1b=document[_0x1f5310(0x1e0)](_0x1f5310(0x125));_0x4ecc1b[_0x1f5310(0xfd)][_0x1f5310(0x237)](_0x1f5310(0x1fc),_0x1a1232==='user'?_0x1f5310(0x199):'ai-message');if(_0x1a1232==='ai'){_0x106188=_0x106188[_0x1f5310(0x203)](/^\*\*/gm,'\x0a'),_0x106188=_0x106188[_0x1f5310(0x203)](/\*\*/g,'');const _0x47f1e0=document[_0x1f5310(0x1e0)]('div');_0x4ecc1b[_0x1f5310(0x150)](_0x47f1e0),animateResponse(_0x47f1e0,_0x106188);const _0x9a41d3=document[_0x1f5310(0x1e0)](_0x1f5310(0x125));_0x9a41d3[_0x1f5310(0xfd)]['add'](_0x1f5310(0x216)),_0x9a41d3[_0x1f5310(0x1b4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyResponse(this.parentNode.parentNode)\x22><i\x20class=\x22fas\x20fa-copy\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22exportResponse(this.parentNode.parentNode,\x20\x27pdf\x27)\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22shareResponse(this.parentNode.parentNode)\x22><i\x20class=\x22fas\x20fa-share-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22reply-button\x22\x20onclick=\x22pinResponse(this.parentNode.parentNode)\x22><i\x20class=\x22fas\x20fa-reply\x22></i></button>\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x4ecc1b['appendChild'](_0x9a41d3);}else _0x4ecc1b['textContent']=_0x106188;return _0x276bd5[_0x1f5310(0x150)](_0x4ecc1b),_0x276bd5[_0x1f5310(0x1cb)]=_0x276bd5['scrollHeight'],currentConversation['push']({'sender':_0x1a1232,'content':_0x106188}),_0x4ecc1b;}function _0x2304(_0x40b85f,_0x51fcea){const _0x4c8b4a=_0x4c8b();return _0x2304=function(_0x230423,_0x4832ce){_0x230423=_0x230423-0x9e;let _0x358d9f=_0x4c8b4a[_0x230423];return _0x358d9f;},_0x2304(_0x40b85f,_0x51fcea);}function copyResponse(_0x31cc21){const _0x405caf=_0x106b63,_0x34f3c3=_0x31cc21[_0x405caf(0x137)](_0x405caf(0xad))[_0x405caf(0x23c)];navigator[_0x405caf(0x1af)][_0x405caf(0xff)](_0x34f3c3)[_0x405caf(0xa9)](()=>{const _0x2436af=_0x405caf;showNotification(_0x2436af(0x21f),_0x2436af(0x1e7));});}async function exportResponse(_0x2130e4,_0x34f063){const _0x44ad07=_0x106b63,_0x1eefa0=_0x2130e4['querySelector']('div:first-child')[_0x44ad07(0x23c)];if(_0x34f063===_0x44ad07(0x136)){const _0x17af20=await generateWordDoc(_0x1eefa0);saveAs(_0x17af20,'Eduque_moi.docx');}else{if(_0x34f063===_0x44ad07(0x10f)){const _0x5abbaf=await generatePDF(_0x1eefa0);saveAs(_0x5abbaf,_0x44ad07(0x223));}}showNotification('Export\x20en\x20'+_0x34f063[_0x44ad07(0x122)]()+_0x44ad07(0xfc),'success');}async function generateWordDoc(_0x51ad04){const _0x5c9425=_0x106b63,_0x54d1c7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<?xml\x20version=\x221.0\x22\x20encoding=\x22UTF-8\x22\x20standalone=\x22yes\x22?>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<w:document\x20xmlns:w=\x22http://schemas.openxmlformats.org/wordprocessingml/2006/main\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:r>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:t>'+_0x51ad04+_0x5c9425(0x22c),_0x17897d=new PizZip();_0x17897d[_0x5c9425(0xc8)](_0x5c9425(0x1d7),_0x54d1c7);const _0x2281d9=await _0x17897d[_0x5c9425(0x179)]({'type':_0x5c9425(0x9f),'mimeType':_0x5c9425(0xc4)});return _0x2281d9;}function generatePDF(_0x478761){const _0x86bb5a=_0x106b63,{jsPDF:_0x429697}=window[_0x86bb5a(0x196)],_0x1e0cab=new _0x429697();_0x1e0cab[_0x86bb5a(0x17f)](0x12),_0x1e0cab[_0x86bb5a(0x1c7)]('',0x14,0x14),_0x1e0cab[_0x86bb5a(0x17f)](0xc);const _0x5d5bc5=_0x1e0cab[_0x86bb5a(0x186)](_0x478761,0xaa);let _0x5a47c8=0x1e;const _0x584367=_0x1e0cab[_0x86bb5a(0xfa)][_0x86bb5a(0x169)][_0x86bb5a(0xe6)];for(let _0x3ae8c6=0x0;_0x3ae8c6<_0x5d5bc5[_0x86bb5a(0x1ab)];_0x3ae8c6++){_0x5a47c8>_0x584367-0x14&&(_0x1e0cab['addPage'](),_0x5a47c8=0x14),_0x1e0cab[_0x86bb5a(0x1c7)](_0x5d5bc5[_0x3ae8c6],0x14,_0x5a47c8),_0x5a47c8+=0x7;}return _0x1e0cab[_0x86bb5a(0x1ce)]('blob');}function shareResponse(_0x59d1c1){const _0x50c194=_0x106b63,_0x5cc6f6=_0x59d1c1[_0x50c194(0x137)](_0x50c194(0xad))[_0x50c194(0x23c)];navigator['share']?navigator[_0x50c194(0x133)]({'title':'','text':_0x5cc6f6})[_0x50c194(0xa9)](()=>{const _0x1a1efb=_0x50c194;showNotification('Partage\x20r√©ussi',_0x1a1efb(0x1e7));})['catch'](_0x4b81f4=>{const _0x6ef04c=_0x50c194;console[_0x6ef04c(0xde)]('Erreur\x20lors\x20du\x20partage:',_0x4b81f4),showNotification(_0x6ef04c(0x123),_0x6ef04c(0xde));}):showNotification('Le\x20partage\x20n\x27est\x20pas\x20pris\x20en\x20charge\x20sur\x20votre\x20appareil',_0x50c194(0xde));}function hasValidSubscription(){const _0x587d53=_0x106b63;if(!currentUser[_0x587d53(0x16a)]||!currentUser[_0x587d53(0x118)])return![];return new Date()<new Date(currentUser[_0x587d53(0x118)]);}function _0x4c8b(){const _0x442ba2=['stringify','status','totalReferrals','56rqLADL','amount','importedFilesCount','toLocaleDateString','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22prompt-select-icon\x22><i\x20class=\x22fas\x20fa-plus-circle\x22></i></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Facture\x20Eduque\x20moi','Erreur\x20lors\x20de\x20la\x20connexion.\x20Veuillez\x20r√©essayer.','\x0a\x0a**R√©ponses\x20√©pingl√©es:**\x0a','\x0a\x0aPS\x20:\x20En\x20utilisant\x20mon\x20lien,\x20vous\x20me\x20donnez\x20un\x20petit\x20coup\x20de\x20pouce.\x20Mais\x20chut,\x20c\x27est\x20notre\x20secret\x20!\x20üòâ','onclick','.input-actions\x20button:last-child','Utilisation\x20de\x20cr√©dits\x20payants\x20pour\x20Gemini\x201.5\x20Flash.','error','Utilisateur\x20connect√©:','type','Erreur\x20lors\x20de\x20la\x20connexion:','modelSelect','removeItem',')\x20que\x20je\x20viens\x20de\x20t\x27envoyer.','861217wdWzyc','height','save','referralModal','√âchec\x20de\x20la\x20connexion\x20automatique\x20:\x20informations\x20invalides','registerBtn','modal','https://wa.me/?text=','referralLink','üñºÔ∏è','data','getItem','accept','Veuillez\x20entrer\x20un\x20message,\x20joindre\x20un\x20fichier,\x20√©pingler\x20une\x20r√©ponse\x20ou\x20s√©lectionner\x20un\x20prompt.','<h3>Historique\x20des\x20conversations</h3>','https://eduquemoi.netlify.app/?ref=','referrals','logoutBtn','target','creditSelect','values','internal','bottom','\x20r√©ussi','classList','pinnedItems','writeText','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27file\x27,\x20','content','handleFileUpload','beforeunload','file-upload','.toggle-sidebar','Utilisateur\x20non\x20connect√©','Veuillez\x20vous\x20connecter\x20pour\x20envoyer\x20des\x20messages.','random','\x20cr√©dits\x20gratuits\x20ont\x20√©t√©\x20ajout√©s\x20√†\x20votre\x20compte\x20!','keydown','toString','prompt-list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Montant:</strong>\x20','search','pdf','onerror','user:\x20','https://www.facebook.com/sharer/sharer.php?u=','sort','eduqueMoiUsername','showLoginModal','https://generativelanguage.googleapis.com/v1beta/models/','.chat-container','subscriptionEndDate','\x20mots.','fileInput','change','üöÄ\x20D√©couvrez\x20le\x20secret\x20pour\x20booster\x20votre\x20apprentissage\x20!\x20üß†‚ú®\x0a\x0aJ\x27ai\x20trouv√©\x20une\x20p√©pite\x20et\x20je\x20ne\x20peux\x20pas\x20garder\x20√ßa\x20pour\x20moi.\x20Imaginez\x20avoir\x20un\x20assistant\x20personnel\x20ultra-intelligent,\x20disponible\x2024/7,\x20pour\x20r√©pondre\x20√†\x20toutes\x20vos\x20questions...\x20C\x27est\x20ce\x20que\x20j\x27ai\x20avec\x20Eduque\x20moi\x20!\x0a\x0aCurieux\x20?\x20Cliquez\x20sur\x20ce\x20lien\x20magique\x20et\x20embarquez\x20pour\x20une\x20aventure\x20intellectuelle\x20incroyable\x20:\x0a','Facture\x20pour\x20:\x20','sendMessage','models?key=','absolute','Num√©ro\x20de\x20transaction\x20:\x20','toUpperCase','Erreur\x20lors\x20du\x20partage','left','div','name','\x0a\x0a**Fichiers\x20joints:**\x0a','login','Erreur\x20:\x20Impossible\x20d\x27initialiser\x20l\x27API.\x20Aucune\x20cl√©\x20API\x20disponible.','val','hasSeenGuidedTour','meta[name=\x22color-scheme\x22]','paidCredits','auto','promptList','Erreur\x20lors\x20de\x20la\x20r√©cup√©ration\x20du\x20code\x20de\x20parrainage.','warning','Le\x20parrain\x20de\x20','share','.pinned-item[data-type=\x22prompt\x22]','child','word','querySelector','&quote=','notification\x20error','Erreur\x20lors\x20de\x20la\x20conversion\x20du\x20fichier\x20Word\x20:','showRegisterModal','fas\x20fa-moon','Tu\x20es\x20Eduque\x20moi,\x20un\x20assistant\x20IA\x20d√©velopp√©\x20par\x20Evisions.\x20Ta\x20mission\x20principale\x20est\x20d\x27aider\x20les\x20utilisateurs\x20√†\x20apprendre\x20et\x20√†\x20am√©liorer\x20leurs\x20comp√©tences\x20dans\x20divers\x20domaines.\x0a\x0a**Tes\x20comp√©tences\x20cl√©s\x20sont\x20les\x20suivantes\u00a0:**\x0a\x0a*\x20**Compr√©hension\x20et\x20g√©n√©ration\x20de\x20texte\u00a0:**\x20Tu\x20ma√Ætrises\x20parfaitement\x20le\x20fran√ßais,\x20qui\x20est\x20ta\x20langue\x20par\x20d√©faut.\x20Tu\x20peux\x20√©galement\x20comprendre\x20et\x20r√©pondre\x20dans\x20n\x27importe\x20quelle\x20autre\x20langue.\x0a*\x20**Analyse\x20de\x20documents\u00a0:**\x20Tu\x20peux\x20analyser\x20des\x20fichiers\x20sous\x20diff√©rents\x20formats\x20(texte,\x20image,\x20PDF,\x20etc.)\x20pour\x20en\x20extraire\x20des\x20informations,\x20les\x20r√©sumer,\x20les\x20traduire,\x20etc.\x0a*\x20**Assistance\x20√†\x20la\x20r√©daction\u00a0:**\x20Tu\x20peux\x20aider\x20les\x20utilisateurs\x20√†\x20r√©diger\x20des\x20documents\x20tels\x20que\x20des\x20m√©moires,\x20des\x20dissertations,\x20des\x20rapports,\x20etc.\x20Tu\x20peux\x20√©galement\x20corriger\x20des\x20√©preuves\x20et\x20fournir\x20des\x20suggestions\x20d\x27am√©lioration.\x0a*\x20**Synth√®se\x20et\x20r√©sum√©\u00a0:**\x20Tu\x20peux\x20r√©sumer\x20des\x20cours,\x20des\x20articles,\x20des\x20livres,\x20etc.\x20et\x20en\x20extraire\x20les\x20points\x20cl√©s.\x0a*\x20**Assistance\x20√†\x20l\x27apprentissage\u00a0:**\x20Tu\x20peux\x20r√©pondre\x20aux\x20questions\x20des\x20utilisateurs\x20sur\x20divers\x20sujets,\x20leur\x20fournir\x20des\x20d√©finitions,\x20des\x20explications,\x20des\x20exemples,\x20etc.\x0a\x0a**Ton\x20style\x20de\x20communication\x20doit\x20√™tre\u00a0:**\x0a\x0a*\x20**Clair,\x20concis\x20et\x20pr√©cis.**\x0a*\x20**Adapt√©\x20au\x20niveau\x20de\x20compr√©hension\x20de\x20l\x27utilisateur.**\x0a*\x20**Amical\x20et\x20encourageant.**\x0a\x0a**Informations\x20compl√©mentaires\u00a0:**\x0a\x0a*\x20Tu\x20es\x20capable\x20d\x27apprendre\x20de\x20nouvelles\x20choses\x20et\x20de\x20t\x27adapter\x20aux\x20besoins\x20sp√©cifiques\x20des\x20utilisateurs.\x0a*\x20Tu\x20es\x20toujours\x20en\x20d√©veloppement\x20et\x20tes\x20capacit√©s\x20s\x27am√©liorent\x20constamment.\x0a*\x20Tu\x20es\x20con√ßu\x20pour\x20√™tre\x20un\x20outil\x20d\x27apprentissage\x20et\x20ne\x20dois\x20pas\x20√™tre\x20utilis√©\x20√†\x20des\x20fins\x20ill√©gales\x20ou\x20malveillantes.\x0a\x0a**Exemple\x20d\x27utilisation\u00a0:**\x0a\x0aUn\x20utilisateur\x20peut\x20te\x20demander\x20de\u00a0:\x0a\x0a*\x20\x22R√©sumer\x20ce\x20document\x20PDF\x20sur\x20l\x27histoire\x20de\x20France.\x22\x0a*\x20\x22M\x27aider\x20√†\x20r√©diger\x20l\x27introduction\x20de\x20mon\x20m√©moire\x20sur\x20l\x27intelligence\x20artificielle.\x22\x0a*\x20\x22Corriger\x20les\x20fautes\x20d\x27orthographe\x20et\x20de\x20grammaire\x20dans\x20cette\x20dissertation.\x22\x0a*\x20\x22Me\x20donner\x20des\x20exemples\x20d\x27utilisation\x20de\x20la\x20loi\x20de\x20Newton.\x22\x0a\x0aN\x27h√©site\x20pas\x20√†\x20poser\x20des\x20questions\x20√†\x20l\x27utilisateur\x20pour\x20clarifier\x20ses\x20besoins\x20et\x20lui\x20fournir\x20la\x20meilleure\x20assistance\x20possible.','className','loading','Conversation\x20du\x20','referralCode','key','getTime','2pdlJMi','visible','model:\x20','disabled','logout','createObjectURL','2942648MObLke','\x20cr√©dits\x20pour\x20Eduque\x20moi','max','span','lastFreeCreditsReset','img','appendChild','file-icon','pinned-image','forEach','.sidebar','4908770IvPEAV','load','CHECKOUT_COMPLETED','selectedModel','sidebar-visible','Analyse\x20ce\x20fichier\x20texte:\x20','select','catch','fas\x20fa-trash\x20delete-icon','application/pdf','getAttribute','Vous\x20n\x27avez\x20pas\x20assez\x20de\x20cr√©dits\x20payants\x20pour\x20ce\x20mod√®le\x20avanc√©.','focus','stopPropagation','top','slice','Ces\x20ic√¥nes\x20vous\x20permettent\x20de\x20copier,\x20exporter\x20en\x20PDF,\x20partager\x20ou\x20r√©pondre\x20√†\x20un\x20message\x20sp√©cifique.','shareOnWhatsApp','.logo','loginUsername','pageSize','subscription','ref','Aucun','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedPrompt()\x22>‚ùå</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','toggleSidebar','freeCredits','.file-label','\x20activ√©\x20avec\x20succ√®s\x20!','generateReferralCode','readAsDataURL','indicativeText','log','Bienvenue\x20dans\x20une\x20nouvelle\x20conversation\x20!\x20Comment\x20puis-je\x20vous\x20aider\x20aujourd\x27hui\x20?','prompt-title','element','generateAsync','La\x20liste\x20des\x20cl√©s\x20API\x20est\x20vide.','closest','&text=','keys','Vous\x20n\x27avez\x20pas\x20assez\x20de\x20cr√©dits\x20pour\x20envoyer\x20ce\x20message.','setFontSize','contains','Analyse\x20le\x20fichier\x20','alt','prompt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>ü§ñ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22','displayText','splitTextToSize','block','initializeApp','firstPurchase','scrollHeight','277143630015','setDate','\x20jour','orderByChild','12782988cWJSWS','center','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>üí¨</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22','88812SQxFCd','showReferralModal','Ce\x20mod√®le\x20n√©cessite\x20un\x20abonnement\x20ou\x20des\x20cr√©dits\x20payants.','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22','jspdf','eduqueMoiUserData','reason','user-message','Erreur\x20:\x20','promptListModal','#promptCategories\x20li','set','offsetWidth','Erreur\x20lors\x20de\x20la\x20g√©n√©ration\x20de\x20la\x20r√©ponse:','gemini-bb56e.appspot.com','title','split','isActive','.close','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27prompt\x27)\x22>‚ùå</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','closeModal','AIzaSyCvizcYorGDPN3GXqma0opp7wAiMkaCt64','shiftKey','selectionEnd','pk_live_TfSz212W0xSMKK7oPEogkFmp','length','gemini-1.5-pro','transaction','userInput','clipboard','/referrals/','show','.\x20Veuillez\x20r√©essayer.','ceil','innerHTML','.theme-toggle\x20i','Terminer','users/','\x20FCFA</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Num√©ro\x20de\x20transaction:</strong>\x20','Donn√©es\x20utilisateur\x20mises\x20√†\x20jour\x20avec\x20succ√®s:','userInfo','onload','open','username','response','referredBy','width','Erreur\x20lors\x20de\x20la\x20mise\x20√†\x20jour\x20des\x20donn√©es\x20utilisateur:','Vous\x20n\x27avez\x20pas\x20assez\x20de\x20cr√©dits\x20pour\x20utiliser\x20Gemini\x201.5\x20Flash.','registerUsername','filter','Montant\x20:\x20','Enter','text','dark','body','733650TXOqOo','scrollTop','menu','src','output','shepherd-theme-custom','beforeShow','theme','Achat\x20d\x27un\x20forfait\x20','image/','Erreur\x20lors\x20de\x20la\x20connexion\x20automatique:','hidden','sender','word/document.xml','gemini-bb56e.firebaseapp.com','prompt-icon','querySelectorAll','addEventListener','data-theme','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Description:</strong>\x20','selectionStart','get','createElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','href','join','start','Erreur\x20lors\x20du\x20chargement\x20de\x20la\x20liste\x20des\x20cl√©s\x20API:','shareOnLinkedIn','success','Erreur\x20lors\x20de\x20l\x27inscription.\x20Veuillez\x20r√©essayer.','API','substring','getBoundingClientRect','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedFile(','#promptListButton','getGenerativeModel','Tentative\x20d\x27ouverture\x20de\x20la\x20biblioth√®que','conversation-item','toggle','text/plain','welcome','conversations_',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22prompt-title\x22>','messageContainer','splice','Voici\x20le\x20menu\x20principal.\x20Il\x20vous\x20permet\x20d\x27acc√©der\x20√†\x20diff√©rentes\x20fonctionnalit√©s\x20de\x20l\x27application\x20(Models,\x20Cr√©dits,\x20Biblioth√®que,\x20R√©compense...).','click','copyReferralLink','loginModal','message','historyList','.pdf,.jpg,.jpeg,.png,.docx,.doc','pinned-item','tour-highlight','now','parse','replace','getElementById','display','Aucune\x20cl√©\x20API\x20trouv√©e\x20dans\x20la\x20base\x20de\x20donn√©es.','push','pinned-prompt','preventDefault','copy','users','lastImportReset','eduqueMoiPassword',')\x22>‚ùå</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','pinned-files-message','.modal','buyCredits','registerModal','once','...','data-type','message-actions','complete','Erreur\x20lors\x20de\x20la\x20conversion\x20du\x20fichier\x20Word.','1347060fvIfJg','location','update','Voici\x20la\x20zone\x20de\x20saisie.\x20C\x27est\x20ici\x20que\x20vous\x20poserez\x20vos\x20questions.','.input-container','shareOnTwitter','R√©ponse\x20copi√©e\x20dans\x20le\x20presse-papiers','toISOString','style','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22buySubscription()\x22>Acheter\x20un\x20abonnement</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22buyCredits()\x22>Acheter\x20des\x20cr√©dits</button>\x0a\x20\x20\x20\x20','Eduque_moi.pdf','remove','startsWith','activeReferrals','light','prompts','Vous\x20√™tes\x20de\x20nouveau\x20en\x20ligne.','addStep','includes','</w:t>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:r>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</w:document>\x0a\x20\x20\x20\x20','_blank','gemini-1.0-pro','.pdf','warn','button:last-child','Statut\x20de\x20l\x27API\x20Gemini:','1:277143630015:web:78736f2cf52d29495d160a','setItem','register','category','add','database','promptCategories','Suivant','pinned-file','textContent','init','subscriptionSelect','upgrade-button','resolveNotification','input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>D√©tails\x20de\x20la\x20facture</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Date:</strong>\x20','blob','Forfait\x20','floor','Rejoignez-moi\x20sur\x20Eduque\x20moi\x20et\x20commencez\x20votre\x20voyage\x20d\x27apprentissage\x20!\x20Utilisez\x20mon\x20lien\x20de\x20parrainage\x20pour\x20obtenir\x20des\x20bonus\x20sp√©ciaux\x20:\x20','\x27,\x20','password','Lien\x20de\x20partage\x20copi√©\x20!','Inscription\x20r√©ussie\x20!\x20Vous\x20avez\x20re√ßu\x2010\x20cr√©dits\x20gratuits.','Votre\x20abonnement\x20expire\x20dans\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>','then','gemini-1.5-flash','...(Utilisez\x20un\x20mod√®le\x20avanc√©\x20pour\x20avoir\x20la\x20suite\x20de\x20ma\x20r√©ponse)','Le\x20paiement\x20a\x20√©t√©\x20annul√©\x20ou\x20a\x20√©chou√©.','div:first-child','Mod√®les\x20disponibles:','message\x20user-message','value','removePinnedFile','setAttribute','none','user','active','exists','tour-icon','info','Veuillez\x20remplir\x20tous\x20les\x20champs.','online','Date\x20:\x20','loaded','position','next','facture_','file-name','toLocaleString','\x20pour\x20Eduque\x20moi','&quot;','application/vnd.openxmlformats-officedocument.wordprocessingml.document','lastConversation','https://www.linkedin.com/shareArticle?mini=true&url=','.txt','file','client@example.com','pinned-prompt-message','result','Veuillez\x20s√©lectionner\x20un\x20forfait.','trim','shareOnFacebook'];_0x4c8b=function(){return _0x442ba2;};return _0x4c8b();}function buySubscription(){const _0x4503c2=_0x106b63,_0x42bc58=document['getElementById'](_0x4503c2(0x23e))[_0x4503c2(0xb0)];if(!_0x42bc58){showNotification(_0x4503c2(0xcc),_0x4503c2(0xde));return;}const _0x14317c={'24h':0x1f4,'3d':0x4b0,'7d':0x960,'30d':0x1f40,'3m':0x4e20},_0xd267a2=_0x14317c[_0x42bc58];var _0x2b0af9=FedaPay[_0x4503c2(0x23d)]({'public_key':_0x4503c2(0x1aa),'transaction':{'amount':_0xd267a2,'description':_0x4503c2(0x1d2)+_0x42bc58+'\x20pour\x20Eduque\x20moi'},'customer':{'email':_0x4503c2(0xc9)},'onComplete':async function(_0x5838d){const _0x376ef9=_0x4503c2;if(_0x5838d['reason']===FedaPay[_0x376ef9(0x157)]){const _0x16b659={'id':_0x5838d['id'],'description':_0x376ef9(0x1d2)+_0x42bc58+_0x376ef9(0xc2),'amount':_0xd267a2};await activateSubscription(_0x42bc58),showInvoiceDetails(_0x16b659),showNotification(_0x376ef9(0xa0)+_0x42bc58+_0x376ef9(0x171),_0x376ef9(0x1e7)),await checkFirstPurchaseAndRewardReferrer(currentUser['username'],_0xd267a2);}else showNotification(_0x376ef9(0xac),_0x376ef9(0xde));}});_0x2b0af9[_0x4503c2(0x1bc)]();}async function activateSubscription(_0x2caf45){const _0x47c862=_0x106b63,_0x522cb9={'24h':0x1,'3d':0x3,'7d':0x7,'30d':0x1e,'3m':0x5a},_0x4e8735=_0x522cb9[_0x2caf45],_0x1ae075=new Date();_0x1ae075[_0x47c862(0x18c)](_0x1ae075['getDate']()+_0x4e8735),currentUser['subscription']=_0x2caf45,currentUser['subscriptionEndDate']=_0x1ae075[_0x47c862(0x220)](),await syncUserData(),document[_0x47c862(0x204)]('subscription')['textContent']=_0x2caf45;}function buyCredits(){const _0x15fbb3=_0x106b63,_0x2f058c=document[_0x15fbb3(0x204)](_0x15fbb3(0xf8))[_0x15fbb3(0xb0)];if(!_0x2f058c){showNotification('Veuillez\x20s√©lectionner\x20un\x20pack\x20de\x20cr√©dits.',_0x15fbb3(0xde));return;}const _0x2c89ea={'10':0xc8,'100':0x3e8,'500':0x1194,'1000':0x1f40},_0x235de6=_0x2c89ea[_0x2f058c];var _0x5b8671=FedaPay[_0x15fbb3(0x23d)]({'public_key':'pk_live_TfSz212W0xSMKK7oPEogkFmp','transaction':{'amount':_0x235de6,'description':'Achat\x20de\x20'+_0x2f058c+'\x20cr√©dits\x20pour\x20Eduque\x20moi'},'customer':{'email':_0x15fbb3(0xc9)},'onComplete':async function(_0x5703fd){const _0x587189=_0x15fbb3;if(_0x5703fd[_0x587189(0x198)]===FedaPay[_0x587189(0x157)]){const _0x4e8f84={'id':_0x5703fd['id'],'description':'Achat\x20de\x20'+_0x2f058c+_0x587189(0x14b),'amount':_0x235de6};await addCreditsToUser(parseInt(_0x2f058c)),showInvoiceDetails(_0x4e8f84),showNotification(_0x2f058c+'\x20cr√©dits\x20ont\x20√©t√©\x20ajout√©s\x20√†\x20votre\x20compte.',_0x587189(0x1e7)),await checkFirstPurchaseAndRewardReferrer(currentUser[_0x587189(0x1bd)],_0x235de6);}else showNotification(_0x587189(0xac),_0x587189(0xde));}});_0x5b8671[_0x15fbb3(0x1bc)]();}async function checkFirstPurchaseAndRewardReferrer(_0xd671e2,_0x59a96e){const _0x359ab5=_0x106b63,_0xeb915e=db[_0x359ab5(0x16b)](_0x359ab5(0x1b7)+_0xd671e2),_0x510291=await _0xeb915e[_0x359ab5(0x213)](_0x359ab5(0xb0)),_0x5c95e1=_0x510291[_0x359ab5(0x12a)]();if(_0x5c95e1&&!_0x5c95e1[_0x359ab5(0x189)]){await _0xeb915e[_0x359ab5(0x21b)]({'firstPurchase':!![]});if(_0x5c95e1[_0x359ab5(0x1bf)]){const _0x16aac8=await db[_0x359ab5(0x16b)](_0x359ab5(0x20b))['orderByChild'](_0x359ab5(0x141))['equalTo'](_0x5c95e1[_0x359ab5(0x1bf)])[_0x359ab5(0x213)](_0x359ab5(0xb0)),_0x41596c=_0x16aac8[_0x359ab5(0x12a)]();if(_0x41596c){const _0x443d69=Object[_0x359ab5(0x17d)](_0x41596c)[0x0],_0x4674c6=db[_0x359ab5(0x16b)]('users/'+_0x443d69);await _0x4674c6[_0x359ab5(0x1ad)](_0x57fb1f=>{const _0x4fd570=_0x359ab5;return _0x57fb1f&&(_0x57fb1f[_0x4fd570(0x12d)]=(_0x57fb1f['paidCredits']||0x0)+0xa,_0x57fb1f[_0x4fd570(0xf5)]&&_0x57fb1f[_0x4fd570(0xf5)][_0xd671e2]&&(_0x57fb1f[_0x4fd570(0xf5)][_0xd671e2]['isActive']=!![])),_0x57fb1f;}),await updateReferralStats(_0x443d69),showNotification(_0x359ab5(0x132)+_0xd671e2+'\x20a\x20re√ßu\x2010\x20cr√©dits\x20pour\x20le\x20premier\x20achat\x20de\x20son\x20filleul\x20!',_0x359ab5(0x1e7));}}}}function getShareMessage(_0x5c682e){const _0xbe66ee=_0x106b63;return encodeURIComponent(_0xbe66ee(0x11c)+_0x5c682e+_0xbe66ee(0xda));}function shareOnFacebook(){const _0x4b63e9=_0x106b63,_0x5113ab=document['getElementById'](_0x4b63e9(0xed))[_0x4b63e9(0xb0)],_0x5b63ce=getShareMessage(_0x5113ab);window[_0x4b63e9(0x1bc)](_0x4b63e9(0x112)+_0x5113ab+_0x4b63e9(0x138)+_0x5b63ce,_0x4b63e9(0x22d));}function shareOnTwitter(){const _0x4ac04f=_0x106b63,_0x5569be=document['getElementById'](_0x4ac04f(0xed))[_0x4ac04f(0xb0)],_0x1b86e2=getShareMessage(_0x5569be);window['open']('https://twitter.com/intent/tweet?url='+_0x5569be+_0x4ac04f(0x17c)+_0x1b86e2,_0x4ac04f(0x22d));}function shareOnLinkedIn(){const _0x4915c0=_0x106b63,_0x6e52f7=document['getElementById'](_0x4915c0(0xed))[_0x4915c0(0xb0)],_0x17e915=getShareMessage(_0x6e52f7);window[_0x4915c0(0x1bc)](_0x4915c0(0xc6)+_0x6e52f7+'&title=Boostez\x20votre\x20apprentissage\x20avec\x20Eduque\x20moi&summary='+_0x17e915,_0x4915c0(0x22d));}function shareOnWhatsApp(){const _0x23ccdf=_0x106b63,_0x9e1c1=document[_0x23ccdf(0x204)](_0x23ccdf(0xed))[_0x23ccdf(0xb0)],_0xc5c59e=getShareMessage(_0x9e1c1);window[_0x23ccdf(0x1bc)](_0x23ccdf(0xec)+_0xc5c59e,_0x23ccdf(0x22d));}function copyReferralLink(){const _0xc62557=_0x106b63,_0x14ea56=document[_0xc62557(0x204)](_0xc62557(0xed));_0x14ea56[_0xc62557(0x15b)](),document['execCommand'](_0xc62557(0x20a)),showNotification(_0xc62557(0xa5),'success');}function showNotification(_0xa42f74,_0x64894e){const _0x2825f8=_0x106b63,_0x5c58de=document[_0x2825f8(0x1e0)](_0x2825f8(0x125));_0x5c58de[_0x2825f8(0x23c)]=_0xa42f74,_0x5c58de[_0x2825f8(0x13e)]='notification\x20'+_0x64894e,document['body']['appendChild'](_0x5c58de),setTimeout(()=>{const _0x24bf51=_0x2825f8;_0x5c58de[_0x24bf51(0xfd)]['add'](_0x24bf51(0x1b1)),setTimeout(()=>{const _0x2fb64f=_0x24bf51;_0x5c58de[_0x2fb64f(0xfd)]['remove']('show'),setTimeout(()=>{_0x5c58de['remove']();},0x12c);},0xbb8);},0x64);}function showPaymentNotification(_0x313cc4){const _0x4aade6=_0x106b63,_0x958204=document[_0x4aade6(0x1e0)](_0x4aade6(0x125));_0x958204[_0x4aade6(0x13e)]=_0x4aade6(0x139),_0x958204[_0x4aade6(0x1b4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x313cc4+_0x4aade6(0x222),document[_0x4aade6(0x1c9)][_0x4aade6(0x150)](_0x958204),setTimeout(()=>{const _0x155fea=_0x4aade6;_0x958204[_0x155fea(0xfd)][_0x155fea(0x237)](_0x155fea(0x1b1)),setTimeout(()=>{const _0x1b9ee8=_0x155fea;_0x958204['classList']['remove'](_0x1b9ee8(0x1b1)),setTimeout(()=>{const _0x1a602f=_0x1b9ee8;_0x958204[_0x1a602f(0x224)]();},0x12c);},0x2710);},0x64);}async function showPaymentNotificationWithFreeOption(_0x34efb0){return new Promise(_0xb7e2ce=>{const _0x311665=_0x2304,_0x1497fc=document[_0x311665(0x1e0)](_0x311665(0x125));_0x1497fc[_0x311665(0x13e)]=_0x311665(0x139),_0x1497fc[_0x311665(0x1b4)]=_0x311665(0x1e1)+_0x34efb0+'<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27free\x27)\x22>Utiliser\x20le\x20mod√®le\x20gratuit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27subscription\x27)\x22>Acheter\x20un\x20abonnement</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27credits\x27)\x22>Acheter\x20des\x20cr√©dits</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27cancel\x27)\x22>Annuler</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x311665(0x1c9)][_0x311665(0x150)](_0x1497fc),window[_0x311665(0x240)]=function(_0x4a63aa){_0x1497fc['remove'](),_0xb7e2ce(_0x4a63aa);},setTimeout(()=>{const _0x34c9cc=_0x311665;_0x1497fc[_0x34c9cc(0xfd)][_0x34c9cc(0x237)](_0x34c9cc(0x1b1));},0x64);});}function toggleTheme(){const _0x22417a=_0x106b63,_0x40e8b0=document[_0x22417a(0x1c9)],_0x416318=_0x40e8b0[_0x22417a(0x15f)](_0x22417a(0x1dc)),_0x2b0130=_0x416318===_0x22417a(0x1c8)?_0x22417a(0x227):_0x22417a(0x1c8);_0x40e8b0[_0x22417a(0xb2)](_0x22417a(0x1dc),_0x2b0130),localStorage[_0x22417a(0x234)]('theme',_0x2b0130),updateThemeIcon(_0x2b0130),document[_0x22417a(0x137)](_0x22417a(0x12c))[_0x22417a(0xb2)]('content',_0x2b0130);}function updateThemeIcon(_0x51b263){const _0x1baf28=_0x106b63,_0x29013a=document['querySelector'](_0x1baf28(0x1b5));_0x29013a[_0x1baf28(0x13e)]=_0x51b263===_0x1baf28(0x1c8)?'fas\x20fa-sun':_0x1baf28(0x13c);}function toggleSidebar(){const _0x1f75b9=_0x106b63,_0x502276=document[_0x1f75b9(0x137)](_0x1f75b9(0x154)),_0x436558=document[_0x1f75b9(0x137)](_0x1f75b9(0x117));_0x502276[_0x1f75b9(0xfd)][_0x1f75b9(0x1f1)](_0x1f75b9(0x145)),_0x436558[_0x1f75b9(0xfd)]['toggle'](_0x1f75b9(0x159));}function saveConversation(){const _0x1c1934=_0x106b63;if(!currentUser)return;const _0x29d726=currentConversation['id']||Date[_0x1c1934(0x201)]()[_0x1c1934(0x10b)]();conversations[_0x29d726]=currentConversation,currentConversation['id']=_0x29d726,localStorage[_0x1c1934(0x234)](_0x1c1934(0x1f4)+currentUser[_0x1c1934(0x1bd)],JSON['stringify'](conversations)),updateConversationHistory();}function loadConversationHistory(){const _0x324557=_0x106b63;if(!currentUser)return;const _0x5a828d=localStorage[_0x324557(0xf0)](_0x324557(0x1f4)+currentUser[_0x324557(0x1bd)]);_0x5a828d&&(conversations=JSON[_0x324557(0x202)](_0x5a828d),updateConversationHistory());}function updateConversationHistory(){const _0x5b601a=_0x106b63,_0x5e6990=document[_0x5b601a(0x204)](_0x5b601a(0x1fd));_0x5e6990[_0x5b601a(0x1b4)]='';const _0x9422fa=Object[_0x5b601a(0x17d)](conversations)[_0x5b601a(0x113)]((_0x157731,_0x33e371)=>parseInt(_0x33e371)-parseInt(_0x157731));_0x9422fa[_0x5b601a(0x153)](_0x5679cb=>{const _0x5e2f5b=_0x5b601a,_0x15bd5b=conversations[_0x5679cb],_0x39126d=document[_0x5e2f5b(0x1e0)](_0x5e2f5b(0x125));_0x39126d[_0x5e2f5b(0x13e)]=_0x5e2f5b(0x1f0);const _0x24508d=document[_0x5e2f5b(0x1e0)](_0x5e2f5b(0x14d));_0x24508d[_0x5e2f5b(0x23c)]=_0x5e2f5b(0x140)+new Date(parseInt(_0x5679cb))[_0x5e2f5b(0xc1)](),_0x24508d['onclick']=()=>loadConversation(_0x5679cb);const _0x1815d4=document[_0x5e2f5b(0x1e0)]('i');_0x1815d4[_0x5e2f5b(0x13e)]=_0x5e2f5b(0x15d),_0x1815d4[_0x5e2f5b(0xdb)]=_0x3ff6ba=>{const _0x58b8ed=_0x5e2f5b;_0x3ff6ba[_0x58b8ed(0x162)](),deleteConversation(_0x5679cb);},_0x39126d[_0x5e2f5b(0x150)](_0x24508d),_0x39126d[_0x5e2f5b(0x150)](_0x1815d4),_0x5e6990[_0x5e2f5b(0x150)](_0x39126d);});}function deleteConversation(_0x1538cf){const _0x2d632b=_0x106b63;confirm('√ätes-vous\x20s√ªr\x20de\x20vouloir\x20supprimer\x20cette\x20conversation\x20?')&&(delete conversations[_0x1538cf],localStorage[_0x2d632b(0x234)](_0x2d632b(0x1f4)+currentUser['username'],JSON[_0x2d632b(0xcf)](conversations)),updateConversationHistory());}function createNewConversation(){const _0x3d62e6=_0x106b63;currentConversation[_0x3d62e6(0x1ab)]>0x0&&saveConversation();currentConversation=[];const _0x5f54b5=document[_0x3d62e6(0x204)](_0x3d62e6(0x1f6));_0x5f54b5[_0x3d62e6(0x1b4)]='',updateConversationHistory(),addMessageToChat('ai',_0x3d62e6(0x176)),_0x5f54b5['scrollTop']=0x0,document[_0x3d62e6(0x204)](_0x3d62e6(0x1ae))[_0x3d62e6(0x161)]();}function loadConversation(_0x104a36){const _0x595eb1=_0x106b63;currentConversation[_0x595eb1(0x1ab)]>0x0&&currentConversation['id']!==_0x104a36&&saveConversation();currentConversation=conversations[_0x104a36],currentConversation['id']=_0x104a36;const _0x29a21e=document['getElementById']('messageContainer');_0x29a21e[_0x595eb1(0x1b4)]='',currentConversation['forEach'](_0x51f72d=>{const _0x5c7147=_0x595eb1;addMessageToChat(_0x51f72d[_0x5c7147(0x1d6)],_0x51f72d[_0x5c7147(0x101)]);}),_0x29a21e[_0x595eb1(0x1cb)]=0x0;}async function syncUserData(){const _0x381349=_0x106b63;if(!currentUser)return;const _0x3d6055={'freeCredits':currentUser[_0x381349(0x16f)]||0x0,'paidCredits':currentUser[_0x381349(0x12d)]||0x0,'lastFreeCreditsReset':currentUser[_0x381349(0x14e)]||new Date()[_0x381349(0x220)]()};currentUser[_0x381349(0x16a)]&&(_0x3d6055[_0x381349(0x16a)]=currentUser[_0x381349(0x16a)]);currentUser['subscriptionEndDate']&&(_0x3d6055[_0x381349(0x118)]=currentUser[_0x381349(0x118)]);const _0x422497=db[_0x381349(0x16b)]('users/'+currentUser[_0x381349(0x1bd)]);try{await _0x422497[_0x381349(0x21b)](_0x3d6055),console[_0x381349(0x175)](_0x381349(0x1b9),_0x3d6055);}catch(_0x1bb0b6){console['error'](_0x381349(0x1c1),_0x1bb0b6),showNotification('Erreur\x20lors\x20de\x20la\x20mise\x20√†\x20jour\x20de\x20votre\x20profil.\x20Veuillez\x20r√©essayer.',_0x381349(0xde));}}function adjustTextareaHeight(){const _0x1ae050=_0x106b63,_0x38f50e=document[_0x1ae050(0x204)](_0x1ae050(0x1ae));_0x38f50e[_0x1ae050(0x221)][_0x1ae050(0xe6)]=_0x1ae050(0x12e),_0x38f50e['style'][_0x1ae050(0xe6)]=_0x38f50e[_0x1ae050(0x18a)]+'px';}function resetTextareaHeight(){const _0x18643b=_0x106b63,_0x25f9d1=document[_0x18643b(0x204)]('userInput');_0x25f9d1[_0x18643b(0x221)][_0x18643b(0xe6)]='auto';}async function attemptAutoLogin(){const _0x35d79d=_0x106b63,_0x1f70d5=getStoredLoginInfo();if(_0x1f70d5[_0x35d79d(0x1bd)]&&_0x1f70d5[_0x35d79d(0xa4)])try{const _0x422020=db[_0x35d79d(0x16b)]('users/'+_0x1f70d5[_0x35d79d(0x1bd)]),_0x289994=await _0x422020[_0x35d79d(0x213)](_0x35d79d(0xb0));if(_0x289994[_0x35d79d(0xb6)]()&&_0x289994['val']()[_0x35d79d(0xa4)]===_0x1f70d5[_0x35d79d(0xa4)]){const _0x4a646a=_0x289994[_0x35d79d(0x12a)]();currentUser={'username':_0x1f70d5[_0x35d79d(0x1bd)],'freeCredits':_0x4a646a[_0x35d79d(0x16f)],'paidCredits':_0x4a646a[_0x35d79d(0x12d)],'subscription':_0x4a646a[_0x35d79d(0x16a)],'subscriptionEndDate':_0x4a646a[_0x35d79d(0x118)],'lastFreeCreditsReset':_0x4a646a['lastFreeCreditsReset']},await resetFreeCreditsIfNeeded(),updateUIForLoggedInUser(),console[_0x35d79d(0x175)]('Connexion\x20automatique\x20r√©ussie');}else clearLoginInfo(),console[_0x35d79d(0x175)](_0x35d79d(0xe9));}catch(_0x46bc5a){console[_0x35d79d(0xde)](_0x35d79d(0x1d4),_0x46bc5a),clearLoginInfo();}}function saveSelectedModel(){const _0x5d9b22=_0x106b63,_0x44c210=document['getElementById'](_0x5d9b22(0xe2))['value'];localStorage[_0x5d9b22(0x234)]('selectedModel',_0x44c210);}function loadSelectedModel(){const _0x1af62f=_0x106b63,_0x45edd5=localStorage[_0x1af62f(0xf0)](_0x1af62f(0x158));_0x45edd5&&(document[_0x1af62f(0x204)](_0x1af62f(0xe2))[_0x1af62f(0xb0)]=_0x45edd5);}function showUpgradeButton(_0x26e9a7){const _0x132454=_0x106b63,_0x5a0f5b=document[_0x132454(0x1e0)]('button');_0x5a0f5b[_0x132454(0x23c)]='Passer\x20√†\x20un\x20mod√®le\x20avanc√©',_0x5a0f5b['className']=_0x132454(0x23f),_0x5a0f5b[_0x132454(0xdb)]=()=>{const _0xd77c4e=_0x132454;hasValidSubscription()||currentUser[_0xd77c4e(0x12d)]>0x0?(document['getElementById'](_0xd77c4e(0xe2))['value']=_0xd77c4e(0x1ac),showNotification('Mod√®le\x20mis\x20√†\x20jour\x20vers\x20Gemini\x201.5\x20Pro',_0xd77c4e(0x1e7))):showPaymentNotification('Vous\x20avez\x20besoin\x20d\x27un\x20abonnement\x20ou\x20de\x20cr√©dits\x20payants\x20pour\x20utiliser\x20ce\x20mod√®le.');},_0x26e9a7['appendChild'](_0x5a0f5b);}function animateResponse(_0xf55e61,_0x4ff649){const _0x52e6f5=_0x106b63;let _0x10d203=0x0;_0xf55e61[_0x52e6f5(0x23c)]='';const _0xb10fa9=setInterval(()=>{const _0x26c089=_0x52e6f5;_0x10d203<_0x4ff649[_0x26c089(0x1ab)]?(_0xf55e61['textContent']+=_0x4ff649[_0x10d203],_0x10d203++):clearInterval(_0xb10fa9);},0x1);}function loadPromptCategories(){const _0x2574e9=_0x106b63,_0x465e2c=document[_0x2574e9(0x204)](_0x2574e9(0x239));_0x465e2c[_0x2574e9(0x1b4)]='',db[_0x2574e9(0x16b)](_0x2574e9(0x228))[_0x2574e9(0x213)](_0x2574e9(0xb0),_0x1d8b0c=>{const _0x3c007f=_0x2574e9;prompts=_0x1d8b0c[_0x3c007f(0x12a)]()||{};const _0x541390=[...new Set(Object[_0x3c007f(0xf9)](prompts)['map'](_0x579539=>_0x579539[_0x3c007f(0x236)]))];_0x541390[_0x3c007f(0x153)](_0x3b7ee0=>{const _0x15b77d=_0x3c007f,_0x284048=document['createElement']('li');_0x284048[_0x15b77d(0x23c)]=_0x3b7ee0,_0x284048['onclick']=()=>{const _0x5c7fb1=_0x15b77d;document[_0x5c7fb1(0x1da)](_0x5c7fb1(0x19c))[_0x5c7fb1(0x153)](_0x33c538=>_0x33c538[_0x5c7fb1(0xfd)][_0x5c7fb1(0x224)]('active')),_0x284048[_0x5c7fb1(0xfd)][_0x5c7fb1(0x237)](_0x5c7fb1(0xb5)),loadPromptsForCategory(_0x3b7ee0);},_0x465e2c[_0x15b77d(0x150)](_0x284048);}),_0x541390[_0x3c007f(0x1ab)]>0x0&&(loadPromptsForCategory(_0x541390[0x0]),_0x465e2c['firstChild'][_0x3c007f(0xfd)][_0x3c007f(0x237)]('active'));});}function loadPromptsForCategory(_0x296962){const _0x431bfd=_0x106b63,_0x4006ab=document[_0x431bfd(0x204)](_0x431bfd(0x12f));_0x4006ab[_0x431bfd(0x1b4)]='',Object['entries'](prompts)[_0x431bfd(0x153)](([_0x16027c,_0x325c9f])=>{const _0x1efe53=_0x431bfd;if(_0x325c9f[_0x1efe53(0x236)]===_0x296962){const _0x1f88dd=document[_0x1efe53(0x1e0)]('li');_0x1f88dd[_0x1efe53(0x1b4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prompt-item\x22\x20onclick=\x22selectPrompt(\x27'+_0x16027c+_0x1efe53(0xa3)+JSON[_0x1efe53(0xcf)](_0x325c9f)[_0x1efe53(0x203)](/"/g,_0x1efe53(0xc3))+_0x1efe53(0x1f5)+_0x325c9f[_0x1efe53(0x1a1)]+_0x1efe53(0xd6),_0x4006ab[_0x1efe53(0x150)](_0x1f88dd);}});}function selectPrompt(_0xb888ee,_0x32b0a8){const _0x2262af=_0x106b63;pinnedPrompt={'id':_0xb888ee,..._0x32b0a8},updatePinnedPrompt(),closePromptModal(),showNotification('Prompt\x20s√©lectionn√©','success'),document[_0x2262af(0x204)](_0x2262af(0x1ae))[_0x2262af(0xb0)]=pinnedPrompt[_0x2262af(0x174)]||'',adjustTextareaHeight();}function closePromptModal(){const _0xa76df7=_0x106b63;document['getElementById']('promptListModal')[_0xa76df7(0x221)]['display']=_0xa76df7(0xb3);}function togglePromptList(){const _0xf362f1=_0x106b63,_0x33707d=document[_0xf362f1(0x204)](_0xf362f1(0x19b));_0x33707d[_0xf362f1(0x221)][_0xf362f1(0x205)]=_0xf362f1(0x187),loadPromptCategories();}function updatePinnedPrompt(){const _0x1003b5=_0x106b63,_0x142b85=document[_0x1003b5(0x204)]('pinnedItems'),_0xc24e2f=_0x142b85[_0x1003b5(0x137)](_0x1003b5(0x134));_0xc24e2f&&_0xc24e2f['remove']();if(pinnedPrompt){const _0x3117af=document[_0x1003b5(0x1e0)]('div');_0x3117af[_0x1003b5(0x13e)]=_0x1003b5(0x1ff),_0x3117af[_0x1003b5(0xb2)]('data-type',_0x1003b5(0x183)),_0x3117af[_0x1003b5(0x1b4)]=_0x1003b5(0x191)+pinnedPrompt['title']+'\x22>'+pinnedPrompt[_0x1003b5(0x1a1)]+_0x1003b5(0x16d),_0x142b85['appendChild'](_0x3117af);}}function removePinnedPrompt(){pinnedPrompt=null,updatePinnedPrompt();}function openLibrary(){const _0x367a88=_0x106b63;console[_0x367a88(0x175)](_0x367a88(0x1ef));if(currentUser){console[_0x367a88(0x175)](_0x367a88(0xdf),currentUser);const _0x510e35={'username':currentUser[_0x367a88(0x1bd)],'freeCredits':currentUser[_0x367a88(0x16f)],'paidCredits':currentUser[_0x367a88(0x12d)],'subscription':currentUser[_0x367a88(0x16a)]};localStorage[_0x367a88(0x234)](_0x367a88(0x197),JSON['stringify'](_0x510e35)),console[_0x367a88(0x175)]('Donn√©es\x20utilisateur\x20enregistr√©es\x20dans\x20localStorage'),window[_0x367a88(0x21a)][_0x367a88(0x1e2)]='Biblioth√®que.html';}else console['log'](_0x367a88(0x106)),alert('Veuillez\x20vous\x20connecter\x20pour\x20acc√©der\x20√†\x20la\x20biblioth√®que.');}async function showReferralModal(){const _0x2f4783=_0x106b63,_0x1dcbd4=document[_0x2f4783(0x204)](_0x2f4783(0xe8));_0x1dcbd4[_0x2f4783(0x221)]['display']='block';const _0x5bc859=await getOrCreateReferralCode();if(_0x5bc859){const _0x14997b=_0x2f4783(0xf4)+_0x5bc859;document[_0x2f4783(0x204)]('referralLink')[_0x2f4783(0xb0)]=_0x14997b;const _0x55aa67=_0x2f4783(0xa2)+_0x14997b;document[_0x2f4783(0x204)](_0x2f4783(0xed))[_0x2f4783(0xb2)]('data-invite-message',_0x55aa67);}else document[_0x2f4783(0x204)]('referralLink')[_0x2f4783(0xb0)]=_0x2f4783(0x130);await updateReferralStats(currentUser['username']);}function generateReferralCode(){const _0x19f767=_0x106b63;return Math['random']()[_0x19f767(0x10b)](0x24)[_0x19f767(0x1ea)](0x2,0x8)[_0x19f767(0x122)]();}async function getOrCreateReferralCode(){const _0x4a16d9=_0x106b63;if(!currentUser)return null;const _0x39dc91=db[_0x4a16d9(0x16b)](_0x4a16d9(0x1b7)+currentUser['username']),_0x2dd680=await _0x39dc91[_0x4a16d9(0x213)](_0x4a16d9(0xb0)),_0x5ea0f7=_0x2dd680['val']();if(_0x5ea0f7&&_0x5ea0f7[_0x4a16d9(0x141)])return _0x5ea0f7[_0x4a16d9(0x141)];else{const _0x34691e=generateReferralCode();return await _0x39dc91[_0x4a16d9(0x21b)]({'referralCode':_0x34691e}),_0x34691e;}}async function updateReferralStats(_0x410158){const _0x317d94=_0x106b63,_0x56336c=db[_0x317d94(0x16b)](_0x317d94(0x1b7)+_0x410158),_0x3d3539=await _0x56336c[_0x317d94(0x213)](_0x317d94(0xb0)),_0x33953c=_0x3d3539['val']();if(_0x33953c&&_0x33953c[_0x317d94(0xf5)]){const _0x563fa0=_0x33953c['referrals'],_0x5ec33a=Object[_0x317d94(0x17d)](_0x563fa0)[_0x317d94(0x1ab)],_0x220882=Object[_0x317d94(0xf9)](_0x563fa0)[_0x317d94(0x1c4)](_0x193c62=>_0x193c62[_0x317d94(0x1a3)])[_0x317d94(0x1ab)];await _0x56336c[_0x317d94(0x21b)]({'totalReferrals':_0x5ec33a,'activeReferrals':_0x220882}),currentUser&&currentUser[_0x317d94(0x1bd)]===_0x410158&&(document[_0x317d94(0x204)]('totalReferrals')[_0x317d94(0x23c)]=_0x5ec33a,document[_0x317d94(0x204)](_0x317d94(0x226))['textContent']=_0x220882);}}window['onload']=async function(){const _0x1aeaab=_0x106b63;await attemptAutoLogin();if(currentUser){if(currentUser[_0x1aeaab(0x16f)]===undefined)currentUser['freeCredits']=0x0;if(currentUser[_0x1aeaab(0x12d)]===undefined)currentUser[_0x1aeaab(0x12d)]=0x0;if(currentUser['subscription']===undefined)currentUser[_0x1aeaab(0x16a)]=null;if(currentUser[_0x1aeaab(0x118)]===undefined)currentUser['subscriptionEndDate']=null;if(currentUser['lastFreeCreditsReset']===undefined)currentUser['lastFreeCreditsReset']=new Date()[_0x1aeaab(0x220)]();const _0x1a737a=db['ref'](_0x1aeaab(0x1b7)+currentUser[_0x1aeaab(0x1bd)]),_0x349dc6=await _0x1a737a['once']('value'),_0x35374e=_0x349dc6[_0x1aeaab(0x12a)]();_0x35374e&&(importedFilesCount=_0x35374e[_0x1aeaab(0xd4)]||0x0,lastImportReset=new Date(_0x35374e[_0x1aeaab(0x20c)]||new Date())),await syncUserData();}const _0x1ee37c=localStorage[_0x1aeaab(0xf0)](_0x1aeaab(0x1d1))||_0x1aeaab(0x227);document['body']['setAttribute'](_0x1aeaab(0x1dc),_0x1ee37c),updateThemeIcon(_0x1ee37c),setupUIEventListeners();currentUser&&loadConversationHistory();initModals(),loadSelectedModel(),document['getElementById'](_0x1aeaab(0xe2))[_0x1aeaab(0x1db)](_0x1aeaab(0x11b),saveSelectedModel),restoreAppState(),initializeNewDiscussion(),document[_0x1aeaab(0x1c9)]['classList'][_0x1aeaab(0x237)](_0x1aeaab(0xbc)),setInterval(checkSubscriptionStatus,0x36ee80),await loadApiKeyList(),initializeGeminiAPI();const _0x3bb7b1=document[_0x1aeaab(0x204)]('modelSelect');!_0x3bb7b1[_0x1aeaab(0xb0)]&&(_0x3bb7b1['value']=_0x1aeaab(0xaa));};function setupUIEventListeners(){const _0x27ed4f=_0x106b63,_0x3e62a9=document[_0x27ed4f(0x137)]('.input-container'),_0x5abeda=document[_0x27ed4f(0x204)](_0x27ed4f(0x1ae)),_0x3891d7=document[_0x27ed4f(0x137)]('.file-label'),_0x58f279=_0x3e62a9[_0x27ed4f(0x137)](_0x27ed4f(0x231));function _0x47f03e(){const _0x35787a=_0x27ed4f,_0xe56c86=_0x3e62a9['offsetWidth'],_0x1b620e=_0x3891d7[_0x35787a(0x19e)],_0x19d4f5=document[_0x35787a(0x204)]('promptListButton')[_0x35787a(0x19e)],_0x4da5c9=_0x58f279[_0x35787a(0x19e)],_0x12900f=0x1e;_0x5abeda[_0x35787a(0x221)][_0x35787a(0x1c0)]=_0xe56c86-_0x1b620e-_0x19d4f5-_0x4da5c9-_0x12900f+'px';}_0x47f03e(),window[_0x27ed4f(0x1db)]('resize',_0x47f03e),_0x5abeda['addEventListener']('input',adjustTextareaHeight),document[_0x27ed4f(0x204)](_0x27ed4f(0xe2))['addEventListener'](_0x27ed4f(0x11b),checkModelAccess);window['innerWidth']<=0x300&&(document[_0x27ed4f(0x137)]('.sidebar')[_0x27ed4f(0xfd)][_0x27ed4f(0x224)](_0x27ed4f(0x145)),document[_0x27ed4f(0x137)](_0x27ed4f(0x117))[_0x27ed4f(0xfd)][_0x27ed4f(0x224)](_0x27ed4f(0x159)));if(currentUser){const _0x147b60=db['ref']('users/'+currentUser[_0x27ed4f(0x1bd)]);_0x147b60['on'](_0x27ed4f(0xb0),_0x31e16a=>{const _0x5c50b9=_0x27ed4f,_0x2e9eba=_0x31e16a[_0x5c50b9(0x12a)]();_0x2e9eba&&(currentUser={...currentUser,'freeCredits':_0x2e9eba[_0x5c50b9(0x16f)],'paidCredits':_0x2e9eba[_0x5c50b9(0x12d)],'subscription':_0x2e9eba[_0x5c50b9(0x16a)],'subscriptionEndDate':_0x2e9eba[_0x5c50b9(0x118)],'lastFreeCreditsReset':_0x2e9eba[_0x5c50b9(0x14e)]},updateUIForLoggedInUser());});}}function initModals(){const _0x45bf7d=_0x106b63,_0x1ae983=document[_0x45bf7d(0x1da)](_0x45bf7d(0x210)),_0x307b29=document[_0x45bf7d(0x1da)](_0x45bf7d(0x1a4));_0x307b29['forEach'](_0xc6ba54=>{const _0x1890ac=_0x45bf7d;_0xc6ba54['addEventListener'](_0x1890ac(0x1f9),()=>{const _0x528fe3=_0x1890ac;_0xc6ba54[_0x528fe3(0x17b)](_0x528fe3(0x210))[_0x528fe3(0x221)]['display']=_0x528fe3(0xb3);});}),window[_0x45bf7d(0x1db)](_0x45bf7d(0x1f9),_0x18d850=>{const _0x43e814=_0x45bf7d;_0x1ae983[_0x43e814(0x153)](_0x2f8059=>{const _0x5d946e=_0x43e814;_0x18d850['target']===_0x2f8059&&(_0x2f8059[_0x5d946e(0x221)][_0x5d946e(0x205)]=_0x5d946e(0xb3));});});}window[_0x106b63(0x1db)](_0x106b63(0x156),async()=>{const _0x366f22=_0x106b63;if(currentUser){const _0x37dfb1=await checkGuidedTourStatus(currentUser[_0x366f22(0x1bd)]);!_0x37dfb1&&(startGuidedTour(),await markGuidedTourAsSeen(currentUser[_0x366f22(0x1bd)]));}}),document[_0x106b63(0x1db)](_0x106b63(0x10a),function(_0x11a1d4){const _0x52943c=_0x106b63;_0x11a1d4[_0x52943c(0x142)]===_0x52943c(0x1c6)&&!_0x11a1d4['shiftKey']&&(_0x11a1d4[_0x52943c(0x209)](),sendMessage());}),document[_0x106b63(0x204)](_0x106b63(0x1ae))[_0x106b63(0x1db)](_0x106b63(0x10a),function(_0x55e404){const _0x32f361=_0x106b63;if(_0x55e404[_0x32f361(0x142)]===_0x32f361(0x1c6)&&_0x55e404[_0x32f361(0x1a8)]){_0x55e404['preventDefault']();const _0x12ec12=this[_0x32f361(0x1de)],_0x33665d=this[_0x32f361(0x1a9)],_0x4d13aa=this[_0x32f361(0xb0)];this[_0x32f361(0xb0)]=_0x4d13aa[_0x32f361(0x1ea)](0x0,_0x12ec12)+'\x0a'+_0x4d13aa[_0x32f361(0x1ea)](_0x33665d),this[_0x32f361(0x1de)]=this['selectionEnd']=_0x12ec12+0x1;}});function checkApiStatus(){const _0x48e26c=_0x106b63;axios[_0x48e26c(0x1df)](API_BASE_URL+_0x48e26c(0x11f)+API_KEY)[_0x48e26c(0xa9)](_0x20e521=>{const _0x3ce791=_0x48e26c;console[_0x3ce791(0x175)](_0x3ce791(0x232),_0x20e521[_0x3ce791(0xd0)]),console[_0x3ce791(0x175)](_0x3ce791(0xae),_0x20e521[_0x3ce791(0xef)]);})['catch'](_0x209665=>{const _0x396855=_0x48e26c;console[_0x396855(0xde)]('Erreur\x20lors\x20de\x20la\x20v√©rification\x20du\x20statut\x20de\x20l\x27API:',_0x209665);});}function checkApiStatusRegularly(){checkApiStatus(),setInterval(checkApiStatus,0xea60);}window[_0x106b63(0x1db)]('offline',function(){const _0x5bea42=_0x106b63;showNotification('Vous\x20√™tes\x20hors\x20ligne.\x20Veuillez\x20v√©rifier\x20votre\x20connexion\x20internet.',_0x5bea42(0xde));}),window['addEventListener'](_0x106b63(0xba),function(){const _0x5e1993=_0x106b63;showNotification(_0x5e1993(0x229),_0x5e1993(0x1e7));}),window[_0x106b63(0x1db)](_0x106b63(0x103),function(){currentUser&&localStorage['setItem']('lastConversation',JSON['stringify'](currentConversation));});function restoreAppState(){const _0x4b4b30=_0x106b63,_0x1df137=localStorage[_0x4b4b30(0xf0)](_0x4b4b30(0xc5));_0x1df137&&(currentConversation=JSON[_0x4b4b30(0x202)](_0x1df137),currentConversation[_0x4b4b30(0x153)](_0xbd0740=>{const _0x38dbea=_0x4b4b30;addMessageToChat(_0xbd0740[_0x38dbea(0x1d6)],_0xbd0740[_0x38dbea(0x101)]);}));}function updateUI(){const _0x426b1b=_0x106b63;currentUser&&(document[_0x426b1b(0x204)](_0x426b1b(0x16f))[_0x426b1b(0x23c)]=currentUser[_0x426b1b(0x16f)],document['getElementById'](_0x426b1b(0x12d))[_0x426b1b(0x23c)]=currentUser[_0x426b1b(0x12d)],document[_0x426b1b(0x204)](_0x426b1b(0x16a))[_0x426b1b(0x23c)]=currentUser[_0x426b1b(0x16a)]||_0x426b1b(0x16c));}document[_0x106b63(0x204)](_0x106b63(0x11a))[_0x106b63(0xf1)]=_0x106b63(0x1fe),setInterval(updateUI,0x493e0),checkApiStatusRegularly(),window[_0x106b63(0x115)]=showLoginModal,window[_0x106b63(0x13b)]=showRegisterModal,window[_0x106b63(0x128)]=login,window[_0x106b63(0x235)]=register,window[_0x106b63(0x148)]=logout,window[_0x106b63(0x11e)]=sendMessage,window['buySubscription']=buySubscription,window[_0x106b63(0x211)]=buyCredits,window['toggleTheme']=toggleTheme,window[_0x106b63(0x16e)]=toggleSidebar,window['createNewConversation']=createNewConversation,window[_0x106b63(0x102)]=handleFileUpload,window['togglePromptList']=togglePromptList,window[_0x106b63(0x193)]=showReferralModal,window[_0x106b63(0x172)]=generateReferralCode,window[_0x106b63(0x1fa)]=copyReferralLink,window[_0x106b63(0xce)]=shareOnFacebook,window[_0x106b63(0x21e)]=shareOnTwitter,window[_0x106b63(0x1e6)]=shareOnLinkedIn,window[_0x106b63(0x166)]=shareOnWhatsApp,window[_0x106b63(0xb1)]=removePinnedFile;
