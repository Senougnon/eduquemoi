const _0x42af67=_0xc23b;(function(_0x50eef2,_0x15cc85){const _0x5ea695=_0xc23b,_0x52d1f3=_0x50eef2();while(!![]){try{const _0x36dab6=parseInt(_0x5ea695(0x3b2))/0x1*(parseInt(_0x5ea695(0x29d))/0x2)+parseInt(_0x5ea695(0x3a5))/0x3+parseInt(_0x5ea695(0x1ea))/0x4*(-parseInt(_0x5ea695(0x351))/0x5)+parseInt(_0x5ea695(0x3c8))/0x6*(-parseInt(_0x5ea695(0x1ce))/0x7)+parseInt(_0x5ea695(0x290))/0x8*(-parseInt(_0x5ea695(0x3cd))/0x9)+-parseInt(_0x5ea695(0x3af))/0xa+-parseInt(_0x5ea695(0x1ff))/0xb*(-parseInt(_0x5ea695(0x37d))/0xc);if(_0x36dab6===_0x15cc85)break;else _0x52d1f3['push'](_0x52d1f3['shift']());}catch(_0x32be41){_0x52d1f3['push'](_0x52d1f3['shift']());}}}(_0xe95e,0x45d88));const API_KEY=_0x42af67(0x377),API_BASE_URL=_0x42af67(0x21e);let currentUser=null,pinnedFiles=[],currentConversation=[],conversations={},currentApiKeyIndex=0x0;const FREE_CREDITS_PER_DAY=0x3,FREE_CREDITS_REGISTER=0xa,FREE_MODEL_MAX_WORDS=0xc350,FREE_MODEL_MAX_RESPONSE=0x7d0,RETRY_CONFIG={'maxAttempts':0x3,'retryDelay':0x3e8},SYSTEM_INSTRUCTION=_0x42af67(0x225),firebaseConfig={'apiKey':_0x42af67(0x314),'authDomain':_0x42af67(0x2c9),'databaseURL':_0x42af67(0x2f2),'projectId':_0x42af67(0x304),'storageBucket':'gemini-bb56e.appspot.com','messagingSenderId':_0x42af67(0x27a),'appId':_0x42af67(0x392),'measurementId':'G-CSN292219J'};firebase[_0x42af67(0x34a)](firebaseConfig);const db=firebase[_0x42af67(0x272)]();let prompts={},pinnedPrompt=null,pinnedResponses=[],genAI;const API_KEY_LIST_REF=db[_0x42af67(0x375)](_0x42af67(0x2ef));let apiKeyList=[];async function loadApiKeyList(){const _0x3407f0=_0x42af67;try{const _0x1e6473=await API_KEY_LIST_REF[_0x3407f0(0x20b)](_0x3407f0(0x266)),_0x3cb078=_0x1e6473[_0x3407f0(0x242)]();_0x3cb078?apiKeyList=Object[_0x3407f0(0x296)](_0x3cb078):console[_0x3407f0(0x29c)](_0x3407f0(0x32a));}catch(_0x34dc6a){console['error'](_0x3407f0(0x2f6),_0x34dc6a);}}function getRandomApiKey(){const _0x28962a=_0x42af67;if(apiKeyList['length']===0x0)return console[_0x28962a(0x3a3)]('La\x20liste\x20des\x20cl√©s\x20API\x20est\x20vide.'),null;const _0x252e4c=Math['floor'](Math[_0x28962a(0x1cf)]()*apiKeyList[_0x28962a(0x3a2)]);return apiKeyList[_0x252e4c];}function getNextApiKey(){const _0x101eb9=_0x42af67;if(apiKeyList[_0x101eb9(0x3a2)]===0x0)return console['error'](_0x101eb9(0x316)),null;const _0x5f58e6=apiKeyList[currentApiKeyIndex];return currentApiKeyIndex=(currentApiKeyIndex+0x1)%apiKeyList[_0x101eb9(0x3a2)],_0x5f58e6;}function initializeApiKeyRotation(){const _0x6592fd=_0x42af67;apiKeyList[_0x6592fd(0x3a2)]>0x0&&(genAI=new GoogleGenerativeAI(getNextApiKey())),setInterval(()=>{const _0x2a2dc1=_0x6592fd,_0x1e5e3f=getNextApiKey();_0x1e5e3f&&(genAI=new GoogleGenerativeAI(_0x1e5e3f),console['log']('Rotation\x20de\x20la\x20cl√©\x20API\x20effectu√©e'),model=genAI[_0x2a2dc1(0x329)]({'model':document['getElementById'](_0x2a2dc1(0x2d6))['value'],'systemInstruction':SYSTEM_INSTRUCTION}));},0x1388);}function initializeGeminiAPI(){const _0x334e3b=_0x42af67,_0x2d9d6e=getNextApiKey();_0x2d9d6e?(genAI=new GoogleGenerativeAI(_0x2d9d6e),model=genAI[_0x334e3b(0x329)]({'model':document[_0x334e3b(0x35d)](_0x334e3b(0x2d6))[_0x334e3b(0x266)],'systemInstruction':SYSTEM_INSTRUCTION})):showNotification(_0x334e3b(0x34d),_0x334e3b(0x3a3));}class ApiError extends Error{constructor(_0x4c2dad,_0x1e6907){const _0x2d121b=_0x42af67;super(_0x4c2dad),this[_0x2d121b(0x1d3)]=_0x1e6907,this['name']=_0x2d121b(0x385);}}class ApiKeyManager{constructor(_0x679b21){const _0x23cf76=_0x42af67;this[_0x23cf76(0x30a)]=_0x679b21,this[_0x23cf76(0x2d4)]=0x0,this['usedKeys']=new Set();}['getNextUnusedKey'](){const _0x46fd87=_0x42af67,_0x2f5455=this['currentIndex'];do{this[_0x46fd87(0x2d4)]=(this[_0x46fd87(0x2d4)]+0x1)%this['apiKeys'][_0x46fd87(0x3a2)];if(!this[_0x46fd87(0x26b)]['has'](this[_0x46fd87(0x30a)][this[_0x46fd87(0x2d4)]]))return this[_0x46fd87(0x30a)][this['currentIndex']];}while(this['currentIndex']!==_0x2f5455);return null;}[_0x42af67(0x258)](){const _0x2c4dbb=_0x42af67;this[_0x2c4dbb(0x26b)]['clear']();}['markKeyAsUsed'](_0x5e84d4){const _0x4e309f=_0x42af67;this[_0x4e309f(0x26b)][_0x4e309f(0x2a0)](_0x5e84d4);}}async function executeWithRetry(_0x5f36be){const _0x118895=_0x42af67,_0x2997be=new ApiKeyManager(apiKeyList);let _0x1b6d64=null,_0x111029=0x0;while(_0x111029<RETRY_CONFIG[_0x118895(0x1f4)]){const _0x18328f=_0x2997be[_0x118895(0x277)]();if(!_0x18328f)throw new Error(_0x118895(0x1d5));try{genAI=new GoogleGenerativeAI(_0x18328f),model=genAI[_0x118895(0x329)]({'model':document[_0x118895(0x35d)]('modelSelect')['value'],'systemInstruction':SYSTEM_INSTRUCTION});const _0x554018=await _0x5f36be();return console[_0x118895(0x393)](_0x118895(0x360)+_0x18328f),_0x554018;}catch(_0x11da54){_0x1b6d64=_0x11da54,_0x2997be[_0x118895(0x28b)](_0x18328f),_0x111029++,console[_0x118895(0x393)](_0x118895(0x21c)+_0x18328f+_0x118895(0x2d7)+_0x111029+'/'+RETRY_CONFIG[_0x118895(0x1f4)]),_0x111029<RETRY_CONFIG[_0x118895(0x1f4)]&&await new Promise(_0x2be449=>setTimeout(_0x2be449,RETRY_CONFIG['retryDelay']));}}throw new Error(_0x118895(0x265)+_0x111029+'\x20tentatives.\x20Derni√®re\x20erreur:\x20'+_0x1b6d64[_0x118895(0x3a8)]);}function shouldRetry(_0x57f415){const _0x52efe5=_0x42af67,_0x2860f8=['RESOURCE_EXHAUSTED',_0x52efe5(0x34f),_0x52efe5(0x3c2),_0x52efe5(0x24a),_0x52efe5(0x2c4)];return _0x2860f8['includes'](_0x57f415['code'])||_0x57f415['message'][_0x52efe5(0x370)]('quota\x20exceeded')||_0x57f415[_0x52efe5(0x3a8)][_0x52efe5(0x370)](_0x52efe5(0x2fc))||_0x57f415[_0x52efe5(0x1d3)]===0x1ad||_0x57f415[_0x52efe5(0x1d3)]>=0x1f4;}function createPointer(){const _0x13962b=_0x42af67,_0x4f3fae=document[_0x13962b(0x2a9)](_0x13962b(0x2f5));return _0x4f3fae['classList']['add']('tour-icon'),_0x4f3fae['innerHTML']='üëÜ',_0x4f3fae['style'][_0x13962b(0x37b)]=_0x13962b(0x24f),_0x4f3fae[_0x13962b(0x396)]['display']='none',document[_0x13962b(0x395)][_0x13962b(0x336)](_0x4f3fae),_0x4f3fae;}function positionPointer(_0x7d7d8d,_0x51dc8c){const _0x2f4b69=_0x42af67,_0x18f62b=_0x51dc8c[_0x2f4b69(0x1ed)]();_0x7d7d8d[_0x2f4b69(0x396)][_0x2f4b69(0x366)]=_0x18f62b[_0x2f4b69(0x366)]+_0x18f62b[_0x2f4b69(0x1f8)]/0x2+'px',_0x7d7d8d[_0x2f4b69(0x396)]['top']=_0x18f62b['top']+_0x18f62b[_0x2f4b69(0x383)]/0x2+'px',_0x7d7d8d[_0x2f4b69(0x396)][_0x2f4b69(0x1fa)]=_0x2f4b69(0x30c);}function highlightElement(_0x527399){const _0x4c2431=_0x42af67;_0x527399['classList'][_0x4c2431(0x2a0)](_0x4c2431(0x287));}function removeHighlight(_0xfa4d7a){const _0xdd66f5=_0x42af67;_0xfa4d7a[_0xdd66f5(0x1e4)][_0xdd66f5(0x233)](_0xdd66f5(0x287));}function startGuidedTour(){const _0x4021df=_0x42af67,_0x1105ad=createPointer(),_0x5e0061=new Shepherd[(_0x4021df(0x326))]({'defaultStepOptions':{'cancelIcon':{'enabled':!![]},'classes':_0x4021df(0x347),'scrollTo':{'behavior':'smooth','block':_0x4021df(0x31a)}}}),_0x31d32c=[{'id':_0x4021df(0x209),'text':_0x4021df(0x29a),'attachTo':{'element':_0x4021df(0x1dd),'on':'bottom'}},{'id':_0x4021df(0x322),'text':_0x4021df(0x34b),'attachTo':{'element':_0x4021df(0x1bf),'on':'right'},'beforeShow':()=>{const _0x4ec2de=_0x4021df,_0x36b042=document[_0x4ec2de(0x29b)](_0x4ec2de(0x1bf));highlightElement(_0x36b042);const _0x4f5856=document['querySelector'](_0x4ec2de(0x344));!_0x4f5856['classList'][_0x4ec2de(0x379)](_0x4ec2de(0x1fc))&&_0x36b042[_0x4ec2de(0x318)]();},'beforeHide':()=>{const _0x1f02d4=_0x4021df,_0xc6109a=document[_0x1f02d4(0x29b)](_0x1f02d4(0x1bf));removeHighlight(_0xc6109a);}},{'id':_0x4021df(0x26f),'text':'Voici\x20la\x20zone\x20de\x20saisie.\x20C\x27est\x20ici\x20que\x20vous\x20poserez\x20vos\x20questions.','attachTo':{'element':_0x4021df(0x3ce),'on':_0x4021df(0x3c5)}},{'id':'file-upload','text':'Cliquez\x20ici\x20pour\x20importer\x20des\x20fichiers\x20(image,\x20pdf,\x20docx,\x20doc,\x20txt)\x20que\x20vous\x20voulez\x20analyser.','attachTo':{'element':_0x4021df(0x21b),'on':_0x4021df(0x3c5)}},{'id':_0x4021df(0x333),'text':'Ce\x20bouton\x20ouvre\x20la\x20liste\x20des\x20demandes\x20personnalis√©es\x20(Utile\x20si\x20vous\x20ne\x20savez\x20pas\x20comment\x20faire\x20une\x20demande).','attachTo':{'element':_0x4021df(0x36e),'on':_0x4021df(0x3c5)}},{'id':_0x4021df(0x310),'text':'Cliquez\x20ici\x20pour\x20envoyer\x20votre\x20message.','attachTo':{'element':_0x4021df(0x1fe),'on':_0x4021df(0x3c5)}},{'id':_0x4021df(0x2b7),'text':'Ces\x20ic√¥nes\x20vous\x20permettent\x20de\x20copier,\x20exporter\x20en\x20PDF,\x20partager\x20ou\x20r√©pondre\x20√†\x20un\x20message\x20sp√©cifique.','attachTo':{'element':'.message-actions','on':_0x4021df(0x224)}}];_0x31d32c['forEach']((_0x300f4e,_0x24b6e1)=>{const _0xeaefc8=_0x4021df;_0x5e0061['addStep']({..._0x300f4e,'buttons':[{'text':_0x24b6e1===_0x31d32c[_0xeaefc8(0x3a2)]-0x1?_0xeaefc8(0x365):'Suivant','action':_0x24b6e1===_0x31d32c[_0xeaefc8(0x3a2)]-0x1?_0x5e0061[_0xeaefc8(0x2fa)]:_0x5e0061[_0xeaefc8(0x1c4)]}],'beforeShow':()=>{const _0x2a6b5f=_0xeaefc8,_0x35b176=document[_0x2a6b5f(0x29b)](_0x300f4e[_0x2a6b5f(0x2e1)][_0x2a6b5f(0x2b5)]);_0x35b176&&positionPointer(_0x1105ad,_0x35b176),_0x300f4e['beforeShow']&&_0x300f4e[_0x2a6b5f(0x311)]();},'beforeHide':()=>{const _0x39bd2e=_0xeaefc8;_0x1105ad['style'][_0x39bd2e(0x1fa)]=_0x39bd2e(0x330);}});}),_0x5e0061['on']('complete',()=>{const _0x58affe=_0x4021df;_0x1105ad['remove']();const _0x1616a6=document[_0x58affe(0x29b)](_0x58affe(0x344));_0x1616a6['classList'][_0x58affe(0x379)](_0x58affe(0x1fc))&&document[_0x58affe(0x29b)](_0x58affe(0x1bf))[_0x58affe(0x318)]();}),_0x5e0061[_0x4021df(0x2ba)]();}async function checkGuidedTourStatus(_0xea370){const _0xd32e17=_0x42af67,_0x17d408=db['ref'](_0xd32e17(0x25a)+_0xea370),_0x2091fd=await _0x17d408['once'](_0xd32e17(0x266)),_0x3dc743=_0x2091fd['val']();return _0x3dc743&&_0x3dc743[_0xd32e17(0x27d)];}async function markGuidedTourAsSeen(_0x2af8c1){const _0x1c674c=_0x42af67,_0x5dd73c=db[_0x1c674c(0x375)](_0x1c674c(0x25a)+_0x2af8c1);await _0x5dd73c[_0x1c674c(0x2e7)]({'hasSeenGuidedTour':!![]});}async function checkSubscriptionStatus(){const _0x21df9a=_0x42af67;if(!currentUser||!currentUser[_0x21df9a(0x35c)])return;const _0x3090f1=new Date(),_0x46218c=new Date(currentUser[_0x21df9a(0x35c)]);if(_0x3090f1>_0x46218c)currentUser[_0x21df9a(0x1d4)]=null,currentUser[_0x21df9a(0x35c)]=null,await syncUserData(),showNotification(_0x21df9a(0x2bc),_0x21df9a(0x2a8)),updateUIForLoggedInUser();else{if(_0x3090f1>new Date(_0x46218c[_0x21df9a(0x3b5)]()-0x3*0x18*0x3c*0x3c*0x3e8)){const _0x56f978=Math[_0x21df9a(0x36b)]((_0x46218c-_0x3090f1)/(0x18*0x3c*0x3c*0x3e8));showNotification(_0x21df9a(0x252)+_0x56f978+_0x21df9a(0x323)+(_0x56f978>0x1?'s':'')+'.',_0x21df9a(0x1ec));}}}function generateInvoicePDF(_0x115b3d){const _0xdaaa2c=_0x42af67,{jsPDF:_0x336232}=window['jspdf'],_0x336ea5=new _0x336232();return _0x336ea5['setFontSize'](0x12),_0x336ea5[_0xdaaa2c(0x1e3)](_0xdaaa2c(0x1f9),0x69,0x14,null,null,_0xdaaa2c(0x31a)),_0x336ea5[_0xdaaa2c(0x3b7)](0xc),_0x336ea5[_0xdaaa2c(0x1e3)](_0xdaaa2c(0x2c5)+currentUser[_0xdaaa2c(0x1dc)],0x14,0x28),_0x336ea5[_0xdaaa2c(0x1e3)](_0xdaaa2c(0x384)+new Date()[_0xdaaa2c(0x218)](),0x14,0x32),_0x336ea5[_0xdaaa2c(0x1e3)](_0xdaaa2c(0x36f)+_0x115b3d['description'],0x14,0x3c),_0x336ea5['text']('Montant\x20:\x20'+_0x115b3d[_0xdaaa2c(0x2f9)]+'\x20FCFA',0x14,0x46),_0x336ea5['text'](_0xdaaa2c(0x307)+_0x115b3d['id'],0x14,0x50),_0x336ea5;}function showInvoiceDetails(_0x1abab7){const _0x1212a9=_0x42af67,_0x579c3d=document['createElement'](_0x1212a9(0x2f5));_0x579c3d[_0x1212a9(0x334)]=_0x1212a9(0x1b5),_0x579c3d[_0x1212a9(0x207)]=_0x1212a9(0x25e)+new Date()[_0x1212a9(0x218)]()+_0x1212a9(0x214)+_0x1abab7[_0x1212a9(0x269)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Montant:</strong>\x20'+_0x1abab7[_0x1212a9(0x2f9)]+'\x20FCFA</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Num√©ro\x20de\x20transaction:</strong>\x20'+_0x1abab7['id']+_0x1212a9(0x29f),document[_0x1212a9(0x395)][_0x1212a9(0x336)](_0x579c3d),document[_0x1212a9(0x35d)](_0x1212a9(0x1bb))[_0x1212a9(0x2da)]('click',()=>{const _0x329368=_0x1212a9,_0xc5602f=generateInvoicePDF(_0x1abab7);_0xc5602f[_0x329368(0x243)]('facture_'+_0x1abab7['id']+_0x329368(0x2a1));}),document[_0x1212a9(0x35d)](_0x1212a9(0x24d))['addEventListener']('click',()=>{const _0x51167b=_0x1212a9;document['body'][_0x51167b(0x2c8)](_0x579c3d);});}function initializeNewDiscussion(){const _0x2abca6=_0x42af67;currentConversation=[];const _0x1e7e16=document[_0x2abca6(0x35d)](_0x2abca6(0x3b9));_0x1e7e16[_0x2abca6(0x207)]='',addMessageToChat('ai',_0x2abca6(0x36a)),updateConversationHistory();}function showLoginModal(){const _0x59fbfa=_0x42af67;document[_0x59fbfa(0x35d)](_0x59fbfa(0x239))[_0x59fbfa(0x396)][_0x59fbfa(0x1fa)]=_0x59fbfa(0x30c);}function showRegisterModal(){const _0x9fe988=_0x42af67;document[_0x9fe988(0x35d)]('registerModal')[_0x9fe988(0x396)][_0x9fe988(0x1fa)]=_0x9fe988(0x30c);}function closeModal(_0x46b517){const _0x26ed59=_0x42af67;document[_0x26ed59(0x35d)](_0x46b517)['style'][_0x26ed59(0x1fa)]=_0x26ed59(0x330);}function updateUIForLoggedInUser(){const _0xcf91a8=_0x42af67;document['getElementById'](_0xcf91a8(0x286))[_0xcf91a8(0x1e4)][_0xcf91a8(0x2a0)]('hidden'),document[_0xcf91a8(0x35d)](_0xcf91a8(0x220))[_0xcf91a8(0x1e4)][_0xcf91a8(0x2a0)](_0xcf91a8(0x1e7)),document[_0xcf91a8(0x35d)]('logoutBtn')['classList'][_0xcf91a8(0x233)](_0xcf91a8(0x1e7)),document[_0xcf91a8(0x35d)]('userInfo')[_0xcf91a8(0x1e4)][_0xcf91a8(0x233)](_0xcf91a8(0x1e7)),document[_0xcf91a8(0x35d)](_0xcf91a8(0x1dc))[_0xcf91a8(0x223)]=currentUser[_0xcf91a8(0x1dc)],document['getElementById']('freeCredits')['textContent']=currentUser[_0xcf91a8(0x3a0)],document[_0xcf91a8(0x35d)](_0xcf91a8(0x38e))[_0xcf91a8(0x223)]=currentUser['paidCredits'],document[_0xcf91a8(0x35d)](_0xcf91a8(0x1d4))[_0xcf91a8(0x223)]=currentUser[_0xcf91a8(0x1d4)]||'Aucun',loadConversationHistory();}function updateUIForLoggedOutUser(){const _0x5305e9=_0x42af67;document['getElementById'](_0x5305e9(0x286))[_0x5305e9(0x1e4)][_0x5305e9(0x233)]('hidden'),document[_0x5305e9(0x35d)](_0x5305e9(0x220))[_0x5305e9(0x1e4)][_0x5305e9(0x233)](_0x5305e9(0x1e7)),document['getElementById'](_0x5305e9(0x2b6))[_0x5305e9(0x1e4)][_0x5305e9(0x2a0)]('hidden'),document[_0x5305e9(0x35d)](_0x5305e9(0x247))[_0x5305e9(0x1e4)]['add']('hidden'),document[_0x5305e9(0x35d)](_0x5305e9(0x1d2))[_0x5305e9(0x207)]=_0x5305e9(0x1e6);}function storeLoginInfo(_0x2af829,_0x478ec3){const _0x424479=_0x42af67;localStorage[_0x424479(0x308)](_0x424479(0x1d8),_0x2af829),localStorage['setItem'](_0x424479(0x231),_0x478ec3);}function getStoredLoginInfo(){const _0x6fd729=_0x42af67;return{'username':localStorage['getItem'](_0x6fd729(0x1d8)),'password':localStorage['getItem']('eduqueMoiPassword')};}function clearLoginInfo(){const _0x4a6294=_0x42af67;localStorage['removeItem'](_0x4a6294(0x1d8)),localStorage[_0x4a6294(0x1f0)](_0x4a6294(0x231));}async function register(){const _0x54ae50=_0x42af67,_0x1f4c16=document[_0x54ae50(0x35d)](_0x54ae50(0x22b))[_0x54ae50(0x266)],_0x3736b8=document[_0x54ae50(0x35d)](_0x54ae50(0x305))[_0x54ae50(0x266)],_0x4707ee=new URLSearchParams(window[_0x54ae50(0x363)][_0x54ae50(0x312)])['get'](_0x54ae50(0x375));if(!_0x1f4c16||!_0x3736b8){showNotification('Veuillez\x20remplir\x20tous\x20les\x20champs.','error');return;}try{const _0x440055=db[_0x54ae50(0x375)](_0x54ae50(0x25a)+_0x1f4c16),_0xe9981a=await _0x440055[_0x54ae50(0x20b)](_0x54ae50(0x266));if(_0xe9981a[_0x54ae50(0x3be)]()){showNotification('Ce\x20nom\x20d\x27utilisateur\x20existe\x20d√©j√†.','error');return;}const _0x38be04=new Date(),_0x201342={'password':_0x3736b8,'freeCredits':FREE_CREDITS_REGISTER,'paidCredits':0x0,'subscription':null,'subscriptionEndDate':null,'lastFreeCreditsReset':_0x38be04[_0x54ae50(0x2ca)](),'referredBy':_0x4707ee||null,'firstPurchase':![],'totalReferrals':0x0,'activeReferrals':0x0,'hasSeenGuidedTour':![]};await _0x440055[_0x54ae50(0x358)](_0x201342);if(_0x4707ee){const _0xb52c4=await db[_0x54ae50(0x375)](_0x54ae50(0x278))[_0x54ae50(0x1c5)](_0x54ae50(0x2f8))[_0x54ae50(0x28a)](_0x4707ee)[_0x54ae50(0x20b)](_0x54ae50(0x266)),_0x49dbca=_0xb52c4[_0x54ae50(0x242)]();if(_0x49dbca){const _0x334831=Object[_0x54ae50(0x353)](_0x49dbca)[0x0];await db[_0x54ae50(0x375)](_0x54ae50(0x25a)+_0x334831+'/referrals/'+_0x1f4c16)[_0x54ae50(0x358)]({'date':_0x38be04['toISOString'](),'isActive':![]});const _0x4b4fd3=db[_0x54ae50(0x375)](_0x54ae50(0x25a)+_0x334831);await _0x4b4fd3[_0x54ae50(0x2f3)](_0x5b9573=>{const _0xd3e20e=_0x54ae50;return _0x5b9573&&(_0x5b9573[_0xd3e20e(0x3b6)]=(_0x5b9573[_0xd3e20e(0x3b6)]||0x0)+0x1),_0x5b9573;}),currentUser&&currentUser[_0x54ae50(0x1dc)]===_0x334831&&(document['getElementById'](_0x54ae50(0x3b6))['textContent']=(parseInt(document[_0x54ae50(0x35d)](_0x54ae50(0x3b6))['textContent'])||0x0)+0x1);}}currentUser={'username':_0x1f4c16,..._0x201342},updateUIForLoggedInUser(),showNotification(_0x54ae50(0x28f),'success'),closeModal('registerModal'),storeLoginInfo(_0x1f4c16,_0x3736b8),startGuidedTour(),await markGuidedTourAsSeen(_0x1f4c16);}catch(_0x21d158){console['error'](_0x54ae50(0x1e0),_0x21d158),showNotification(_0x54ae50(0x2c6),'error');}}async function login(_0x152dd6,_0x32989c){const _0x2fa574=_0x42af67;(!_0x152dd6||!_0x32989c)&&(_0x152dd6=document['getElementById'](_0x2fa574(0x20f))['value'],_0x32989c=document[_0x2fa574(0x35d)](_0x2fa574(0x317))[_0x2fa574(0x266)]);if(!_0x152dd6||!_0x32989c){showNotification(_0x2fa574(0x3b3),_0x2fa574(0x3a3));return;}try{const _0x5168e5=db[_0x2fa574(0x375)]('users/'+_0x152dd6),_0x37a6e0=await _0x5168e5['once'](_0x2fa574(0x266));if(_0x37a6e0['exists']()&&_0x37a6e0[_0x2fa574(0x242)]()['password']===_0x32989c){const _0x18bc33=_0x37a6e0[_0x2fa574(0x242)]();currentUser={'username':_0x152dd6,'freeCredits':_0x18bc33[_0x2fa574(0x3a0)]||0x0,'paidCredits':_0x18bc33['paidCredits']||0x0,'subscription':_0x18bc33[_0x2fa574(0x1d4)]||null,'subscriptionEndDate':_0x18bc33['subscriptionEndDate']||null,'lastFreeCreditsReset':_0x18bc33[_0x2fa574(0x382)]||new Date()[_0x2fa574(0x2ca)](),'referralCode':_0x18bc33['referralCode']||null,'totalReferrals':_0x18bc33[_0x2fa574(0x3b6)]||0x0,'activeReferrals':_0x18bc33[_0x2fa574(0x3bc)]||0x0},await resetFreeCreditsIfNeeded(),await checkSubscriptionStatus(),await initializeImageGenerationTracking(_0x152dd6),updateUIForLoggedInUser(),storeLoginInfo(_0x152dd6,_0x32989c),loadConversationHistory();const _0xb0072e=await checkGuidedTourStatus(_0x152dd6);!_0xb0072e&&(startGuidedTour(),await markGuidedTourAsSeen(_0x152dd6)),_0x18bc33[_0x2fa574(0x1df)]&&await updateReferralStats(_0x152dd6),importedFilesCount=_0x18bc33[_0x2fa574(0x267)]||0x0,lastImportReset=new Date(_0x18bc33['lastImportReset']||new Date()),await syncUserData(),showNotification('Connexion\x20r√©ussie\x20!','success'),closeModal(_0x2fa574(0x239)),_0x18bc33[_0x2fa574(0x2bd)]&&loadCustomPrompts(_0x18bc33[_0x2fa574(0x2bd)]),checkPendingNotifications(),initializeGeminiAPI(),createNewConversation();}else showNotification(_0x2fa574(0x2c3),_0x2fa574(0x3a3));}catch(_0x4b914f){console[_0x2fa574(0x3a3)](_0x2fa574(0x228),_0x4b914f),showNotification(_0x2fa574(0x205),_0x2fa574(0x3a3));}}async function checkPendingNotifications(){const _0x9bf27d=_0x42af67;if(currentUser['subscription']){const _0x40d54b=new Date(currentUser[_0x9bf27d(0x35c)]),_0x37e808=new Date(),_0x21107e=Math[_0x9bf27d(0x36b)]((_0x40d54b-_0x37e808)/(0x3e8*0x3c*0x3c*0x18));_0x21107e<=0x3&&_0x21107e>0x0&&showNotification(_0x9bf27d(0x252)+_0x21107e+'\x20jour'+(_0x21107e>0x1?'s':'')+'.',_0x9bf27d(0x1ec));}!currentUser[_0x9bf27d(0x1d4)]&&currentUser[_0x9bf27d(0x38e)]<0xa&&currentUser[_0x9bf27d(0x3a0)]<0x3&&showNotification('Vos\x20cr√©dits\x20sont\x20faibles.\x20Pensez\x20√†\x20recharger\x20votre\x20compte.',_0x9bf27d(0x1ec));}function loadCustomPrompts(_0xbb2c2e){const _0x1ba93a=_0x42af67;Array['isArray'](_0xbb2c2e)&&_0xbb2c2e[_0x1ba93a(0x2fe)](_0x5aaf3d=>{!prompts[_0x5aaf3d['id']]&&(prompts[_0x5aaf3d['id']]=_0x5aaf3d);});}function logout(){const _0x49e5b3=_0x42af67;currentUser&&syncUserData(),currentUser=null,updateUIForLoggedOutUser(),showNotification(_0x49e5b3(0x39d),_0x49e5b3(0x1db)),clearLoginInfo();}async function resetFreeCreditsIfNeeded(){const _0xc393df=_0x42af67,_0x5d1b14=new Date(),_0x5209d6=new Date(currentUser['lastFreeCreditsReset']);if(_0x5d1b14['getTime']()-_0x5209d6[_0xc393df(0x3b5)]()>=0x18*0x3c*0x3c*0x3e8){const _0x332b77=currentUser['freeCredits'];currentUser[_0xc393df(0x3a0)]=FREE_CREDITS_PER_DAY,currentUser[_0xc393df(0x382)]=_0x5d1b14[_0xc393df(0x2ca)](),await syncUserData(),document[_0xc393df(0x35d)](_0xc393df(0x3a0))[_0xc393df(0x223)]=currentUser['freeCredits'];const _0x4255df=currentUser[_0xc393df(0x3a0)]-_0x332b77;_0x4255df>0x0&&showNotification(_0x4255df+_0xc393df(0x261),_0xc393df(0x1db));}}async function checkModelAccess(){const _0x472f57=_0x42af67,_0x216384=document[_0x472f57(0x35d)](_0x472f57(0x2d6))['value'],_0x185512=document['getElementById'](_0x472f57(0x1da));_0x185512['style']['display']=isImageGenerationModel(_0x216384)?_0x472f57(0x30c):'none';if(isImageGenerationModel(_0x216384)){if(!hasValidSubscription()&&currentUser[_0x472f57(0x38e)]<0x5&&currentUser['freeCredits']<0x5){showPaymentNotification(_0x472f57(0x1e5)),document[_0x472f57(0x35d)](_0x472f57(0x2d6))[_0x472f57(0x266)]='gemini-1.5-flash',_0x185512[_0x472f57(0x396)][_0x472f57(0x1fa)]=_0x472f57(0x330);return;}}else!['gemini-1.5-flash',_0x472f57(0x3ba)][_0x472f57(0x370)](_0x216384)&&!hasValidSubscription()&&currentUser[_0x472f57(0x38e)]<=0x0&&(showPaymentNotification('Ce\x20mod√®le\x20n√©cessite\x20un\x20abonnement\x20ou\x20des\x20cr√©dits\x20payants.'),document['getElementById']('modelSelect')[_0x472f57(0x266)]=_0x472f57(0x2fd));}async function handleFileUpload(_0x596c99){const _0x57647f=_0x42af67,_0x96d88e=_0x596c99['target'][_0x57647f(0x2e6)];for(let _0x5246d8=0x0;_0x5246d8<_0x96d88e[_0x57647f(0x3a2)];_0x5246d8++){const _0x289586=_0x96d88e[_0x5246d8];if(_0x289586[_0x57647f(0x2d9)]==='application/vnd.openxmlformats-officedocument.wordprocessingml.document'||_0x289586['type']===_0x57647f(0x2e2))try{const _0x57dd5d=await convertWordToText(_0x289586);pinnedFiles['push']({'name':_0x289586['name'][_0x57647f(0x2a4)](/\.[^/.]+$/,'')+_0x57647f(0x23a),'type':_0x57647f(0x1de),'content':_0x57dd5d}),updatePinnedFiles(),importedFilesCount++,await db['ref'](_0x57647f(0x25a)+currentUser[_0x57647f(0x1dc)])[_0x57647f(0x2e7)]({'importedFilesCount':importedFilesCount});}catch(_0x2c93f0){console[_0x57647f(0x3a3)](_0x57647f(0x1b3),_0x2c93f0),showNotification(_0x57647f(0x37c),_0x57647f(0x3a3));}else(_0x289586[_0x57647f(0x2d9)]['startsWith'](_0x57647f(0x288))||_0x289586['type']===_0x57647f(0x31c))&&(pinnedFiles[_0x57647f(0x201)](_0x289586),updatePinnedFiles());}}function convertWordToText(_0x15db96){return new Promise((_0x5954ae,_0x4a09b7)=>{const _0x4d4a5b=_0xc23b,_0x3cdeb6=new FileReader();_0x3cdeb6['onload']=function(_0x410f43){const _0x4945e0=_0xc23b,_0x39a85d=_0x410f43[_0x4945e0(0x30b)][_0x4945e0(0x3c4)];mammoth[_0x4945e0(0x338)]({'arrayBuffer':_0x39a85d})[_0x4945e0(0x31d)](function(_0x1211cb){const _0x55face=_0x4945e0;_0x5954ae(_0x1211cb[_0x55face(0x266)]);})[_0x4945e0(0x313)](function(_0x92965e){_0x4a09b7(_0x92965e);});},_0x3cdeb6[_0x4d4a5b(0x1e9)](_0x15db96);});}function updatePinnedFiles(){const _0x13eb95=_0x42af67,_0x17cd3c=document[_0x13eb95(0x35d)](_0x13eb95(0x219));_0x17cd3c['innerHTML']='',pinnedFiles['forEach']((_0x4bab7b,_0xbfdd7c)=>{const _0x3cecda=_0x13eb95,_0x48f9ee=document['createElement']('div');_0x48f9ee[_0x3cecda(0x334)]=_0x3cecda(0x281),_0x48f9ee[_0x3cecda(0x207)]=_0x3cecda(0x325)+(_0x4bab7b[_0x3cecda(0x2d9)][_0x3cecda(0x1cd)]('image/')?_0x3cecda(0x211):'üìÑ')+_0x3cecda(0x249)+_0x4bab7b[_0x3cecda(0x387)]+'\x22>'+_0x4bab7b[_0x3cecda(0x387)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedFile('+_0xbfdd7c+_0x3cecda(0x282),_0x17cd3c[_0x3cecda(0x336)](_0x48f9ee);});}function removePinnedFile(_0x122189){const _0x35f8cf=_0x42af67;pinnedFiles[_0x35f8cf(0x39e)](_0x122189,0x1),updatePinnedFiles();}function createPinnedFilesElement(_0x6a08b9){const _0x5991c0=_0x42af67,_0x4c6aff=document['createElement']('div');return _0x4c6aff[_0x5991c0(0x334)]=_0x5991c0(0x2a5),_0x6a08b9[_0x5991c0(0x2fe)](_0x181790=>{const _0x718a8a=_0x5991c0,_0xddfcfc=document[_0x718a8a(0x2a9)]('div');_0xddfcfc['className']=_0x718a8a(0x1c2);if(_0x181790[_0x718a8a(0x2d9)]['startsWith'](_0x718a8a(0x288))){const _0x46c101=document['createElement'](_0x718a8a(0x260));_0x46c101['src']=URL[_0x718a8a(0x376)](_0x181790),_0x46c101[_0x718a8a(0x3cb)]=_0x181790[_0x718a8a(0x387)],_0x46c101['className']=_0x718a8a(0x280),_0xddfcfc[_0x718a8a(0x336)](_0x46c101);}else{const _0x5d619b=document[_0x718a8a(0x2a9)](_0x718a8a(0x25f));_0x5d619b[_0x718a8a(0x334)]=_0x718a8a(0x378),_0x5d619b[_0x718a8a(0x223)]=_0x181790[_0x718a8a(0x2d9)][_0x718a8a(0x1cd)]('application/pdf')?'üìÑ':'üìé',_0xddfcfc[_0x718a8a(0x336)](_0x5d619b);}const _0x244d08=document['createElement'](_0x718a8a(0x25f));_0x244d08['className']=_0x718a8a(0x371),_0x244d08[_0x718a8a(0x223)]=_0x181790[_0x718a8a(0x387)],_0xddfcfc[_0x718a8a(0x336)](_0x244d08),_0x4c6aff[_0x718a8a(0x336)](_0xddfcfc);}),_0x4c6aff;}function createPinnedResponsesElement(_0x3ada4d){const _0x47160d=_0x42af67,_0x4edb27=document[_0x47160d(0x2a9)](_0x47160d(0x2f5));return _0x4edb27[_0x47160d(0x334)]=_0x47160d(0x33f),_0x3ada4d[_0x47160d(0x2fe)](_0x53f97a=>{const _0x4da160=_0x47160d,_0x5ce7e7=document[_0x4da160(0x2a9)](_0x4da160(0x2f5));_0x5ce7e7[_0x4da160(0x334)]=_0x4da160(0x35f);const _0x1843b4=document['createElement']('span');_0x1843b4[_0x4da160(0x334)]=_0x4da160(0x367),_0x1843b4[_0x4da160(0x223)]='üí¨';const _0x2cc05a=document[_0x4da160(0x2a9)](_0x4da160(0x25f));_0x2cc05a[_0x4da160(0x334)]=_0x4da160(0x1ef),_0x2cc05a[_0x4da160(0x223)]=_0x53f97a[_0x4da160(0x1d7)],_0x5ce7e7[_0x4da160(0x336)](_0x1843b4),_0x5ce7e7[_0x4da160(0x336)](_0x2cc05a),_0x4edb27[_0x4da160(0x336)](_0x5ce7e7);}),_0x4edb27;}function createPinnedPromptElement(_0x3a1b7d){const _0x329074=_0x42af67,_0x5bf86c=document['createElement'](_0x329074(0x2f5));_0x5bf86c[_0x329074(0x334)]=_0x329074(0x2b2);const _0x5aec97=document['createElement'](_0x329074(0x2f5));_0x5aec97['className']=_0x329074(0x232);const _0x317952=document['createElement'](_0x329074(0x25f));_0x317952[_0x329074(0x334)]=_0x329074(0x2cd),_0x317952[_0x329074(0x223)]='ü§ñ';const _0x5ba631=document[_0x329074(0x2a9)]('span');return _0x5ba631['className']=_0x329074(0x2dd),_0x5ba631[_0x329074(0x223)]=_0x3a1b7d[_0x329074(0x3a9)],_0x5aec97[_0x329074(0x336)](_0x317952),_0x5aec97[_0x329074(0x336)](_0x5ba631),_0x5bf86c[_0x329074(0x336)](_0x5aec97),_0x5bf86c;}async function sendMessage(){const _0x39e21d=_0x42af67;if(!currentUser){showNotification(_0x39e21d(0x345),_0x39e21d(0x3a3));return;}const _0x191e5f=document['getElementById'](_0x39e21d(0x35b))[_0x39e21d(0x266)]['trim'](),_0x5d96f4=document[_0x39e21d(0x35d)](_0x39e21d(0x2d6))[_0x39e21d(0x266)];if(!_0x191e5f&&pinnedFiles[_0x39e21d(0x3a2)]===0x0&&pinnedResponses['length']===0x0&&!pinnedPrompt){showNotification('Veuillez\x20entrer\x20un\x20message,\x20joindre\x20un\x20fichier,\x20√©pingler\x20une\x20r√©ponse\x20ou\x20s√©lectionner\x20un\x20prompt.',_0x39e21d(0x3a3));return;}if(isImageGenerationModel(_0x5d96f4))try{const _0x32b2e6=await canGenerateImage();if(!_0x32b2e6['canGenerate']){showPaymentNotification(_0x32b2e6[_0x39e21d(0x3a8)]);return;}const _0x5be0b8=document[_0x39e21d(0x35d)](_0x39e21d(0x1da))[_0x39e21d(0x266)],_0x54d3ee=getRecraftStyle(_0x5d96f4),_0x52c99b=addLoadingMessage(_0x39e21d(0x25b)),_0x4f2532=await fetch('https://external.api.recraft.ai/v1/images/generations',{'method':_0x39e21d(0x3b0),'headers':{'Content-Type':_0x39e21d(0x339),'Authorization':_0x39e21d(0x1ee)+RECRAFT_API_KEY},'body':JSON[_0x39e21d(0x3c6)]({'prompt':_0x191e5f,'style':_0x54d3ee,'size':_0x5be0b8})});_0x52c99b[_0x39e21d(0x233)]();if(!_0x4f2532['ok'])throw new Error(_0x39e21d(0x276));const _0x5532c6=await _0x4f2532['json'](),_0x3a9433=_0x5532c6[_0x39e21d(0x229)][0x0][_0x39e21d(0x2d0)],_0xe48cb9=document[_0x39e21d(0x2a9)](_0x39e21d(0x2f5));_0xe48cb9[_0x39e21d(0x334)]=_0x39e21d(0x297),_0xe48cb9['innerHTML']=_0x39e21d(0x27f)+_0x3a9433+'\x22\x20alt=\x22Image\x20g√©n√©r√©e\x22\x20style=\x22max-width:\x20100%;\x20border-radius:\x205px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Image\x20g√©n√©r√©e\x20√†\x20partir\x20du\x20prompt\x20:\x20\x22'+_0x191e5f+_0x39e21d(0x221)+_0x54d3ee[_0x39e21d(0x2a4)]('_','\x20')[_0x39e21d(0x2eb)]()+_0x39e21d(0x3ac)+_0x5be0b8+_0x39e21d(0x2ac)+(_0x32b2e6[_0x39e21d(0x22e)]?'G√©n√©ration\x20gratuite\x20(abonnement)':_0x39e21d(0x394))+_0x39e21d(0x33a)+_0x3a9433+_0x39e21d(0x2d2)+_0x3a9433+_0x39e21d(0x25d)+_0x3a9433+_0x39e21d(0x39f),document['getElementById'](_0x39e21d(0x3b9))[_0x39e21d(0x336)](_0xe48cb9);if(_0x32b2e6['useFreeGeneration']){await incrementImageGenerationCount(currentUser[_0x39e21d(0x1dc)]);const _0x26dce7=await getImageGenerationCount(currentUser[_0x39e21d(0x1dc)]);showNotification(_0x39e21d(0x3b8)+(0x5-_0x26dce7)+_0x39e21d(0x372),_0x39e21d(0x1db));}else await updateCredits(_0x5d96f4,0x5),showNotification(_0x39e21d(0x1c0),_0x39e21d(0x1db));document[_0x39e21d(0x35d)]('userInput')[_0x39e21d(0x266)]='',resetTextareaHeight();return;}catch(_0x338bd2){console[_0x39e21d(0x3a3)]('Erreur\x20de\x20g√©n√©ration\x20d\x27image:',_0x338bd2),showNotification(_0x39e21d(0x254),_0x39e21d(0x3a3));return;}let _0xeba5e3=0x1;_0xeba5e3+=pinnedFiles[_0x39e21d(0x2a7)](_0x284f60=>_0x284f60['type']!==_0x39e21d(0x1de))[_0x39e21d(0x3a2)],_0xeba5e3+=pinnedResponses['length'];if(!hasValidSubscription()){if(_0x5d96f4===_0x39e21d(0x2fd)){if(currentUser[_0x39e21d(0x38e)]>=_0xeba5e3)showNotification(_0x39e21d(0x399),_0x39e21d(0x2a8));else{if(currentUser[_0x39e21d(0x3a0)]>=_0xeba5e3)showNotification(_0x39e21d(0x34c),_0x39e21d(0x2a8));else{showPaymentNotification('Vous\x20n\x27avez\x20pas\x20assez\x20de\x20cr√©dits\x20pour\x20utiliser\x20Gemini\x201.5\x20Flash.');return;}}}else{if(![_0x39e21d(0x3ba)][_0x39e21d(0x370)](_0x5d96f4)){if(currentUser[_0x39e21d(0x38e)]<_0xeba5e3){showPaymentNotification(_0x39e21d(0x23d));return;}}else{if(currentUser[_0x39e21d(0x3a0)]<_0xeba5e3&&currentUser[_0x39e21d(0x38e)]<_0xeba5e3){showPaymentNotification(_0x39e21d(0x2bb));return;}}}}let _0xe84619=_0x191e5f,_0x4ac2ce=_0x191e5f;const _0x47b90a=[...pinnedFiles],_0x1d860d=[...pinnedResponses],_0x28b0da=pinnedPrompt;pinnedFiles=[],pinnedResponses=[],pinnedPrompt=null,updatePinnedItems();const _0x3cf2d6=document['createElement'](_0x39e21d(0x2f5));_0x3cf2d6[_0x39e21d(0x334)]=_0x39e21d(0x303);if(_0x47b90a[_0x39e21d(0x3a2)]>0x0){const _0x194a5b=createPinnedFilesElement(_0x47b90a);_0x3cf2d6['appendChild'](_0x194a5b),_0x4ac2ce+='\x0a\x0a**Fichiers\x20joints:**\x0a',_0x47b90a['forEach'](_0x1739be=>{const _0x17b0e2=_0x39e21d;_0x4ac2ce+='-\x20'+_0x1739be[_0x17b0e2(0x387)]+'\x20('+_0x1739be[_0x17b0e2(0x2d9)]+')\x0a';});}if(_0x1d860d[_0x39e21d(0x3a2)]>0x0){const _0x5c155d=createPinnedResponsesElement(_0x1d860d);_0x3cf2d6[_0x39e21d(0x336)](_0x5c155d),_0x4ac2ce+='\x0a\x0a**R√©ponses\x20√©pingl√©es:**\x0a',_0x1d860d['forEach'](_0x290ac=>{const _0x45ef83=_0x39e21d;_0x4ac2ce+='-\x20'+_0x290ac[_0x45ef83(0x1e3)]+'\x0a';});}if(_0x28b0da){const _0x316663=createPinnedPromptElement(_0x28b0da);_0x3cf2d6[_0x39e21d(0x336)](_0x316663),_0x4ac2ce=_0x28b0da[_0x39e21d(0x1b1)]+'\x0a\x0a'+_0x4ac2ce;}if(_0xe84619){const _0x36e900=document['createElement']('p');_0x36e900[_0x39e21d(0x223)]=_0xe84619,_0x3cf2d6[_0x39e21d(0x336)](_0x36e900);}const _0x7727cf=document[_0x39e21d(0x35d)](_0x39e21d(0x3b9));_0x7727cf[_0x39e21d(0x336)](_0x3cf2d6),_0x7727cf[_0x39e21d(0x21d)]=_0x7727cf[_0x39e21d(0x2bf)],document[_0x39e21d(0x35d)](_0x39e21d(0x35b))[_0x39e21d(0x266)]='',resetTextareaHeight();const _0x159fd0=document[_0x39e21d(0x29b)](_0x39e21d(0x1fe));_0x159fd0[_0x39e21d(0x1e4)][_0x39e21d(0x2a0)]('loading'),_0x159fd0['disabled']=!![];try{const _0x1d744f=[];let _0x1c0407='';const _0x30a63d=currentConversation['slice'](-0x5);_0x30a63d['forEach'](_0x17d2f3=>{const _0x48c6e0=_0x39e21d;_0x1c0407+=(_0x17d2f3[_0x48c6e0(0x1d0)]===_0x48c6e0(0x306)?_0x48c6e0(0x306):'model')+':\x20'+_0x17d2f3['content']+'\x0a';}),_0x4ac2ce=_0x1c0407+'\x0a'+_0x4ac2ce,_0x1d744f['push']({'text':_0x4ac2ce});for(const _0x1ca89c of _0x47b90a){if(_0x1ca89c['type']===_0x39e21d(0x1de))_0x1d744f['push']({'text':_0x39e21d(0x202)+_0x1ca89c['content']});else{const _0x42380f=await readFileAsBase64(_0x1ca89c);_0x1d744f[_0x39e21d(0x201)]({'inlineData':{'data':_0x42380f,'mimeType':_0x1ca89c[_0x39e21d(0x2d9)]}}),_0x1d744f[_0x39e21d(0x201)]({'text':_0x39e21d(0x332)+_0x1ca89c[_0x39e21d(0x387)]+'\x20('+_0x1ca89c['type']+_0x39e21d(0x1ba)});}}model=genAI[_0x39e21d(0x329)]({'model':_0x5d96f4,'systemInstruction':SYSTEM_INSTRUCTION});const _0x402fa0=await model[_0x39e21d(0x2ed)](_0x1d744f),_0x45d496=await _0x402fa0[_0x39e21d(0x1b9)];let _0x549dd0=_0x45d496[_0x39e21d(0x1e3)](),_0x35dbbc;if(_0x5d96f4==='gemini-1.0-pro'||_0x5d96f4===_0x39e21d(0x2fd)&&currentUser[_0x39e21d(0x38e)]<_0xeba5e3){const _0xfd4c14=_0x549dd0['split'](/\s+/);_0xfd4c14[_0x39e21d(0x3a2)]>FREE_MODEL_MAX_RESPONSE?(_0x549dd0=_0xfd4c14[_0x39e21d(0x391)](0x0,FREE_MODEL_MAX_RESPONSE)['join']('\x20')+'...(Utilisez\x20un\x20mod√®le\x20avanc√©\x20pour\x20avoir\x20la\x20suite\x20de\x20ma\x20r√©ponse)',showNotification('La\x20r√©ponse\x20a\x20√©t√©\x20tronqu√©e\x20√†\x20'+FREE_MODEL_MAX_RESPONSE+_0x39e21d(0x381),_0x39e21d(0x2a8)),_0x35dbbc=addMessageToChat('ai',_0x549dd0),showUpgradeButton(_0x35dbbc)):_0x35dbbc=addMessageToChat('ai',_0x549dd0);}else _0x35dbbc=addMessageToChat('ai',_0x549dd0);currentConversation[_0x39e21d(0x201)]({'sender':_0x39e21d(0x306),'content':_0x191e5f}),currentConversation[_0x39e21d(0x201)]({'sender':'ai','content':_0x549dd0}),await updateCredits(_0x5d96f4,_0xeba5e3),saveConversation();}catch(_0x5db1c9){console['error'](_0x39e21d(0x3c3),_0x5db1c9),showNotification(_0x39e21d(0x38f)+_0x5db1c9[_0x39e21d(0x3a8)]+_0x39e21d(0x34e),_0x39e21d(0x3a3));}finally{_0x159fd0[_0x39e21d(0x1e4)][_0x39e21d(0x233)](_0x39e21d(0x208)),_0x159fd0[_0x39e21d(0x2e5)]=![];}}function resetPinnedItems(){pinnedFiles=[],pinnedResponses=[],pinnedPrompt=null,updatePinnedItems();}function buildConversationContext(){const _0x553bc9=_0x42af67;let _0x42e30b='';const _0x4d39cf=currentConversation[_0x553bc9(0x391)](-0x5);return _0x4d39cf[_0x553bc9(0x2fe)](_0x1d2360=>{const _0x5ae226=_0x553bc9;_0x42e30b+=(_0x1d2360['sender']===_0x5ae226(0x306)?_0x5ae226(0x306):_0x5ae226(0x309))+':\x20'+_0x1d2360['content']+'\x0a';}),_0x42e30b;}async function addFilesToParts(_0x335f59,_0x413089){const _0x3681ae=_0x42af67;for(const _0x5ee992 of _0x413089){if(_0x5ee992[_0x3681ae(0x2d9)]===_0x3681ae(0x1de))_0x335f59[_0x3681ae(0x201)]({'text':_0x3681ae(0x202)+_0x5ee992[_0x3681ae(0x1b1)]});else{const _0x3d342d=await readFileAsBase64(_0x5ee992);_0x335f59[_0x3681ae(0x201)]({'inlineData':{'data':_0x3d342d,'mimeType':_0x5ee992['type']}}),_0x335f59[_0x3681ae(0x201)]({'text':'Analyse\x20le\x20fichier\x20'+_0x5ee992['name']+'\x20('+_0x5ee992[_0x3681ae(0x2d9)]+').'});}}}async function validateCreditsAndModel(_0x51f86a,_0x7816f7){const _0x2b84a2=_0x42af67;if(_0x51f86a===_0x2b84a2(0x2fd)){if(currentUser[_0x2b84a2(0x38e)]>=_0x7816f7)return showNotification(_0x2b84a2(0x399),_0x2b84a2(0x2a8)),!![];else{if(currentUser[_0x2b84a2(0x3a0)]>=_0x7816f7)return showNotification(_0x2b84a2(0x34c),_0x2b84a2(0x2a8)),!![];}}else{if(![_0x2b84a2(0x3ba)][_0x2b84a2(0x370)](_0x51f86a)){if(currentUser['paidCredits']<_0x7816f7)return showPaymentNotification(_0x2b84a2(0x23d)),![];}else{if(currentUser[_0x2b84a2(0x3a0)]<_0x7816f7&&currentUser[_0x2b84a2(0x38e)]<_0x7816f7)return showPaymentNotification(_0x2b84a2(0x2bb)),![];}}return!![];}async function processAndDisplayAIResponse(_0x3f9130,_0x3df336,_0x27e6a3){const _0x15b2c9=_0x42af67;let _0x155f5f;if(_0x3df336===_0x15b2c9(0x3ba)||_0x3df336===_0x15b2c9(0x2fd)&&currentUser[_0x15b2c9(0x38e)]<_0x27e6a3){const _0x289f8b=_0x3f9130[_0x15b2c9(0x321)](/\s+/);_0x289f8b[_0x15b2c9(0x3a2)]>FREE_MODEL_MAX_RESPONSE?(_0x3f9130=_0x289f8b[_0x15b2c9(0x391)](0x0,FREE_MODEL_MAX_RESPONSE)[_0x15b2c9(0x26c)]('\x20')+_0x15b2c9(0x373),showNotification(_0x15b2c9(0x2cc)+FREE_MODEL_MAX_RESPONSE+'\x20mots.',_0x15b2c9(0x2a8)),_0x155f5f=addMessageToChat('ai',_0x3f9130),showUpgradeButton(_0x155f5f)):_0x155f5f=addMessageToChat('ai',_0x3f9130);}else _0x155f5f=addMessageToChat('ai',_0x3f9130);return _0x155f5f;}function updateConversation(_0x4879ac,_0xf4bcfa){const _0xabb626=_0x42af67;currentConversation[_0xabb626(0x201)]({'sender':'user','content':_0x4879ac}),currentConversation[_0xabb626(0x201)]({'sender':'ai','content':_0xf4bcfa});}async function handleImageGeneration(_0x4b5a7f,_0x17563c,_0x4ff8f5){const _0x1c94d7=_0x42af67;try{if(!_0x4ff8f5['canGenerate']){showPaymentNotification(_0x4ff8f5[_0x1c94d7(0x3a8)]);return;}const _0x5b243e=document[_0x1c94d7(0x35d)](_0x1c94d7(0x1da))[_0x1c94d7(0x266)],_0x468f64=getRecraftStyle(_0x17563c),_0x251b0d=addLoadingMessage(_0x1c94d7(0x25b)),_0x1505e8=await fetch(_0x1c94d7(0x2fb),{'method':_0x1c94d7(0x3b0),'headers':{'Content-Type':_0x1c94d7(0x339),'Authorization':'Bearer\x20'+RECRAFT_API_KEY},'body':JSON[_0x1c94d7(0x3c6)]({'prompt':_0x4b5a7f,'style':_0x468f64,'size':_0x5b243e,'n':0x1})});_0x251b0d['remove']();if(!_0x1505e8['ok'])throw new Error(_0x1c94d7(0x285)+_0x1505e8['status']);const _0x356984=await _0x1505e8['json']();if(!_0x356984['data']||!_0x356984['data'][0x0]||!_0x356984[_0x1c94d7(0x229)][0x0][_0x1c94d7(0x2d0)])throw new Error('Format\x20de\x20r√©ponse\x20invalide\x20de\x20l\x27API\x20Recraft');const _0x1648e0=_0x356984[_0x1c94d7(0x229)][0x0]['url'],_0x166b1b=document['createElement'](_0x1c94d7(0x2f5));_0x166b1b[_0x1c94d7(0x334)]=_0x1c94d7(0x297),_0x166b1b[_0x1c94d7(0x207)]=_0x1c94d7(0x39b)+_0x1648e0+_0x1c94d7(0x262)+_0x4b5a7f+_0x1c94d7(0x361)+_0x468f64[_0x1c94d7(0x2a4)]('_','\x20')['toUpperCase']()+_0x1c94d7(0x241)+_0x5b243e+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4ff8f5['useFreeGeneration']?_0x1c94d7(0x251):_0x1c94d7(0x394))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22downloadImage(\x27'+_0x1648e0+_0x1c94d7(0x1c7)+_0x1648e0+_0x1c94d7(0x275)+_0x1648e0+_0x1c94d7(0x204),document[_0x1c94d7(0x35d)](_0x1c94d7(0x3b9))[_0x1c94d7(0x336)](_0x166b1b);if(_0x4ff8f5[_0x1c94d7(0x22e)]){await incrementImageGenerationCount(currentUser[_0x1c94d7(0x1dc)]);const _0x1b5334=await getImageGenerationCount(currentUser[_0x1c94d7(0x1dc)]);showNotification(_0x1c94d7(0x3b8)+(0x5-_0x1b5334)+_0x1c94d7(0x372),_0x1c94d7(0x1db));}else await updateCredits(_0x17563c,0x5),showNotification(_0x1c94d7(0x1c0),_0x1c94d7(0x1db));document[_0x1c94d7(0x35d)](_0x1c94d7(0x35b))[_0x1c94d7(0x266)]='',resetTextareaHeight();}catch(_0x43ad5d){console[_0x1c94d7(0x3a3)]('Erreur\x20lors\x20de\x20la\x20g√©n√©ration\x20d\x27image:',_0x43ad5d),showNotification(_0x1c94d7(0x254),_0x1c94d7(0x3a3));}}function createUserMessageElement(_0x739759,_0x3acf53,_0xde4471,_0x266eac){const _0x172d27=_0x42af67,_0x3e2fe6=document[_0x172d27(0x2a9)]('div');_0x3e2fe6[_0x172d27(0x334)]=_0x172d27(0x303);_0x3acf53[_0x172d27(0x3a2)]>0x0&&_0x3e2fe6['appendChild'](createPinnedFilesElement(_0x3acf53));_0xde4471[_0x172d27(0x3a2)]>0x0&&_0x3e2fe6[_0x172d27(0x336)](createPinnedResponsesElement(_0xde4471));_0x266eac&&_0x3e2fe6[_0x172d27(0x336)](createPinnedPromptElement(_0x266eac));if(_0x739759){const _0x16ea0f=document[_0x172d27(0x2a9)]('p');_0x16ea0f[_0x172d27(0x223)]=_0x739759,_0x3e2fe6[_0x172d27(0x336)](_0x16ea0f);}return _0x3e2fe6;}function _0xe95e(){const _0x408cbc=['click','</tbody></table></div>','center','Export\x20en\x20','application/pdf','then','toggle','Mod√®le\x20mis\x20√†\x20jour\x20vers\x20Gemini\x201.5\x20Pro','input','split','menu','\x20jour','Eduque_moi.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>','Tour','pk_live_TfSz212W0xSMKK7oPEogkFmp','shareOnWhatsApp','getGenerativeModel','Aucune\x20cl√©\x20API\x20trouv√©e\x20dans\x20la\x20base\x20de\x20donn√©es.','share','<thead><tr>','onclick','get','Lien\x20de\x20l\x27image\x20copi√©\x20dans\x20le\x20presse-papiers!','none','.notification','Analyse\x20le\x20fichier\x20','prompt-list','className','</tr>','appendChild','Statut\x20de\x20l\x27API\x20Gemini:','extractRawText','application/json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22downloadImage(\x27','.chat-container','recraft-','now','prompt','pinned-responses-message','button:last-child','<div\x20class=\x22table-scroll-container\x22><table>','</tr></thead><tbody>','beforeunload','.sidebar','Veuillez\x20vous\x20connecter\x20pour\x20envoyer\x20des\x20messages.','getDate','shepherd-theme-custom','open','init','initializeApp','Voici\x20le\x20menu\x20principal.\x20Il\x20vous\x20permet\x20d\x27acc√©der\x20√†\x20diff√©rentes\x20fonctionnalit√©s\x20de\x20l\x27application\x20(Models,\x20Cr√©dits,\x20Biblioth√®que,\x20R√©compense...).','Utilisation\x20de\x20cr√©dits\x20gratuits\x20pour\x20Gemini\x201.5\x20Flash.','Erreur\x20:\x20Impossible\x20d\x27initialiser\x20l\x27API.\x20Aucune\x20cl√©\x20API\x20disponible.','.\x20Veuillez\x20r√©essayer.','UNAVAILABLE','Erreur\x20lors\x20du\x20partage:','2950HtCbfi','\x0a\x0aPS\x20:\x20En\x20utilisant\x20mon\x20lien,\x20vous\x20me\x20donnez\x20un\x20petit\x20coup\x20de\x20pouce.\x20Mais\x20chut,\x20c\x27est\x20notre\x20secret\x20!\x20üòâ','keys','promptList','pageSize','lastConversation','firstChild','set','\x20a\x20re√ßu\x2010\x20cr√©dits\x20pour\x20le\x20premier\x20achat\x20de\x20son\x20filleul\x20!','Erreur\x20lors\x20du\x20partage\x20de\x20l\x27image.','userInput','subscriptionEndDate','getElementById','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<?xml\x20version=\x221.0\x22\x20encoding=\x22UTF-8\x22\x20standalone=\x22yes\x22?>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<w:document\x20xmlns:w=\x22http://schemas.openxmlformats.org/wordprocessingml/2006/main\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:r>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:t>','pinned-response','Requ√™te\x20r√©ussie\x20avec\x20la\x20cl√©\x20API\x20','\x22</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-metadata\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>Style:\x20','Erreur\x20lors\x20du\x20partage','location','onload','Terminer','left','response-icon','select','selectionStart','Bienvenue\x20dans\x20une\x20nouvelle\x20conversation\x20!\x20Comment\x20puis-je\x20vous\x20aider\x20aujourd\x27hui\x20?','ceil','shareOnFacebook','key','#promptListButton','Description\x20:\x20','includes','file-name','\x20g√©n√©rations\x20gratuites\x20aujourd\x27hui.','...(Utilisez\x20un\x20mod√®le\x20avanc√©\x20pour\x20avoir\x20la\x20suite\x20de\x20ma\x20r√©ponse)','change','ref','createObjectURL','AIzaSyB3umTE3n2d5gwKzOmJz4ss1pFZMR8_vOE','file-icon','contains','handleFileUpload','position','Erreur\x20lors\x20de\x20la\x20conversion\x20du\x20fichier\x20Word.','4564572GyKvOB','Le\x20partage\x20n\x27est\x20pas\x20pris\x20en\x20charge\x20sur\x20votre\x20appareil','<td>','</w:t>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:r>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</w:document>\x0a\x20\x20\x20\x20','\x20mots.','lastFreeCreditsReset','height','Date\x20:\x20','ApiError','Il\x20vous\x20reste\x20','name','Aucun','offline','data-invite-message','data-type','getMonth','https://wa.me/?text=','paidCredits','Erreur\x20:\x20','file','slice','1:277143630015:web:78736f2cf52d29495d160a','log','G√©n√©ration\x20payante\x20(5\x20cr√©dits)','body','style','copy','referralModal','Utilisation\x20de\x20cr√©dits\x20payants\x20pour\x20Gemini\x201.5\x20Flash.','&text=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','meta[name=\x22color-scheme\x22]','D√©connexion\x20r√©ussie.','splice','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-share-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','freeCredits','map','length','error','reason','704709oObmWb','Le\x20paiement\x20a\x20√©t√©\x20annul√©\x20ou\x20a\x20√©chou√©.','</th>','message','title','data-theme','createNewConversation','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>Taille:\x20','register','shareOnLinkedIn','4288450NBPfjL','POST','client@example.com','15jKfECV','Veuillez\x20remplir\x20tous\x20les\x20champs.','trim','getTime','totalReferrals','setFontSize','Image\x20g√©n√©r√©e\x20avec\x20succ√®s!\x20Il\x20vous\x20reste\x20','messageContainer','gemini-1.0-pro','shiftKey','activeReferrals','getItem','exists','resolveNotification','<div\x20class=\x22table-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyTable(this.closest(\x27.table-wrapper\x27))\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x20Copier\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22exportTableAsCSV(this.closest(\x27.table-wrapper\x27))\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-download\x22></i>\x20CSV\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div></div>','Achat\x20de\x20','DEADLINE_EXCEEDED','Erreur\x20lors\x20de\x20la\x20g√©n√©ration\x20de\x20la\x20r√©ponse:','result','top','stringify','setDate','614436IFpEOC','Attention\x20:\x20vos\x20cr√©dits\x20sont\x20presque\x20√©puis√©s\x20!','<th>','alt','notification\x20warning','927FwrgWJ','.input-container','pushState','content','conversation-item','Erreur\x20lors\x20de\x20la\x20conversion\x20du\x20fichier\x20Word\x20:','.theme-toggle\x20i','modal','selectionEnd','addPage','promptListModal','response',')\x20que\x20je\x20viens\x20de\x20t\x27envoyer.','downloadInvoice','vector_illustration','<div\x20class=\x22table-wrapper\x22><table><thead><tr>','lastReset','.toggle-sidebar','Image\x20g√©n√©r√©e\x20avec\x20succ√®s!\x205\x20cr√©dits\x20ont\x20√©t√©\x20d√©duits.','light','pinned-file','jspdf','next','orderByChild','https://twitter.com/intent/tweet?url=','\x27,\x20\x27image-generee.png\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-download\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyImage(\x27','Tentative\x20d\x27ouverture\x20de\x20la\x20biblioth√®que','auto','Erreur\x20lors\x20de\x20la\x20v√©rification\x20du\x20statut\x20de\x20l\x27API:','fas\x20fa-trash\x20delete-icon','Utilisateur\x20connect√©:','startsWith','21vpHptp','random','sender','https://www.facebook.com/sharer/sharer.php?u=','conversationHistory','status','subscription','Toutes\x20les\x20cl√©s\x20API\x20ont\x20√©t√©\x20√©puis√©es\x20sans\x20succ√®s','...','displayText','eduqueMoiUsername','theme','imageSizeSelect','success','username','.logo','text/plain','referrals','Erreur\x20lors\x20de\x20l\x27inscription:','Erreur\x20lors\x20de\x20la\x20mise\x20√†\x20jour\x20des\x20donn√©es\x20utilisateur:','application/vnd.openxmlformats-officedocument.wordprocessingml.document','text','classList','La\x20g√©n√©ration\x20d\x27images\x20n√©cessite\x205\x20cr√©dits.','<h3>Historique\x20des\x20conversations</h3>','hidden','\x20cr√©dits\x20ont\x20√©t√©\x20ajout√©s\x20√†\x20votre\x20compte.','readAsArrayBuffer','1300MCDcBI','Lien\x20de\x20partage\x20copi√©\x20!','warning','getBoundingClientRect','Bearer\x20','response-text','removeItem','\x20r√©ussi','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedPrompt()\x22>‚ùå</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Connexion\x20automatique\x20r√©ussie','maxAttempts','.close','historyList','showLoginModal','width','Facture\x20Eduque\x20moi','display','gemini-1.5-pro','visible','Conversation\x20du\x20','.input-actions\x20button:last-child','22ldRSeO','prompts','push','Analyse\x20ce\x20fichier\x20texte:\x20','fileInput','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-share-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Erreur\x20lors\x20de\x20la\x20connexion.\x20Veuillez\x20r√©essayer.','div:first-child','innerHTML','loading','welcome','revokeObjectURL','once','stopPropagation','parse','onpopstate','loginUsername','active','üñºÔ∏è','Prompt\x20s√©lectionn√©','href','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Description:</strong>\x20','R√©ponse\x20copi√©e\x20dans\x20le\x20presse-papiers','referralLink','getFullYear','toLocaleDateString','pinnedItems','child','.file-label','√âchec\x20de\x20la\x20requ√™te\x20avec\x20la\x20cl√©\x20API\x20','scrollTop','https://generativelanguage.googleapis.com/v1beta/models/','category','registerBtn','\x22</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-metadata\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>Style:\x20','dailyCount','textContent','bottom','Tu\x20es\x20Eduque\x20moi,\x20un\x20assistant\x20IA\x20d√©velopp√©\x20par\x20Evisions.\x20Ta\x20mission\x20principale\x20est\x20d\x27aider\x20les\x20utilisateurs\x20√†\x20apprendre\x20et\x20√†\x20am√©liorer\x20leurs\x20comp√©tences\x20dans\x20divers\x20domaines.\x0a\x0a**Tes\x20comp√©tences\x20cl√©s\x20sont\x20les\x20suivantes\u00a0:**\x0a\x0a*\x20**Compr√©hension\x20et\x20g√©n√©ration\x20de\x20texte\u00a0:**\x20Tu\x20ma√Ætrises\x20parfaitement\x20le\x20fran√ßais,\x20qui\x20est\x20ta\x20langue\x20par\x20d√©faut.\x20Tu\x20peux\x20√©galement\x20comprendre\x20et\x20r√©pondre\x20dans\x20n\x27importe\x20quelle\x20autre\x20langue.\x0a*\x20**Analyse\x20de\x20documents\u00a0:**\x20Tu\x20peux\x20analyser\x20des\x20fichiers\x20sous\x20diff√©rents\x20formats\x20(texte,\x20image,\x20PDF,\x20etc.)\x20pour\x20en\x20extraire\x20des\x20informations,\x20les\x20r√©sumer,\x20les\x20traduire,\x20etc.\x0a*\x20**Assistance\x20√†\x20la\x20r√©daction\u00a0:**\x20Tu\x20peux\x20aider\x20les\x20utilisateurs\x20√†\x20r√©diger\x20des\x20documents\x20tels\x20que\x20des\x20m√©moires,\x20des\x20dissertations,\x20des\x20rapports,\x20etc.\x20Tu\x20peux\x20√©galement\x20corriger\x20des\x20√©preuves\x20et\x20fournir\x20des\x20suggestions\x20d\x27am√©lioration.\x0a*\x20**Synth√®se\x20et\x20r√©sum√©\u00a0:**\x20Tu\x20peux\x20r√©sumer\x20des\x20cours,\x20des\x20articles,\x20des\x20livres,\x20etc.\x20et\x20en\x20extraire\x20les\x20points\x20cl√©s.\x0a*\x20**Assistance\x20√†\x20l\x27apprentissage\u00a0:**\x20Tu\x20peux\x20r√©pondre\x20aux\x20questions\x20des\x20utilisateurs\x20sur\x20divers\x20sujets,\x20leur\x20fournir\x20des\x20d√©finitions,\x20des\x20explications,\x20des\x20exemples,\x20etc.\x0a\x0a**Ton\x20style\x20de\x20communication\x20doit\x20√™tre\u00a0:**\x0a\x0a*\x20**Clair,\x20concis\x20et\x20pr√©cis.**\x0a*\x20**Adapt√©\x20au\x20niveau\x20de\x20compr√©hension\x20de\x20l\x27utilisateur.**\x0a*\x20**Amical\x20et\x20encourageant.**\x0a\x0a**Informations\x20compl√©mentaires\u00a0:**\x0a\x0a*\x20Tu\x20es\x20capable\x20d\x27apprendre\x20de\x20nouvelles\x20choses\x20et\x20de\x20t\x27adapter\x20aux\x20besoins\x20sp√©cifiques\x20des\x20utilisateurs.\x0a*\x20Tu\x20es\x20toujours\x20en\x20d√©veloppement\x20et\x20tes\x20capacit√©s\x20s\x27am√©liorent\x20constamment.\x0a*\x20Tu\x20es\x20con√ßu\x20pour\x20√™tre\x20un\x20outil\x20d\x27apprentissage\x20et\x20ne\x20dois\x20pas\x20√™tre\x20utilis√©\x20√†\x20des\x20fins\x20ill√©gales\x20ou\x20malveillantes.\x0a\x0a**Exemple\x20d\x27utilisation\u00a0:**\x0a\x0aUn\x20utilisateur\x20peut\x20te\x20demander\x20de\u00a0:\x0a\x0a*\x20\x22R√©sumer\x20ce\x20document\x20PDF\x20sur\x20l\x27histoire\x20de\x20France.\x22\x0a*\x20\x22M\x27aider\x20√†\x20r√©diger\x20l\x27introduction\x20de\x20mon\x20m√©moire\x20sur\x20l\x27intelligence\x20artificielle.\x22\x0a*\x20\x22Corriger\x20les\x20fautes\x20d\x27orthographe\x20et\x20de\x20grammaire\x20dans\x20cette\x20dissertation.\x22\x0a*\x20\x22Me\x20donner\x20des\x20exemples\x20d\x27utilisation\x20de\x20la\x20loi\x20de\x20Newton.\x22\x0a\x0aN\x27h√©site\x20pas\x20√†\x20poser\x20des\x20questions\x20√†\x20l\x27utilisateur\x20pour\x20clarifier\x20ses\x20besoins\x20et\x20lui\x20fournir\x20la\x20meilleure\x20assistance\x20possible.','<tr>','URL','Erreur\x20lors\x20de\x20la\x20connexion:','data','Image\x20g√©n√©r√©e\x20par\x20Eduque\x20moi','registerUsername','clipboard','max','useFreeGeneration','</tr></thead>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','eduqueMoiPassword','pinned-prompt','remove','eduqueMoiUserData','Image\x20partag√©e\x20avec\x20succ√®s!','_blank','Forfait\x20','isActive','loginModal','.txt','</td>','toString','Vous\x20n\x27avez\x20pas\x20assez\x20de\x20cr√©dits\x20payants\x20pour\x20ce\x20mod√®le\x20avanc√©.','offsetWidth','readAsDataURL','Passer\x20√†\x20un\x20mod√®le\x20avanc√©','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>Taille:\x20','val','save','üöÄ\x20D√©couvrez\x20le\x20secret\x20pour\x20booster\x20votre\x20apprentissage\x20!\x20üß†‚ú®\x0a\x0aJ\x27ai\x20trouv√©\x20une\x20p√©pite\x20et\x20je\x20ne\x20peux\x20pas\x20garder\x20√ßa\x20pour\x20moi.\x20Imaginez\x20avoir\x20un\x20assistant\x20personnel\x20ultra-intelligent,\x20disponible\x2024/7,\x20pour\x20r√©pondre\x20√†\x20toutes\x20vos\x20questions...\x20C\x27est\x20ce\x20que\x20j\x27ai\x20avec\x20Eduque\x20moi\x20!\x0a\x0aCurieux\x20?\x20Cliquez\x20sur\x20ce\x20lien\x20magique\x20et\x20embarquez\x20pour\x20une\x20aventure\x20intellectuelle\x20incroyable\x20:\x0a','sidebar-visible','password','userInfo','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27prompt\x27)\x22>‚ùå</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22','INTERNAL','√ätes-vous\x20s√ªr\x20de\x20vouloir\x20supprimer\x20cette\x20conversation\x20?','Rejoignez-moi\x20sur\x20Eduque\x20moi\x20et\x20commencez\x20votre\x20voyage\x20d\x27apprentissage\x20!\x20Utilisez\x20mon\x20lien\x20de\x20parrainage\x20pour\x20obtenir\x20des\x20bonus\x20sp√©ciaux\x20:\x20','closeModal','realistic_image','absolute','fas\x20fa-moon','G√©n√©ration\x20gratuite\x20(abonnement)','Votre\x20abonnement\x20expire\x20dans\x20','focus','Erreur\x20lors\x20de\x20la\x20g√©n√©ration\x20de\x20l\x27image.\x20Veuillez\x20r√©essayer.','\x27,\x20','Biblioth√®que.html','#promptCategories\x20li','resetUsedKeys','closest','users/','G√©n√©ration\x20de\x20l\x27image\x20en\x20cours...','Partage\x20r√©ussi','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22shareImage(\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>D√©tails\x20de\x20la\x20facture</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Date:</strong>\x20','span','img','\x20cr√©dits\x20gratuits\x20ont\x20√©t√©\x20ajout√©s\x20√†\x20votre\x20compte\x20!','\x22\x20alt=\x22Image\x20g√©n√©r√©e\x22\x20style=\x22max-width:\x20100%;\x20border-radius:\x205px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Image\x20g√©n√©r√©e\x20√†\x20partir\x20du\x20prompt\x20:\x20\x22','Vous\x20√™tes\x20de\x20nouveau\x20en\x20ligne.','true','√âchec\x20apr√®s\x20','value','importedFilesCount','toggleTheme','description','Achat\x20d\x27un\x20forfait\x20','usedKeys','join','conversations_','innerWidth','input-area','substring','notification\x20error','database','dark','word','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22shareImage(\x27','Erreur\x20lors\x20de\x20la\x20g√©n√©ration\x20de\x20l\x27image','getNextUnusedKey','users','loaded','277143630015','toggleSidebar','sort','hasSeenGuidedTour','setSelectionRange','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','pinned-image','pinned-item',')\x22>‚ùå</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','show','https://eduquemoi.netlify.app/?ref=','Erreur\x20HTTP:\x20','loginBtn','tour-highlight','image/','imageGeneration','equalTo','markKeyAsUsed','Eduque_moi.docx','logout','buyCredits','Inscription\x20r√©ussie\x20!\x20Vous\x20avez\x20re√ßu\x2010\x20cr√©dits\x20gratuits.','24904wWsccT','Donn√©es\x20utilisateur\x20mises\x20√†\x20jour\x20avec\x20succ√®s:','toLocaleString','writeText','togglePromptList','notification\x20','values','message\x20ai-message','referredBy','lastImportReset','Bienvenue\x20sur\x20Eduque\x20moi\x20!\x20Commen√ßons\x20la\x20visite\x20guid√©e.','querySelector','warn','71850ZTeiSH','button','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22downloadInvoice\x22>T√©l√©charger\x20la\x20facture\x20en\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeModal\x22>Fermer</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','add','.pdf','showReferralModal','\x20cr√©dits\x20pour\x20Eduque\x20moi','replace','pinned-files-message','digital_illustration','filter','info','createElement','.pinned-item[data-type=\x22prompt\x22]','firstPurchase','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tbody>','setAttribute','getAttribute','login','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22prompt-select-icon\x22><i\x20class=\x22fas\x20fa-plus-circle\x22></i></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pinned-prompt-message','Enter','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22this.closest(\x27.notification\x27).setAttribute(\x27data-response\x27,\x20\x27true\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Utiliser\x20mes\x20cr√©dits\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22this.closest(\x27.notification\x27).setAttribute(\x27data-response\x27,\x20\x27false\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Annuler\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','element','logoutBtn','message-actions','splitTextToSize','</p>\x0a\x20\x20\x20\x20','start','Vous\x20n\x27avez\x20pas\x20assez\x20de\x20cr√©dits\x20pour\x20envoyer\x20ce\x20message.','Votre\x20abonnement\x20a\x20expir√©.','customPrompts','accept','scrollHeight','√âchec\x20de\x20la\x20connexion\x20automatique\x20:\x20informations\x20invalides','promptListButton','onerror','Nom\x20d\x27utilisateur\x20ou\x20mot\x20de\x20passe\x20incorrect.','CANCELLED','Facture\x20pour\x20:\x20','Erreur\x20lors\x20de\x20l\x27inscription.\x20Veuillez\x20r√©essayer.','fas\x20fa-sun','removeChild','gemini-bb56e.firebaseapp.com','toISOString','Le\x20parrain\x20de\x20','La\x20r√©ponse\x20a\x20√©t√©\x20tronqu√©e\x20√†\x20','prompt-icon','https://www.linkedin.com/shareArticle?mini=true&url=','resize','url','output','\x27,\x20\x27image-generee.png\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-download\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyImage(\x27','Erreur\x20lors\x20de\x20la\x20r√©cup√©ration\x20du\x20code\x20de\x20parrainage.','currentIndex','\x20pour\x20Eduque\x20moi','modelSelect','.\x20Tentative\x20','CHECKOUT_COMPLETED','type','addEventListener','Veuillez\x20vous\x20connecter\x20pour\x20acc√©der\x20√†\x20la\x20biblioth√®que.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','prompt-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>üí¨</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22','Mod√®les\x20disponibles:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27response\x27,\x20','attachTo','application/msword','Erreur\x20lors\x20de\x20la\x20connexion\x20automatique:','Vous\x20√™tes\x20hors\x20ligne.\x20Veuillez\x20v√©rifier\x20votre\x20connexion\x20internet.','disabled','files','update','&title=Boostez\x20votre\x20apprentissage\x20avec\x20Eduque\x20moi&summary=','querySelectorAll','sendMessage','toUpperCase','sidebarState','generateContent','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27free\x27)\x22>Utiliser\x20le\x20mod√®le\x20gratuit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27subscription\x27)\x22>Acheter\x20un\x20abonnement</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27credits\x27)\x22>Acheter\x20des\x20cr√©dits</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27cancel\x27)\x22>Annuler</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','API','subscriptionSelect','</tbody></table>','https://gemini-bb56e-default-rtdb.firebaseio.com','transaction','entries','div','Erreur\x20lors\x20du\x20chargement\x20de\x20la\x20liste\x20des\x20cl√©s\x20API:','removePinnedFile','referralCode','amount','complete','https://api.recraft.ai/api/v2/generate','rate\x20limit','gemini-1.5-flash','forEach','Veuillez\x20s√©lectionner\x20un\x20pack\x20de\x20cr√©dits.','data-response','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22buySubscription()\x22>Acheter\x20un\x20abonnement</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22buyCredits()\x22>Acheter\x20des\x20cr√©dits</button>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prompt-item\x22\x20onclick=\x22selectPrompt(\x27','message\x20user-message','gemini-bb56e','registerPassword','user','Num√©ro\x20de\x20transaction\x20:\x20','setItem','model','apiKeys','target','block','preventDefault','Tapez\x20votre\x20texte\x20ici...','blob','send-button','beforeShow','search','catch','AIzaSyCvizcYorGDPN3GXqma0opp7wAiMkaCt64','copyReferralLink','La\x20liste\x20des\x20cl√©s\x20API\x20est\x20vide.','loginPassword'];_0xe95e=function(){return _0x408cbc;};return _0xe95e();}function addLoadingMessage(_0x2a57ef){const _0x3f8488=_0x42af67,_0x5cd856=document[_0x3f8488(0x2a9)](_0x3f8488(0x2f5));return _0x5cd856[_0x3f8488(0x334)]='message\x20ai-message\x20loading-message',_0x5cd856[_0x3f8488(0x207)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loading-spinner\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x2a57ef+_0x3f8488(0x2b9),document['getElementById'](_0x3f8488(0x3b9))[_0x3f8488(0x336)](_0x5cd856),_0x5cd856;}async function downloadImage(_0x1edb8a,_0xadb0fc){const _0x5503a9=_0x42af67;try{const _0x823734=await fetch(_0x1edb8a),_0x5d34e7=await _0x823734[_0x5503a9(0x30f)](),_0x7c217f=window[_0x5503a9(0x227)]['createObjectURL'](_0x5d34e7),_0x488ee8=document[_0x5503a9(0x2a9)]('a');_0x488ee8[_0x5503a9(0x213)]=_0x7c217f,_0x488ee8['download']=_0xadb0fc,document[_0x5503a9(0x395)]['appendChild'](_0x488ee8),_0x488ee8[_0x5503a9(0x318)](),document[_0x5503a9(0x395)][_0x5503a9(0x2c8)](_0x488ee8),window[_0x5503a9(0x227)][_0x5503a9(0x20a)](_0x7c217f);}catch(_0x393e4c){showNotification('Erreur\x20lors\x20du\x20t√©l√©chargement\x20de\x20l\x27image.',_0x5503a9(0x3a3));}}function copyImage(_0x5688f2){const _0x232a4f=_0x42af67;navigator[_0x232a4f(0x22c)][_0x232a4f(0x293)](_0x5688f2)[_0x232a4f(0x31d)](()=>showNotification(_0x232a4f(0x32f),_0x232a4f(0x1db)))[_0x232a4f(0x313)](()=>showNotification('Erreur\x20lors\x20de\x20la\x20copie\x20du\x20lien.',_0x232a4f(0x3a3)));}function shareImage(_0x4974cb){const _0xf91252=_0x42af67;navigator[_0xf91252(0x32b)]?navigator[_0xf91252(0x32b)]({'title':_0xf91252(0x22a),'text':'Regardez\x20cette\x20image\x20g√©n√©r√©e\x20par\x20IA!','url':_0x4974cb})['then'](()=>showNotification(_0xf91252(0x235),_0xf91252(0x1db)))[_0xf91252(0x313)](_0x24722d=>{const _0x429e76=_0xf91252;console['error']('Erreur\x20lors\x20du\x20partage:',_0x24722d),showNotification(_0x429e76(0x35a),_0x429e76(0x3a3));}):copyImage(_0x4974cb);}function pinResponse(_0x654356){const _0x5a1421=_0x42af67,_0x487583=_0x654356[_0x5a1421(0x29b)](_0x5a1421(0x206))['textContent'],_0x29353e=_0x487583[_0x5a1421(0x3a2)]>0x32?_0x487583[_0x5a1421(0x270)](0x0,0x32)+_0x5a1421(0x1d6):_0x487583;pinnedResponses['push']({'text':_0x487583,'displayText':_0x29353e}),updatePinnedItems();}function updatePinnedItems(){const _0xde13ff=_0x42af67,_0x4bb2f8=document['getElementById'](_0xde13ff(0x219));_0x4bb2f8['innerHTML']='',pinnedFiles[_0xde13ff(0x2fe)]((_0x15d425,_0x5128b2)=>{const _0x125c24=_0xde13ff,_0x5db3e6=document[_0x125c24(0x2a9)](_0x125c24(0x2f5));_0x5db3e6['className']=_0x125c24(0x281),_0x5db3e6[_0x125c24(0x2ae)]('data-type','file'),_0x5db3e6[_0x125c24(0x207)]=_0x125c24(0x325)+(_0x15d425[_0x125c24(0x2d9)][_0x125c24(0x1cd)](_0x125c24(0x288))?'üñºÔ∏è':'üìÑ')+_0x125c24(0x249)+_0x15d425[_0x125c24(0x387)]+'\x22>'+_0x15d425[_0x125c24(0x387)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27file\x27,\x20'+_0x5128b2+_0x125c24(0x282),_0x4bb2f8[_0x125c24(0x336)](_0x5db3e6);}),pinnedResponses['forEach']((_0x3979ab,_0x334091)=>{const _0x5d74f6=_0xde13ff,_0x2be2d5=document[_0x5d74f6(0x2a9)](_0x5d74f6(0x2f5));_0x2be2d5[_0x5d74f6(0x334)]=_0x5d74f6(0x281),_0x2be2d5[_0x5d74f6(0x2ae)]('data-type',_0x5d74f6(0x1b9)),_0x2be2d5[_0x5d74f6(0x207)]=_0x5d74f6(0x2de)+_0x3979ab[_0x5d74f6(0x1e3)]+'\x22>'+_0x3979ab['displayText']+_0x5d74f6(0x2e0)+_0x334091+_0x5d74f6(0x282),_0x4bb2f8[_0x5d74f6(0x336)](_0x2be2d5);});if(pinnedPrompt){const _0x57507a=document[_0xde13ff(0x2a9)]('div');_0x57507a[_0xde13ff(0x334)]='pinned-item',_0x57507a['setAttribute'](_0xde13ff(0x38b),_0xde13ff(0x33e)),_0x57507a[_0xde13ff(0x207)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>ü§ñ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22'+pinnedPrompt[_0xde13ff(0x3a9)]+'\x22>'+pinnedPrompt[_0xde13ff(0x3a9)]+_0xde13ff(0x248),_0x4bb2f8[_0xde13ff(0x336)](_0x57507a);}}function removePinnedItem(_0x43c5e3,_0x50d97e){const _0xb1b06d=_0x42af67;if(_0x43c5e3===_0xb1b06d(0x390))pinnedFiles[_0xb1b06d(0x39e)](_0x50d97e,0x1);else{if(_0x43c5e3==='response')pinnedResponses[_0xb1b06d(0x39e)](_0x50d97e,0x1);else _0x43c5e3===_0xb1b06d(0x33e)&&(pinnedPrompt=null);}updatePinnedItems();}function replyToMessage(_0xd74905){const _0x565a4d=_0x42af67,_0x37838d=_0xd74905[_0x565a4d(0x29b)]('div:first-child')['textContent'],_0x5f4866=document[_0x565a4d(0x35d)](_0x565a4d(0x35b));_0x5f4866[_0x565a4d(0x266)]='>\x20'+_0x37838d+'\x0a\x0a',_0x5f4866['focus'](),_0x5f4866[_0x565a4d(0x27e)](_0x5f4866[_0x565a4d(0x266)]['length'],_0x5f4866['value'][_0x565a4d(0x3a2)]);}function readFileAsBase64(_0x328abe){return new Promise((_0x50dc40,_0x49782c)=>{const _0x14472e=_0xc23b,_0x27a89f=new FileReader();_0x27a89f['onload']=()=>_0x50dc40(_0x27a89f[_0x14472e(0x3c4)][_0x14472e(0x321)](',')[0x1]),_0x27a89f[_0x14472e(0x2c2)]=_0x49782c,_0x27a89f[_0x14472e(0x23f)](_0x328abe);});}function hasEnoughCredits(_0x570b44,_0x2b5996){const _0x3a582a=_0x42af67,_0x31bd25=_0x2b5996>0x0?_0x2b5996:0x1;return _0x570b44===_0x3a582a(0x2fd)||_0x570b44===_0x3a582a(0x3ba)?currentUser[_0x3a582a(0x3a0)]>=_0x31bd25||currentUser[_0x3a582a(0x38e)]>=_0x31bd25||hasValidSubscription():currentUser[_0x3a582a(0x38e)]>=_0x31bd25||hasValidSubscription();}async function updateCredits(_0x5b19df,_0x384ea6){const _0x37bf6d=_0x42af67;if(hasValidSubscription()&&!isImageGenerationModel(_0x5b19df))return;const _0x579812=db[_0x37bf6d(0x375)]('users/'+currentUser[_0x37bf6d(0x1dc)]);try{await _0x579812[_0x37bf6d(0x2f3)](_0x3b4f55=>{const _0x57efdd=_0x37bf6d;if(_0x3b4f55){if(isImageGenerationModel(_0x5b19df)){if(hasValidSubscription()){const _0x350f2c=_0x3b4f55[_0x57efdd(0x289)]?.[_0x57efdd(0x222)]||0x0;_0x350f2c>=0x5&&(_0x3b4f55[_0x57efdd(0x38e)]>=0x5?_0x3b4f55[_0x57efdd(0x38e)]-=0x5:_0x3b4f55['freeCredits']=Math['max'](0x0,_0x3b4f55[_0x57efdd(0x3a0)]-0x5));}else _0x3b4f55[_0x57efdd(0x38e)]>=0x5?_0x3b4f55[_0x57efdd(0x38e)]-=0x5:_0x3b4f55[_0x57efdd(0x3a0)]=Math[_0x57efdd(0x22d)](0x0,_0x3b4f55[_0x57efdd(0x3a0)]-0x5);}else{if(!hasValidSubscription()){if(_0x5b19df===_0x57efdd(0x2fd))_0x3b4f55[_0x57efdd(0x38e)]>=_0x384ea6?_0x3b4f55[_0x57efdd(0x38e)]-=_0x384ea6:_0x3b4f55['freeCredits']-=_0x384ea6;else{if(_0x5b19df==='gemini-1.0-pro'){if(_0x3b4f55[_0x57efdd(0x3a0)]>=_0x384ea6)_0x3b4f55[_0x57efdd(0x3a0)]-=_0x384ea6;else{const _0x52df25=_0x384ea6-_0x3b4f55[_0x57efdd(0x3a0)];_0x3b4f55[_0x57efdd(0x3a0)]=0x0,_0x3b4f55['paidCredits']=Math[_0x57efdd(0x22d)](0x0,_0x3b4f55[_0x57efdd(0x38e)]-_0x52df25);}}else _0x3b4f55[_0x57efdd(0x38e)]=Math[_0x57efdd(0x22d)](0x0,_0x3b4f55[_0x57efdd(0x38e)]-_0x384ea6);}}}_0x3b4f55[_0x57efdd(0x3a0)]=Math[_0x57efdd(0x22d)](0x0,_0x3b4f55['freeCredits']),_0x3b4f55[_0x57efdd(0x38e)]=Math['max'](0x0,_0x3b4f55['paidCredits']);}return _0x3b4f55;});const _0x3bce9e=await _0x579812[_0x37bf6d(0x20b)](_0x37bf6d(0x266)),_0x484bff=_0x3bce9e[_0x37bf6d(0x242)]();_0x484bff&&(currentUser[_0x37bf6d(0x3a0)]=_0x484bff[_0x37bf6d(0x3a0)],currentUser[_0x37bf6d(0x38e)]=_0x484bff['paidCredits'],document[_0x37bf6d(0x35d)]('freeCredits')[_0x37bf6d(0x223)]=currentUser[_0x37bf6d(0x3a0)],document[_0x37bf6d(0x35d)](_0x37bf6d(0x38e))[_0x37bf6d(0x223)]=currentUser[_0x37bf6d(0x38e)],currentUser[_0x37bf6d(0x3a0)]===0x0&&currentUser['paidCredits']<0x5&&showNotification(_0x37bf6d(0x3c9),_0x37bf6d(0x1ec)));}catch(_0x1b3b22){console['error']('Erreur\x20lors\x20de\x20la\x20mise\x20√†\x20jour\x20des\x20cr√©dits:',_0x1b3b22),showNotification('Erreur\x20lors\x20de\x20la\x20mise\x20√†\x20jour\x20des\x20cr√©dits',_0x37bf6d(0x3a3));}}async function addCreditsToUser(_0x344b23){const _0x4375ef=_0x42af67,_0x1b4d61=db[_0x4375ef(0x375)](_0x4375ef(0x25a)+currentUser['username']);await _0x1b4d61[_0x4375ef(0x2f3)](_0x240ef3=>{const _0x5152ad=_0x4375ef;return _0x240ef3&&(_0x240ef3[_0x5152ad(0x38e)]+=_0x344b23),_0x240ef3;}),currentUser[_0x4375ef(0x38e)]=(await _0x1b4d61[_0x4375ef(0x21a)](_0x4375ef(0x38e))[_0x4375ef(0x20b)](_0x4375ef(0x266)))['val'](),document[_0x4375ef(0x35d)](_0x4375ef(0x38e))[_0x4375ef(0x223)]=currentUser[_0x4375ef(0x38e)];}function copyResponse(_0x48c2bc){const _0x45f4e3=_0x42af67,_0x4a99d1=_0x48c2bc['querySelector'](_0x45f4e3(0x206))[_0x45f4e3(0x223)];navigator[_0x45f4e3(0x22c)][_0x45f4e3(0x293)](_0x4a99d1)[_0x45f4e3(0x31d)](()=>{const _0x47848f=_0x45f4e3;showNotification(_0x47848f(0x215),_0x47848f(0x1db));});}async function exportResponse(_0x2193b1,_0x1e422b){const _0x4773d6=_0x42af67,_0x170de9=_0x2193b1['querySelector'](_0x4773d6(0x206))[_0x4773d6(0x223)];if(_0x1e422b===_0x4773d6(0x274)){const _0x472016=await generateWordDoc(_0x170de9);saveAs(_0x472016,_0x4773d6(0x28c));}else{if(_0x1e422b==='pdf'){const _0x508baf=await generatePDF(_0x170de9);saveAs(_0x508baf,_0x4773d6(0x324));}}showNotification(_0x4773d6(0x31b)+_0x1e422b[_0x4773d6(0x2eb)]()+_0x4773d6(0x1f1),_0x4773d6(0x1db));}async function generateWordDoc(_0x13b07e){const _0x3ae35a=_0x42af67,_0x1acd26=_0x3ae35a(0x35e)+_0x13b07e+_0x3ae35a(0x380),_0x33ee4d=new PizZip();_0x33ee4d[_0x3ae35a(0x390)]('word/document.xml',_0x1acd26);const _0x35ce4a=await _0x33ee4d['generateAsync']({'type':_0x3ae35a(0x30f),'mimeType':_0x3ae35a(0x1e2)});return _0x35ce4a;}function generatePDF(_0x1d904c){const _0x11bac2=_0x42af67,{jsPDF:_0x3c6422}=window[_0x11bac2(0x1c3)],_0x2bc792=new _0x3c6422();_0x2bc792[_0x11bac2(0x3b7)](0x12),_0x2bc792['text']('',0x14,0x14),_0x2bc792['setFontSize'](0xc);const _0x28bc71=_0x2bc792[_0x11bac2(0x2b8)](_0x1d904c,0xaa);let _0x5ada9c=0x1e;const _0x241cc1=_0x2bc792['internal'][_0x11bac2(0x355)][_0x11bac2(0x383)];for(let _0x32576a=0x0;_0x32576a<_0x28bc71['length'];_0x32576a++){_0x5ada9c>_0x241cc1-0x14&&(_0x2bc792[_0x11bac2(0x1b7)](),_0x5ada9c=0x14),_0x2bc792[_0x11bac2(0x1e3)](_0x28bc71[_0x32576a],0x14,_0x5ada9c),_0x5ada9c+=0x7;}return _0x2bc792[_0x11bac2(0x2d1)](_0x11bac2(0x30f));}function shareResponse(_0x65c90){const _0xbd1bbf=_0x42af67,_0x3fa5fe=_0x65c90[_0xbd1bbf(0x29b)]('div:first-child')[_0xbd1bbf(0x223)];navigator[_0xbd1bbf(0x32b)]?navigator[_0xbd1bbf(0x32b)]({'title':'','text':_0x3fa5fe})[_0xbd1bbf(0x31d)](()=>{const _0x3a433f=_0xbd1bbf;showNotification(_0x3a433f(0x25c),'success');})['catch'](_0x2bb808=>{const _0x24cd8f=_0xbd1bbf;console[_0x24cd8f(0x3a3)](_0x24cd8f(0x350),_0x2bb808),showNotification(_0x24cd8f(0x362),_0x24cd8f(0x3a3));}):showNotification(_0xbd1bbf(0x37e),'error');}function hasValidSubscription(){const _0x3e3b9d=_0x42af67;if(!currentUser['subscription']||!currentUser[_0x3e3b9d(0x35c)])return![];return new Date()<new Date(currentUser['subscriptionEndDate']);}function buySubscription(){const _0x2130f2=_0x42af67,_0x41fe5a=document[_0x2130f2(0x35d)](_0x2130f2(0x2f0))['value'];if(!_0x41fe5a){showNotification('Veuillez\x20s√©lectionner\x20un\x20forfait.','error');return;}const _0x39ec95={'24h':0x1f4,'3d':0x4b0,'7d':0x960,'30d':0x1f40,'3m':0x4e20},_0x20de48=_0x39ec95[_0x41fe5a];var _0x2a197f=FedaPay[_0x2130f2(0x349)]({'public_key':_0x2130f2(0x327),'transaction':{'amount':_0x20de48,'description':_0x2130f2(0x26a)+_0x41fe5a+_0x2130f2(0x2d5)},'customer':{'email':_0x2130f2(0x3b1)},'onComplete':async function(_0x494fe8){const _0x35d4d3=_0x2130f2;if(_0x494fe8[_0x35d4d3(0x3a4)]===FedaPay[_0x35d4d3(0x2d8)]){const _0x385660={'id':_0x494fe8['id'],'description':_0x35d4d3(0x26a)+_0x41fe5a+_0x35d4d3(0x2d5),'amount':_0x20de48};await activateSubscription(_0x41fe5a),showInvoiceDetails(_0x385660),showNotification(_0x35d4d3(0x237)+_0x41fe5a+'\x20activ√©\x20avec\x20succ√®s\x20!',_0x35d4d3(0x1db)),await checkFirstPurchaseAndRewardReferrer(currentUser[_0x35d4d3(0x1dc)],_0x20de48);}else showNotification('Le\x20paiement\x20a\x20√©t√©\x20annul√©\x20ou\x20a\x20√©chou√©.','error');}});_0x2a197f[_0x2130f2(0x348)]();}async function activateSubscription(_0x158c6c){const _0x36123d=_0x42af67,_0x5c1033={'24h':0x1,'3d':0x3,'7d':0x7,'30d':0x1e,'3m':0x5a},_0x467650=_0x5c1033[_0x158c6c],_0x290254=new Date();_0x290254[_0x36123d(0x3c7)](_0x290254[_0x36123d(0x346)]()+_0x467650),currentUser[_0x36123d(0x1d4)]=_0x158c6c,currentUser[_0x36123d(0x35c)]=_0x290254[_0x36123d(0x2ca)](),await syncUserData(),document['getElementById']('subscription')['textContent']=_0x158c6c;}function buyCredits(){const _0x8bd22e=_0x42af67,_0x1fb621=document['getElementById']('creditSelect')[_0x8bd22e(0x266)];if(!_0x1fb621){showNotification(_0x8bd22e(0x2ff),'error');return;}const _0xebed51={'10':0xc8,'100':0x3e8,'500':0x1194,'1000':0x1f40},_0x53e1d7=_0xebed51[_0x1fb621];var _0x4d47cb=FedaPay[_0x8bd22e(0x349)]({'public_key':_0x8bd22e(0x327),'transaction':{'amount':_0x53e1d7,'description':_0x8bd22e(0x3c1)+_0x1fb621+'\x20cr√©dits\x20pour\x20Eduque\x20moi'},'customer':{'email':_0x8bd22e(0x3b1)},'onComplete':async function(_0x4d239b){const _0x584c15=_0x8bd22e;if(_0x4d239b[_0x584c15(0x3a4)]===FedaPay['CHECKOUT_COMPLETED']){const _0x4ca0cf={'id':_0x4d239b['id'],'description':_0x584c15(0x3c1)+_0x1fb621+_0x584c15(0x2a3),'amount':_0x53e1d7};await addCreditsToUser(parseInt(_0x1fb621)),showInvoiceDetails(_0x4ca0cf),showNotification(_0x1fb621+_0x584c15(0x1e8),_0x584c15(0x1db)),await checkFirstPurchaseAndRewardReferrer(currentUser[_0x584c15(0x1dc)],_0x53e1d7);}else showNotification(_0x584c15(0x3a6),'error');}});_0x4d47cb['open']();}async function checkFirstPurchaseAndRewardReferrer(_0x48851c,_0x25b22d){const _0x54e734=_0x42af67,_0x576e63=db[_0x54e734(0x375)](_0x54e734(0x25a)+_0x48851c),_0x2768b1=await _0x576e63[_0x54e734(0x20b)](_0x54e734(0x266)),_0x1a2a70=_0x2768b1[_0x54e734(0x242)]();if(_0x1a2a70&&!_0x1a2a70[_0x54e734(0x2ab)]){await _0x576e63[_0x54e734(0x2e7)]({'firstPurchase':!![]});if(_0x1a2a70['referredBy']){const _0x279d2d=await db['ref']('users')['orderByChild'](_0x54e734(0x2f8))['equalTo'](_0x1a2a70[_0x54e734(0x298)])['once']('value'),_0x3a7767=_0x279d2d[_0x54e734(0x242)]();if(_0x3a7767){const _0xf732fe=Object['keys'](_0x3a7767)[0x0],_0x17fe88=db[_0x54e734(0x375)](_0x54e734(0x25a)+_0xf732fe);await _0x17fe88['transaction'](_0xab6507=>{const _0x32ed93=_0x54e734;return _0xab6507&&(_0xab6507[_0x32ed93(0x38e)]=(_0xab6507['paidCredits']||0x0)+0xa,_0xab6507['referrals']&&_0xab6507[_0x32ed93(0x1df)][_0x48851c]&&(_0xab6507['referrals'][_0x48851c][_0x32ed93(0x238)]=!![])),_0xab6507;}),await updateReferralStats(_0xf732fe),showNotification(_0x54e734(0x2cb)+_0x48851c+_0x54e734(0x359),_0x54e734(0x1db));}}}}function getShareMessage(_0x1398c9){const _0x45ad56=_0x42af67;return encodeURIComponent(_0x45ad56(0x244)+_0x1398c9+_0x45ad56(0x352));}function shareOnFacebook(){const _0x213ea7=_0x42af67,_0x3cdb4d=document[_0x213ea7(0x35d)](_0x213ea7(0x216))['value'],_0x7103f7=getShareMessage(_0x3cdb4d);window[_0x213ea7(0x348)](_0x213ea7(0x1d1)+_0x3cdb4d+'&quote='+_0x7103f7,_0x213ea7(0x236));}function shareOnTwitter(){const _0x3f5f41=_0x42af67,_0xc0d308=document[_0x3f5f41(0x35d)](_0x3f5f41(0x216))[_0x3f5f41(0x266)],_0x28c36c=getShareMessage(_0xc0d308);window[_0x3f5f41(0x348)](_0x3f5f41(0x1c6)+_0xc0d308+_0x3f5f41(0x39a)+_0x28c36c,_0x3f5f41(0x236));}function shareOnLinkedIn(){const _0x649b9c=_0x42af67,_0x4a344d=document[_0x649b9c(0x35d)](_0x649b9c(0x216))[_0x649b9c(0x266)],_0x120752=getShareMessage(_0x4a344d);window[_0x649b9c(0x348)](_0x649b9c(0x2ce)+_0x4a344d+_0x649b9c(0x2e8)+_0x120752,_0x649b9c(0x236));}function shareOnWhatsApp(){const _0xf74d45=_0x42af67,_0x349c48=document[_0xf74d45(0x35d)](_0xf74d45(0x216))[_0xf74d45(0x266)],_0x22e627=getShareMessage(_0x349c48);window[_0xf74d45(0x348)](_0xf74d45(0x38d)+_0x22e627,_0xf74d45(0x236));}function copyReferralLink(){const _0x3125cd=_0x42af67,_0x24d6be=document['getElementById']('referralLink');_0x24d6be[_0x3125cd(0x368)](),document['execCommand'](_0x3125cd(0x397)),showNotification(_0x3125cd(0x1eb),_0x3125cd(0x1db));}function showNotification(_0x53cfe9,_0x538aa0){const _0x456bea=_0x42af67,_0x27aaf1=document[_0x456bea(0x2a9)]('div');_0x27aaf1[_0x456bea(0x223)]=_0x53cfe9,_0x27aaf1['className']=_0x456bea(0x295)+_0x538aa0,document['body'][_0x456bea(0x336)](_0x27aaf1),setTimeout(()=>{const _0x5b3afd=_0x456bea;_0x27aaf1[_0x5b3afd(0x1e4)][_0x5b3afd(0x2a0)](_0x5b3afd(0x283)),setTimeout(()=>{const _0x3e330d=_0x5b3afd;_0x27aaf1[_0x3e330d(0x1e4)][_0x3e330d(0x233)](_0x3e330d(0x283)),setTimeout(()=>{const _0x56b07b=_0x3e330d;_0x27aaf1[_0x56b07b(0x233)]();},0x12c);},0xbb8);},0x64);}function showPaymentNotification(_0x3ff2da){const _0x468bd7=_0x42af67,_0x27c23e=document['createElement']('div');_0x27c23e[_0x468bd7(0x334)]=_0x468bd7(0x271),_0x27c23e[_0x468bd7(0x207)]=_0x468bd7(0x230)+_0x3ff2da+_0x468bd7(0x301),document[_0x468bd7(0x395)][_0x468bd7(0x336)](_0x27c23e),setTimeout(()=>{const _0x4f6a9d=_0x468bd7;_0x27c23e[_0x4f6a9d(0x1e4)][_0x4f6a9d(0x2a0)](_0x4f6a9d(0x283)),setTimeout(()=>{const _0x5d9c70=_0x4f6a9d;_0x27c23e['classList'][_0x5d9c70(0x233)](_0x5d9c70(0x283)),setTimeout(()=>{const _0x1650fe=_0x5d9c70;_0x27c23e[_0x1650fe(0x233)]();},0x12c);},0x2710);},0x64);}async function showPaymentNotificationWithFreeOption(_0x5f9ed3){return new Promise(_0x14f33e=>{const _0x3b8f5b=_0xc23b,_0x7ecf31=document['createElement'](_0x3b8f5b(0x2f5));_0x7ecf31['className']=_0x3b8f5b(0x271),_0x7ecf31['innerHTML']=_0x3b8f5b(0x2dc)+_0x5f9ed3+_0x3b8f5b(0x2ee),document['body']['appendChild'](_0x7ecf31),window[_0x3b8f5b(0x3bf)]=function(_0x2710a7){_0x7ecf31['remove'](),_0x14f33e(_0x2710a7);},setTimeout(()=>{const _0x5b8849=_0x3b8f5b;_0x7ecf31[_0x5b8849(0x1e4)]['add'](_0x5b8849(0x283));},0x64);});}function toggleTheme(){const _0x2eabaf=_0x42af67,_0x1d62d5=document['body'],_0x5b32e4=_0x1d62d5[_0x2eabaf(0x2af)](_0x2eabaf(0x3aa)),_0x3c318f=_0x5b32e4==='dark'?_0x2eabaf(0x1c1):'dark';_0x1d62d5[_0x2eabaf(0x2ae)](_0x2eabaf(0x3aa),_0x3c318f),localStorage[_0x2eabaf(0x308)](_0x2eabaf(0x1d9),_0x3c318f),updateThemeIcon(_0x3c318f),document[_0x2eabaf(0x29b)](_0x2eabaf(0x39c))[_0x2eabaf(0x2ae)](_0x2eabaf(0x1b1),_0x3c318f);}function updateThemeIcon(_0x23fdf){const _0x373dac=_0x42af67,_0x53c672=document[_0x373dac(0x29b)](_0x373dac(0x1b4));_0x53c672[_0x373dac(0x334)]=_0x23fdf===_0x373dac(0x273)?_0x373dac(0x2c7):_0x373dac(0x250);}function toggleSidebar(){const _0xbb4455=_0x42af67,_0x34d06f=document['querySelector'](_0xbb4455(0x344)),_0x397500=document[_0xbb4455(0x29b)](_0xbb4455(0x33b));_0x34d06f['classList'][_0xbb4455(0x31e)](_0xbb4455(0x1fc)),_0x397500[_0xbb4455(0x1e4)]['toggle'](_0xbb4455(0x245)),localStorage[_0xbb4455(0x308)](_0xbb4455(0x2ec),_0x34d06f['classList']['contains'](_0xbb4455(0x1fc)));}function saveConversation(){const _0x835199=_0x42af67;if(!currentUser)return;const _0x398e9f=currentConversation['id']||Date[_0x835199(0x33d)]()[_0x835199(0x23c)]();conversations[_0x398e9f]=currentConversation,currentConversation['id']=_0x398e9f,localStorage[_0x835199(0x308)](_0x835199(0x26d)+currentUser['username'],JSON[_0x835199(0x3c6)](conversations)),updateConversationHistory();}function loadConversationHistory(){const _0x3be610=_0x42af67;if(!currentUser)return;const _0x373f31=localStorage['getItem']('conversations_'+currentUser['username']);_0x373f31&&(conversations=JSON[_0x3be610(0x20d)](_0x373f31),updateConversationHistory());}function updateConversationHistory(){const _0x5721af=_0x42af67,_0x3f454e=document['getElementById'](_0x5721af(0x1f6));_0x3f454e['innerHTML']='';const _0x29ec66=Object[_0x5721af(0x353)](conversations)[_0x5721af(0x27c)]((_0x2952a0,_0x507401)=>parseInt(_0x507401)-parseInt(_0x2952a0));_0x29ec66['forEach'](_0x5e3aca=>{const _0x433b56=_0x5721af,_0x1f4f54=conversations[_0x5e3aca],_0x491e5a=document[_0x433b56(0x2a9)](_0x433b56(0x2f5));_0x491e5a['className']=_0x433b56(0x1b2);const _0x5a0eda=document['createElement'](_0x433b56(0x25f));_0x5a0eda[_0x433b56(0x223)]=_0x433b56(0x1fd)+new Date(parseInt(_0x5e3aca))[_0x433b56(0x292)](),_0x5a0eda[_0x433b56(0x32d)]=()=>loadConversation(_0x5e3aca);const _0x1e8961=document[_0x433b56(0x2a9)]('i');_0x1e8961[_0x433b56(0x334)]=_0x433b56(0x1cb),_0x1e8961[_0x433b56(0x32d)]=_0xef9f4b=>{const _0x107306=_0x433b56;_0xef9f4b[_0x107306(0x20c)](),deleteConversation(_0x5e3aca);},_0x491e5a[_0x433b56(0x336)](_0x5a0eda),_0x491e5a['appendChild'](_0x1e8961),_0x3f454e['appendChild'](_0x491e5a);});}function deleteConversation(_0x7d6983){const _0x1b0751=_0x42af67;confirm(_0x1b0751(0x24b))&&(delete conversations[_0x7d6983],localStorage[_0x1b0751(0x308)](_0x1b0751(0x26d)+currentUser[_0x1b0751(0x1dc)],JSON[_0x1b0751(0x3c6)](conversations)),updateConversationHistory());}function createNewConversation(){const _0x453496=_0x42af67;currentConversation[_0x453496(0x3a2)]>0x0&&saveConversation();currentConversation=[];const _0x2f91e7=document[_0x453496(0x35d)]('messageContainer');_0x2f91e7[_0x453496(0x207)]='',updateConversationHistory(),addMessageToChat('ai',_0x453496(0x36a)),_0x2f91e7[_0x453496(0x21d)]=0x0,document['getElementById'](_0x453496(0x35b))[_0x453496(0x253)]();}function loadConversation(_0xf7043e){const _0x35ffdc=_0x42af67;currentConversation['length']>0x0&&currentConversation['id']!==_0xf7043e&&saveConversation();currentConversation=conversations[_0xf7043e],currentConversation['id']=_0xf7043e;const _0x5dd2ab=document[_0x35ffdc(0x35d)](_0x35ffdc(0x3b9));_0x5dd2ab[_0x35ffdc(0x207)]='',currentConversation[_0x35ffdc(0x2fe)](_0xe36eb=>{const _0x5895c3=_0x35ffdc;addMessageToChat(_0xe36eb[_0x5895c3(0x1d0)],_0xe36eb[_0x5895c3(0x1b1)]);}),_0x5dd2ab[_0x35ffdc(0x21d)]=0x0;}async function syncUserData(){const _0x45eea6=_0x42af67;if(!currentUser)return;const _0x5a9373={'freeCredits':currentUser[_0x45eea6(0x3a0)]||0x0,'paidCredits':currentUser[_0x45eea6(0x38e)]||0x0,'lastFreeCreditsReset':currentUser['lastFreeCreditsReset']||new Date()['toISOString']()};currentUser[_0x45eea6(0x1d4)]&&(_0x5a9373[_0x45eea6(0x1d4)]=currentUser[_0x45eea6(0x1d4)]);currentUser['subscriptionEndDate']&&(_0x5a9373['subscriptionEndDate']=currentUser[_0x45eea6(0x35c)]);const _0x42ca31=db[_0x45eea6(0x375)](_0x45eea6(0x25a)+currentUser[_0x45eea6(0x1dc)]);try{await _0x42ca31['update'](_0x5a9373),console[_0x45eea6(0x393)](_0x45eea6(0x291),_0x5a9373);}catch(_0x480be6){console[_0x45eea6(0x3a3)](_0x45eea6(0x1e1),_0x480be6),showNotification('Erreur\x20lors\x20de\x20la\x20mise\x20√†\x20jour\x20de\x20votre\x20profil.\x20Veuillez\x20r√©essayer.','error');}}function adjustTextareaHeight(){const _0xe93717=_0x42af67,_0x4ec286=document['getElementById']('userInput');_0x4ec286[_0xe93717(0x396)][_0xe93717(0x383)]=_0xe93717(0x1c9),_0x4ec286['style'][_0xe93717(0x383)]=_0x4ec286[_0xe93717(0x2bf)]+'px';}function resetTextareaHeight(){const _0x87ae44=_0x42af67,_0x3cc5f0=document[_0x87ae44(0x35d)](_0x87ae44(0x35b));_0x3cc5f0[_0x87ae44(0x396)][_0x87ae44(0x383)]=_0x87ae44(0x1c9);}async function attemptAutoLogin(){const _0x1593aa=_0x42af67,_0x559039=getStoredLoginInfo();if(_0x559039[_0x1593aa(0x1dc)]&&_0x559039[_0x1593aa(0x246)])try{const _0x51f9f9=db[_0x1593aa(0x375)](_0x1593aa(0x25a)+_0x559039[_0x1593aa(0x1dc)]),_0x49d9d4=await _0x51f9f9[_0x1593aa(0x20b)](_0x1593aa(0x266));if(_0x49d9d4['exists']()&&_0x49d9d4[_0x1593aa(0x242)]()[_0x1593aa(0x246)]===_0x559039[_0x1593aa(0x246)]){const _0x313180=_0x49d9d4['val']();currentUser={'username':_0x559039[_0x1593aa(0x1dc)],'freeCredits':_0x313180[_0x1593aa(0x3a0)],'paidCredits':_0x313180[_0x1593aa(0x38e)],'subscription':_0x313180[_0x1593aa(0x1d4)],'subscriptionEndDate':_0x313180[_0x1593aa(0x35c)],'lastFreeCreditsReset':_0x313180[_0x1593aa(0x382)]},await resetFreeCreditsIfNeeded(),updateUIForLoggedInUser(),console[_0x1593aa(0x393)](_0x1593aa(0x1f3));}else clearLoginInfo(),console[_0x1593aa(0x393)](_0x1593aa(0x2c0));}catch(_0x3d7c41){console['error'](_0x1593aa(0x2e3),_0x3d7c41),clearLoginInfo();}}function saveSelectedModel(){const _0x1aafd1=_0x42af67,_0x287d81=document[_0x1aafd1(0x35d)]('modelSelect')[_0x1aafd1(0x266)];localStorage[_0x1aafd1(0x308)]('selectedModel',_0x287d81);}function loadSelectedModel(){const _0x1f2c08=_0x42af67,_0x2c742f=localStorage['getItem']('selectedModel');_0x2c742f&&(document[_0x1f2c08(0x35d)](_0x1f2c08(0x2d6))[_0x1f2c08(0x266)]=_0x2c742f);}function showUpgradeButton(_0x3b6ea4){const _0x4b0745=_0x42af67,_0x653f81=document['createElement'](_0x4b0745(0x29e));_0x653f81['textContent']=_0x4b0745(0x240),_0x653f81[_0x4b0745(0x334)]='upgrade-button',_0x653f81['onclick']=()=>{const _0x218943=_0x4b0745;hasValidSubscription()||currentUser['paidCredits']>0x0?(document['getElementById']('modelSelect')[_0x218943(0x266)]=_0x218943(0x1fb),showNotification(_0x218943(0x31f),_0x218943(0x1db))):showPaymentNotification('Vous\x20avez\x20besoin\x20d\x27un\x20abonnement\x20ou\x20de\x20cr√©dits\x20payants\x20pour\x20utiliser\x20ce\x20mod√®le.');},_0x3b6ea4[_0x4b0745(0x336)](_0x653f81);}function animateResponse(_0x2640d9,_0x3a6673){const _0x4e33fd=_0x42af67;let _0x3976bb=0x0;_0x2640d9[_0x4e33fd(0x223)]='';const _0x480579=setInterval(()=>{const _0x54762d=_0x4e33fd;_0x3976bb<_0x3a6673[_0x54762d(0x3a2)]?(_0x2640d9[_0x54762d(0x223)]+=_0x3a6673[_0x3976bb],_0x3976bb++):clearInterval(_0x480579);},0x1);}function loadPromptCategories(){const _0x2d502b=_0x42af67,_0x52ee46=document[_0x2d502b(0x35d)]('promptCategories');_0x52ee46[_0x2d502b(0x207)]='',db[_0x2d502b(0x375)](_0x2d502b(0x200))[_0x2d502b(0x20b)]('value',_0x4bd20=>{const _0x479594=_0x2d502b;prompts=_0x4bd20[_0x479594(0x242)]()||{};const _0x170d54=[...new Set(Object[_0x479594(0x296)](prompts)[_0x479594(0x3a1)](_0x8acb9b=>_0x8acb9b[_0x479594(0x21f)]))];_0x170d54['forEach'](_0x45a6d1=>{const _0x4dc0fe=_0x479594,_0x2fadac=document[_0x4dc0fe(0x2a9)]('li');_0x2fadac[_0x4dc0fe(0x223)]=_0x45a6d1,_0x2fadac[_0x4dc0fe(0x32d)]=()=>{const _0x44a72e=_0x4dc0fe;document[_0x44a72e(0x2e9)](_0x44a72e(0x257))[_0x44a72e(0x2fe)](_0x5d06c9=>_0x5d06c9[_0x44a72e(0x1e4)]['remove']('active')),_0x2fadac[_0x44a72e(0x1e4)][_0x44a72e(0x2a0)](_0x44a72e(0x210)),loadPromptsForCategory(_0x45a6d1);},_0x52ee46[_0x4dc0fe(0x336)](_0x2fadac);}),_0x170d54['length']>0x0&&(loadPromptsForCategory(_0x170d54[0x0]),_0x52ee46[_0x479594(0x357)]['classList'][_0x479594(0x2a0)](_0x479594(0x210)));});}function loadPromptsForCategory(_0xcd771c){const _0x4e5e54=_0x42af67,_0x10233d=document[_0x4e5e54(0x35d)](_0x4e5e54(0x354));_0x10233d[_0x4e5e54(0x207)]='',Object[_0x4e5e54(0x2f4)](prompts)['forEach'](([_0x49eab8,_0xdc0c3f])=>{const _0x496616=_0x4e5e54;if(_0xdc0c3f[_0x496616(0x21f)]===_0xcd771c){const _0x50e649=document[_0x496616(0x2a9)]('li');_0x50e649['innerHTML']=_0x496616(0x302)+_0x49eab8+_0x496616(0x255)+JSON[_0x496616(0x3c6)](_0xdc0c3f)['replace'](/"/g,'&quot;')+')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22prompt-title\x22>'+_0xdc0c3f[_0x496616(0x3a9)]+_0x496616(0x2b1),_0x10233d[_0x496616(0x336)](_0x50e649);}});}function selectPrompt(_0x39b6f1,_0x41ee35){const _0x4c18cb=_0x42af67;pinnedPrompt={'id':_0x39b6f1,..._0x41ee35},updatePinnedPrompt(),closePromptModal(),showNotification(_0x4c18cb(0x212),_0x4c18cb(0x1db));const _0x22be2e=document['getElementById'](_0x4c18cb(0x35b));_0x22be2e['placeholder']=pinnedPrompt['indicativeText']||_0x4c18cb(0x30e),adjustTextareaHeight();}function closePromptModal(){const _0x272fe8=_0x42af67;document[_0x272fe8(0x35d)](_0x272fe8(0x1b8))[_0x272fe8(0x396)]['display']='none';}function togglePromptList(){const _0x4d353e=_0x42af67,_0x2e3255=document[_0x4d353e(0x35d)]('promptListModal');_0x2e3255['style'][_0x4d353e(0x1fa)]=_0x4d353e(0x30c),loadPromptCategories();}function updatePinnedPrompt(){const _0x315320=_0x42af67,_0xc4732e=document[_0x315320(0x35d)](_0x315320(0x219)),_0x3e2e86=_0xc4732e['querySelector'](_0x315320(0x2aa));_0x3e2e86&&_0x3e2e86[_0x315320(0x233)]();if(pinnedPrompt){const _0x1a5da0=document['createElement'](_0x315320(0x2f5));_0x1a5da0[_0x315320(0x334)]=_0x315320(0x281),_0x1a5da0['setAttribute']('data-type',_0x315320(0x33e)),_0x1a5da0[_0x315320(0x207)]=_0x315320(0x2de)+pinnedPrompt['title']+'\x22>'+pinnedPrompt[_0x315320(0x3a9)]+_0x315320(0x1f2),_0xc4732e['appendChild'](_0x1a5da0);}}function removePinnedPrompt(){pinnedPrompt=null,updatePinnedPrompt();}function openLibrary(){const _0x325e93=_0x42af67;console[_0x325e93(0x393)](_0x325e93(0x1c8));if(currentUser){console[_0x325e93(0x393)](_0x325e93(0x1cc),currentUser);const _0x2828eb={'username':currentUser[_0x325e93(0x1dc)],'freeCredits':currentUser[_0x325e93(0x3a0)],'paidCredits':currentUser[_0x325e93(0x38e)],'subscription':currentUser[_0x325e93(0x1d4)]};localStorage[_0x325e93(0x308)](_0x325e93(0x234),JSON[_0x325e93(0x3c6)](_0x2828eb)),console[_0x325e93(0x393)]('Donn√©es\x20utilisateur\x20enregistr√©es\x20dans\x20localStorage'),window[_0x325e93(0x363)]['href']=_0x325e93(0x256);}else console[_0x325e93(0x393)]('Utilisateur\x20non\x20connect√©'),alert(_0x325e93(0x2db));}async function showReferralModal(){const _0x511bf6=_0x42af67,_0x765546=document[_0x511bf6(0x35d)](_0x511bf6(0x398));_0x765546[_0x511bf6(0x396)][_0x511bf6(0x1fa)]='block';const _0x282330=await getOrCreateReferralCode();if(_0x282330){const _0x97aa58=_0x511bf6(0x284)+_0x282330;document[_0x511bf6(0x35d)]('referralLink')[_0x511bf6(0x266)]=_0x97aa58;const _0x2bb516=_0x511bf6(0x24c)+_0x97aa58;document[_0x511bf6(0x35d)]('referralLink')[_0x511bf6(0x2ae)](_0x511bf6(0x38a),_0x2bb516);}else document[_0x511bf6(0x35d)]('referralLink')['value']=_0x511bf6(0x2d3);await updateReferralStats(currentUser['username']);}function generateReferralCode(){const _0x2951fa=_0x42af67;return Math[_0x2951fa(0x1cf)]()[_0x2951fa(0x23c)](0x24)[_0x2951fa(0x270)](0x2,0x8)[_0x2951fa(0x2eb)]();}async function getOrCreateReferralCode(){const _0x27973f=_0x42af67;if(!currentUser)return null;const _0x3a7035=db['ref'](_0x27973f(0x25a)+currentUser[_0x27973f(0x1dc)]),_0x1cd856=await _0x3a7035[_0x27973f(0x20b)](_0x27973f(0x266)),_0x4c9092=_0x1cd856[_0x27973f(0x242)]();if(_0x4c9092&&_0x4c9092[_0x27973f(0x2f8)])return _0x4c9092[_0x27973f(0x2f8)];else{const _0x73472=generateReferralCode();return await _0x3a7035[_0x27973f(0x2e7)]({'referralCode':_0x73472}),_0x73472;}}async function updateReferralStats(_0x26dadc){const _0x4a36fd=_0x42af67,_0x4413ac=db[_0x4a36fd(0x375)](_0x4a36fd(0x25a)+_0x26dadc),_0x471cf8=await _0x4413ac[_0x4a36fd(0x20b)](_0x4a36fd(0x266)),_0x5a2c0a=_0x471cf8[_0x4a36fd(0x242)]();if(_0x5a2c0a&&_0x5a2c0a['referrals']){const _0x160daa=_0x5a2c0a['referrals'],_0x456180=Object[_0x4a36fd(0x353)](_0x160daa)['length'],_0x1c5cd4=Object[_0x4a36fd(0x296)](_0x160daa)['filter'](_0xc7dbfa=>_0xc7dbfa[_0x4a36fd(0x238)])['length'];await _0x4413ac[_0x4a36fd(0x2e7)]({'totalReferrals':_0x456180,'activeReferrals':_0x1c5cd4}),currentUser&&currentUser[_0x4a36fd(0x1dc)]===_0x26dadc&&(document[_0x4a36fd(0x35d)]('totalReferrals')[_0x4a36fd(0x223)]=_0x456180,document['getElementById'](_0x4a36fd(0x3bc))[_0x4a36fd(0x223)]=_0x1c5cd4);}}window[_0x42af67(0x364)]=async function(){const _0x561798=_0x42af67;await attemptAutoLogin();if(currentUser){if(currentUser['freeCredits']===undefined)currentUser[_0x561798(0x3a0)]=0x0;if(currentUser[_0x561798(0x38e)]===undefined)currentUser[_0x561798(0x38e)]=0x0;if(currentUser[_0x561798(0x1d4)]===undefined)currentUser[_0x561798(0x1d4)]=null;if(currentUser[_0x561798(0x35c)]===undefined)currentUser[_0x561798(0x35c)]=null;if(currentUser[_0x561798(0x382)]===undefined)currentUser['lastFreeCreditsReset']=new Date()['toISOString']();const _0x9838ba=db[_0x561798(0x375)]('users/'+currentUser[_0x561798(0x1dc)]),_0x4e61d5=await _0x9838ba[_0x561798(0x20b)](_0x561798(0x266)),_0x3dc9cb=_0x4e61d5[_0x561798(0x242)]();_0x3dc9cb&&(importedFilesCount=_0x3dc9cb[_0x561798(0x267)]||0x0,lastImportReset=new Date(_0x3dc9cb[_0x561798(0x299)]||new Date())),await syncUserData();}await loadApiKeyList(),initializeApiKeyRotation();const _0x12f017=localStorage[_0x561798(0x3bd)](_0x561798(0x1d9))||_0x561798(0x1c1);document[_0x561798(0x395)][_0x561798(0x2ae)](_0x561798(0x3aa),_0x12f017),updateThemeIcon(_0x12f017),setupUIEventListeners();currentUser&&loadConversationHistory();initModals(),loadSelectedModel(),document[_0x561798(0x35d)]('modelSelect')[_0x561798(0x2da)](_0x561798(0x374),saveSelectedModel),restoreAppState(),initializeNewDiscussion(),document[_0x561798(0x395)][_0x561798(0x1e4)]['add'](_0x561798(0x279)),setInterval(checkSubscriptionStatus,0x36ee80),await loadApiKeyList(),initializeGeminiAPI();const _0x3b6cca=document[_0x561798(0x35d)]('modelSelect');!_0x3b6cca[_0x561798(0x266)]&&(_0x3b6cca[_0x561798(0x266)]=_0x561798(0x2fd));};function setupUIEventListeners(){const _0x4f4292=_0x42af67,_0x4ec029=document[_0x4f4292(0x29b)](_0x4f4292(0x3ce)),_0x6bd8ee=document[_0x4f4292(0x35d)](_0x4f4292(0x35b)),_0x5f4eff=document[_0x4f4292(0x29b)](_0x4f4292(0x21b)),_0x28a5a3=_0x4ec029[_0x4f4292(0x29b)](_0x4f4292(0x340));function _0x441056(){const _0x25fc74=_0x4f4292,_0x447c92=_0x4ec029[_0x25fc74(0x23e)],_0x5f0c40=_0x5f4eff[_0x25fc74(0x23e)],_0x4228e9=document[_0x25fc74(0x35d)](_0x25fc74(0x2c1))['offsetWidth'],_0x144057=_0x28a5a3['offsetWidth'],_0x447bc3=0x1e;_0x6bd8ee[_0x25fc74(0x396)][_0x25fc74(0x1f8)]=_0x447c92-_0x5f0c40-_0x4228e9-_0x144057-_0x447bc3+'px';}_0x441056(),window[_0x4f4292(0x2da)](_0x4f4292(0x2cf),_0x441056),_0x6bd8ee[_0x4f4292(0x2da)](_0x4f4292(0x320),adjustTextareaHeight),document['getElementById'](_0x4f4292(0x2d6))[_0x4f4292(0x2da)](_0x4f4292(0x374),checkModelAccess);window[_0x4f4292(0x26e)]<=0x300&&(document['querySelector'](_0x4f4292(0x344))[_0x4f4292(0x1e4)][_0x4f4292(0x233)](_0x4f4292(0x1fc)),document[_0x4f4292(0x29b)](_0x4f4292(0x33b))[_0x4f4292(0x1e4)]['remove']('sidebar-visible'));if(currentUser){const _0xb349be=db[_0x4f4292(0x375)](_0x4f4292(0x25a)+currentUser[_0x4f4292(0x1dc)]);_0xb349be['on'](_0x4f4292(0x266),_0x341982=>{const _0xf0a5f1=_0x4f4292,_0x2c0392=_0x341982[_0xf0a5f1(0x242)]();_0x2c0392&&(currentUser={...currentUser,'freeCredits':_0x2c0392['freeCredits'],'paidCredits':_0x2c0392['paidCredits'],'subscription':_0x2c0392['subscription'],'subscriptionEndDate':_0x2c0392['subscriptionEndDate'],'lastFreeCreditsReset':_0x2c0392[_0xf0a5f1(0x382)]},updateUIForLoggedInUser());});}}function initModals(){const _0x2b16e7=_0x42af67,_0x4396a5=document[_0x2b16e7(0x2e9)]('.modal'),_0x3b1430=document[_0x2b16e7(0x2e9)](_0x2b16e7(0x1f5));_0x3b1430['forEach'](_0x485ce1=>{const _0x137927=_0x2b16e7;_0x485ce1[_0x137927(0x2da)]('click',()=>{const _0x41558e=_0x137927;_0x485ce1[_0x41558e(0x259)]('.modal')[_0x41558e(0x396)]['display']=_0x41558e(0x330);});}),window['addEventListener'](_0x2b16e7(0x318),_0xe59dc6=>{const _0x577509=_0x2b16e7;_0x4396a5[_0x577509(0x2fe)](_0x5f2b86=>{const _0x4451fe=_0x577509;_0xe59dc6[_0x4451fe(0x30b)]===_0x5f2b86&&(_0x5f2b86[_0x4451fe(0x396)][_0x4451fe(0x1fa)]=_0x4451fe(0x330));});});}window[_0x42af67(0x2da)]('load',async()=>{const _0x26719b=_0x42af67;if(currentUser){const _0x3a9734=await checkGuidedTourStatus(currentUser[_0x26719b(0x1dc)]);!_0x3a9734&&(startGuidedTour(),await markGuidedTourAsSeen(currentUser['username']));}}),document['addEventListener']('keydown',function(_0x1b5368){const _0x2f41bf=_0x42af67;_0x1b5368['key']===_0x2f41bf(0x2b3)&&!_0x1b5368[_0x2f41bf(0x3bb)]&&(_0x1b5368['preventDefault'](),sendMessage());}),document['getElementById'](_0x42af67(0x35b))[_0x42af67(0x2da)]('keydown',function(_0x553b03){const _0x139a81=_0x42af67;if(_0x553b03[_0x139a81(0x36d)]==='Enter'&&_0x553b03[_0x139a81(0x3bb)]){_0x553b03[_0x139a81(0x30d)]();const _0x5c899d=this['selectionStart'],_0x8c0351=this[_0x139a81(0x1b6)],_0x41480b=this[_0x139a81(0x266)];this[_0x139a81(0x266)]=_0x41480b[_0x139a81(0x270)](0x0,_0x5c899d)+'\x0a'+_0x41480b['substring'](_0x8c0351),this[_0x139a81(0x369)]=this[_0x139a81(0x1b6)]=_0x5c899d+0x1;}});function checkApiStatus(){const _0x141ee5=_0x42af67;axios[_0x141ee5(0x32e)](API_BASE_URL+'models?key='+API_KEY)[_0x141ee5(0x31d)](_0x4601b9=>{const _0xcc64d2=_0x141ee5;console[_0xcc64d2(0x393)](_0xcc64d2(0x337),_0x4601b9[_0xcc64d2(0x1d3)]),console[_0xcc64d2(0x393)](_0xcc64d2(0x2df),_0x4601b9[_0xcc64d2(0x229)]);})[_0x141ee5(0x313)](_0x1f9d18=>{const _0x5e140=_0x141ee5;console[_0x5e140(0x3a3)](_0x5e140(0x1ca),_0x1f9d18);});}function checkApiStatusRegularly(){checkApiStatus(),setInterval(checkApiStatus,0xea60);}window[_0x42af67(0x2da)](_0x42af67(0x389),function(){const _0x2e3b53=_0x42af67;showNotification(_0x2e3b53(0x2e4),_0x2e3b53(0x3a3));}),window[_0x42af67(0x2da)]('online',function(){const _0x3409a4=_0x42af67;showNotification(_0x3409a4(0x263),_0x3409a4(0x1db));}),window[_0x42af67(0x2da)](_0x42af67(0x343),function(){const _0x4bb2b4=_0x42af67;currentUser&&localStorage[_0x4bb2b4(0x308)](_0x4bb2b4(0x356),JSON['stringify'](currentConversation));});function restoreAppState(){const _0x37d2d3=_0x42af67,_0x14be65=localStorage[_0x37d2d3(0x3bd)](_0x37d2d3(0x356));_0x14be65&&(currentConversation=JSON[_0x37d2d3(0x20d)](_0x14be65),currentConversation[_0x37d2d3(0x2fe)](_0x213861=>{const _0x235884=_0x37d2d3;addMessageToChat(_0x213861[_0x235884(0x1d0)],_0x213861[_0x235884(0x1b1)]);}));}function isImageGenerationModel(_0x58b053){const _0x179a6e=_0x42af67;return _0x58b053[_0x179a6e(0x1cd)](_0x179a6e(0x33c));}function getRecraftStyle(_0x5cce94){const _0x1644b1=_0x42af67,_0x1955b3={'recraft-realistic':_0x1644b1(0x24e),'recraft-digital':_0x1644b1(0x2a6),'recraft-vector':_0x1644b1(0x1bc),'recraft-icon':'icon'};return _0x1955b3[_0x5cce94]||_0x1644b1(0x24e);}async function initializeImageGenerationTracking(_0x57eee0){const _0xce71d9=_0x42af67,_0x1aa997=db['ref']('users/'+_0x57eee0),_0x4750f2=await _0x1aa997[_0xce71d9(0x21a)](_0xce71d9(0x289))['once']('value'),_0x22370d=_0x4750f2['val']();(!_0x22370d||isNewDay(_0x22370d[_0xce71d9(0x1be)]))&&await _0x1aa997[_0xce71d9(0x21a)]('imageGeneration')[_0xce71d9(0x358)]({'dailyCount':0x0,'lastReset':new Date()[_0xce71d9(0x2ca)]()});}function isNewDay(_0x380f77){const _0x4b6a2d=_0x42af67;if(!_0x380f77)return!![];const _0x458d0d=new Date(_0x380f77),_0x3f1a0f=new Date();return _0x458d0d[_0x4b6a2d(0x346)]()!==_0x3f1a0f[_0x4b6a2d(0x346)]()||_0x458d0d['getMonth']()!==_0x3f1a0f[_0x4b6a2d(0x38c)]()||_0x458d0d[_0x4b6a2d(0x217)]()!==_0x3f1a0f['getFullYear']();}async function getImageGenerationCount(_0x4aa751){const _0x1134e8=_0x42af67,_0x54d9f1=db[_0x1134e8(0x375)](_0x1134e8(0x25a)+_0x4aa751),_0x59b336=await _0x54d9f1[_0x1134e8(0x21a)](_0x1134e8(0x289))['once'](_0x1134e8(0x266)),_0x15c1d6=_0x59b336[_0x1134e8(0x242)]();if(!_0x15c1d6||isNewDay(_0x15c1d6[_0x1134e8(0x1be)]))return await initializeImageGenerationTracking(_0x4aa751),0x0;return _0x15c1d6['dailyCount'];}async function incrementImageGenerationCount(_0x588f99){const _0x4b0978=_0x42af67,_0x781942=db[_0x4b0978(0x375)](_0x4b0978(0x25a)+_0x588f99);await _0x781942[_0x4b0978(0x21a)](_0x4b0978(0x289))[_0x4b0978(0x2f3)](_0x15c016=>{const _0x2f3fc3=_0x4b0978;if(!_0x15c016||isNewDay(_0x15c016[_0x2f3fc3(0x1be)]))return{'dailyCount':0x1,'lastReset':new Date()['toISOString']()};return{'dailyCount':_0x15c016[_0x2f3fc3(0x222)]+0x1,'lastReset':_0x15c016[_0x2f3fc3(0x1be)]};});}function _0xc23b(_0x10382d,_0x1985ec){const _0xe95e3c=_0xe95e();return _0xc23b=function(_0xc23b96,_0x1422f7){_0xc23b96=_0xc23b96-0x1b1;let _0x4fc0cf=_0xe95e3c[_0xc23b96];return _0x4fc0cf;},_0xc23b(_0x10382d,_0x1985ec);}async function canGenerateImage(){const _0x5abc7d=_0x42af67,_0xbc77a4=await getImageGenerationCount(currentUser['username']),_0x445e5e=hasValidSubscription(),_0x1229c9=currentUser[_0x5abc7d(0x38e)]>=0x5||currentUser[_0x5abc7d(0x3a0)]>=0x5;if(_0x445e5e&&_0xbc77a4<0x5)return{'canGenerate':!![],'useFreeGeneration':!![],'message':_0x5abc7d(0x386)+(0x5-_0xbc77a4)+_0x5abc7d(0x372)};if(_0x1229c9)return{'canGenerate':!![],'useFreeGeneration':![],'message':'G√©n√©ration\x20avec\x20consommation\x20de\x205\x20cr√©dits'};return{'canGenerate':![],'useFreeGeneration':![],'message':'Vous\x20n\x27avez\x20pas\x20assez\x20de\x20cr√©dits\x20pour\x20g√©n√©rer\x20une\x20image.'};}function confirmCreditUsage(_0xdc338f){return new Promise(_0x292ed9=>{const _0x502827=_0xc23b,_0xdf45c9=document[_0x502827(0x2a9)](_0x502827(0x2f5));_0xdf45c9[_0x502827(0x334)]=_0x502827(0x3cc),_0xdf45c9[_0x502827(0x207)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0xdc338f+_0x502827(0x2b4),document[_0x502827(0x395)][_0x502827(0x336)](_0xdf45c9),setTimeout(()=>_0xdf45c9['classList'][_0x502827(0x2a0)](_0x502827(0x283)),0x64);function _0xd96f7b(_0x5beea9){const _0x382c42=_0x502827,_0x22cee1=_0x5beea9['target'][_0x382c42(0x259)](_0x382c42(0x331))[_0x382c42(0x2af)](_0x382c42(0x300));_0xdf45c9[_0x382c42(0x1e4)]['remove'](_0x382c42(0x283)),setTimeout(()=>{const _0x2f5137=_0x382c42;_0xdf45c9['remove'](),_0x292ed9(_0x22cee1===_0x2f5137(0x264));},0x12c);}_0xdf45c9[_0x502827(0x2e9)](_0x502827(0x29e))[_0x502827(0x2fe)](_0x33d7d3=>{const _0x33455c=_0x502827;_0x33d7d3[_0x33455c(0x2da)]('click',_0xd96f7b);});});}function parseMarkdownTable(_0x15ad47){const _0x336df2=_0x42af67,_0x153bf6=_0x15ad47['trim']()[_0x336df2(0x321)]('\x0a');if(_0x153bf6[_0x336df2(0x3a2)]<0x3)return null;const _0x131570=_0x153bf6['every'](_0x1d4f2f=>_0x1d4f2f['trim']()['startsWith']('|')&&_0x1d4f2f[_0x336df2(0x3b4)]()['endsWith']('|'));if(!_0x131570)return null;const _0x35e193=_0x153bf6['map'](_0x119f80=>{const _0x4b7964=_0x336df2,_0x3786fe=_0x119f80[_0x4b7964(0x3b4)]()[_0x4b7964(0x391)](0x1,-0x1)[_0x4b7964(0x321)]('|')[_0x4b7964(0x3a1)](_0x56091d=>_0x56091d[_0x4b7964(0x3b4)]());return _0x3786fe;}),_0x4510fd=_0x35e193[0x0],_0x2e0c99=_0x35e193[_0x336df2(0x391)](0x2);let _0x17838c=_0x336df2(0x1bd);return _0x4510fd[_0x336df2(0x2fe)](_0x2a595a=>{const _0x221ed0=_0x336df2;_0x17838c+=_0x221ed0(0x3ca)+_0x2a595a+_0x221ed0(0x3a7);}),_0x17838c+=_0x336df2(0x342),_0x2e0c99[_0x336df2(0x2fe)](_0x3d5896=>{const _0x241ae7=_0x336df2;_0x17838c+=_0x241ae7(0x226),_0x3d5896[_0x241ae7(0x2fe)](_0x57428e=>{const _0x121258=_0x241ae7;_0x17838c+=_0x121258(0x37f)+_0x57428e+_0x121258(0x23b);}),_0x17838c+='</tr>';}),_0x17838c+=_0x336df2(0x2f1),_0x17838c+=_0x336df2(0x3c0),_0x17838c;}function processMessageContent(_0x4f26c7){const _0x3e33eb=/\|[\s\S]+?\n[-|\s]+\n[\s\S]+?\n(?=\n|$)/g;return _0x4f26c7['replace'](_0x3e33eb,_0x26ca65=>{const _0x26afd5=parseMarkdownTable(_0x26ca65);return _0x26afd5||_0x26ca65;});}function addMessageToChat(_0x42f0fa,_0x82bc9c){const _0x213e90=_0x42af67,_0x589a95=document[_0x213e90(0x35d)](_0x213e90(0x3b9)),_0x3d8723=document[_0x213e90(0x2a9)](_0x213e90(0x2f5));_0x3d8723['classList'][_0x213e90(0x2a0)](_0x213e90(0x3a8),_0x42f0fa===_0x213e90(0x306)?'user-message':'ai-message');if(_0x42f0fa==='ai'){let _0x3e3a42=_0x82bc9c;_0x3e3a42=_0x3e3a42[_0x213e90(0x2a4)](/^\*\*/gm,'\x0a'),_0x3e3a42=_0x3e3a42[_0x213e90(0x2a4)](/\*\*/g,''),_0x3e3a42=formatMarkdownTable(_0x3e3a42);const _0x42b6fe=document[_0x213e90(0x2a9)](_0x213e90(0x2f5));_0x42b6fe['innerHTML']=_0x3e3a42,_0x3d8723[_0x213e90(0x336)](_0x42b6fe);const _0x3d1571=document[_0x213e90(0x2a9)](_0x213e90(0x2f5));_0x3d1571[_0x213e90(0x1e4)]['add'](_0x213e90(0x2b7)),_0x3d1571['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyResponse(this.parentNode.parentNode)\x22><i\x20class=\x22fas\x20fa-copy\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22exportResponse(this.parentNode.parentNode,\x20\x27pdf\x27)\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22shareResponse(this.parentNode.parentNode)\x22><i\x20class=\x22fas\x20fa-share-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22reply-button\x22\x20onclick=\x22pinResponse(this.parentNode.parentNode)\x22><i\x20class=\x22fas\x20fa-reply\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x3d8723['appendChild'](_0x3d1571);}else _0x3d8723[_0x213e90(0x223)]=_0x82bc9c;return _0x589a95[_0x213e90(0x336)](_0x3d8723),_0x589a95[_0x213e90(0x21d)]=_0x589a95[_0x213e90(0x2bf)],_0x3d8723;}function formatMarkdownTable(_0x1c04a9){const _0xbb90b2=_0x42af67,_0x1ff3a4=/\|(.+)\|\n\|(?:[-:|]+\|)+\n(\|(?:.+\|)+\n?)+/g;return _0x1c04a9[_0xbb90b2(0x2a4)](_0x1ff3a4,function(_0x11ad8e){const _0x3085db=_0xbb90b2,_0x2376d7=_0x11ad8e['trim']()[_0x3085db(0x321)]('\x0a');if(_0x2376d7['length']<0x3)return _0x11ad8e;let _0x2fb2e7=_0x3085db(0x341);const _0x55c75c=_0x2376d7[0x0][_0x3085db(0x321)]('|')[_0x3085db(0x2a7)](_0x3a66f=>_0x3a66f[_0x3085db(0x3b4)]());return _0x2fb2e7+=_0x3085db(0x32c),_0x55c75c['forEach'](_0x1bf243=>{const _0x42efef=_0x3085db;_0x2fb2e7+=_0x42efef(0x3ca)+_0x1bf243[_0x42efef(0x3b4)]()+_0x42efef(0x3a7);}),_0x2fb2e7+=_0x3085db(0x22f),_0x2fb2e7+=_0x3085db(0x2ad),_0x2376d7['slice'](0x2)[_0x3085db(0x2fe)](_0x2edbe6=>{const _0x477782=_0x3085db,_0x400104=_0x2edbe6['split']('|')[_0x477782(0x2a7)](_0x524fca=>_0x524fca[_0x477782(0x3b4)]());_0x400104[_0x477782(0x3a2)]>0x0&&(_0x2fb2e7+=_0x477782(0x226),_0x400104['forEach'](_0x258078=>{const _0x4ff87c=_0x477782;_0x2fb2e7+=_0x4ff87c(0x37f)+_0x258078[_0x4ff87c(0x3b4)]()+_0x4ff87c(0x23b);}),_0x2fb2e7+=_0x477782(0x335));}),_0x2fb2e7+=_0x3085db(0x319),_0x2fb2e7;});}function updateUI(){const _0x272eb2=_0x42af67;currentUser&&(document['getElementById'](_0x272eb2(0x3a0))[_0x272eb2(0x223)]=currentUser[_0x272eb2(0x3a0)],document[_0x272eb2(0x35d)](_0x272eb2(0x38e))['textContent']=currentUser[_0x272eb2(0x38e)],document[_0x272eb2(0x35d)](_0x272eb2(0x1d4))[_0x272eb2(0x223)]=currentUser[_0x272eb2(0x1d4)]||_0x272eb2(0x388));}document[_0x42af67(0x2da)](_0x42af67(0x318),function(_0x39be8b){const _0x4be215=_0x42af67,_0x4ce592=document[_0x4be215(0x29b)]('.sidebar'),_0x20dc62=document['querySelector'](_0x4be215(0x1bf));_0x4ce592[_0x4be215(0x1e4)][_0x4be215(0x379)](_0x4be215(0x1fc))&&!_0x4ce592['contains'](_0x39be8b[_0x4be215(0x30b)])&&!_0x20dc62[_0x4be215(0x379)](_0x39be8b[_0x4be215(0x30b)])&&(toggleSidebar(),_0x39be8b[_0x4be215(0x30d)]());}),window[_0x42af67(0x20e)]=function(_0x3fc0f8){const _0x48ae00=_0x42af67,_0x4e3357=document['querySelector'](_0x48ae00(0x344));if(_0x4e3357[_0x48ae00(0x1e4)][_0x48ae00(0x379)](_0x48ae00(0x1fc)))return toggleSidebar(),_0x3fc0f8[_0x48ae00(0x30d)](),history[_0x48ae00(0x3cf)]({},'',''),![];},document[_0x42af67(0x35d)](_0x42af67(0x203))[_0x42af67(0x2be)]='.pdf,.jpg,.jpeg,.png,.docx,.doc',setInterval(updateUI,0x493e0),checkApiStatusRegularly(),window[_0x42af67(0x1f7)]=showLoginModal,window['showRegisterModal']=showRegisterModal,window[_0x42af67(0x2b0)]=login,window[_0x42af67(0x3ad)]=register,window[_0x42af67(0x28d)]=logout,window[_0x42af67(0x2ea)]=sendMessage,window['buySubscription']=buySubscription,window[_0x42af67(0x28e)]=buyCredits,window[_0x42af67(0x268)]=toggleTheme,window[_0x42af67(0x27b)]=toggleSidebar,window[_0x42af67(0x3ab)]=createNewConversation,window[_0x42af67(0x37a)]=handleFileUpload,window[_0x42af67(0x294)]=togglePromptList,window[_0x42af67(0x2a2)]=showReferralModal,window['generateReferralCode']=generateReferralCode,window[_0x42af67(0x315)]=copyReferralLink,window[_0x42af67(0x36c)]=shareOnFacebook,window['shareOnTwitter']=shareOnTwitter,window[_0x42af67(0x3ae)]=shareOnLinkedIn,window[_0x42af67(0x328)]=shareOnWhatsApp,window[_0x42af67(0x2f7)]=removePinnedFile;
