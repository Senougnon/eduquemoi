const _0xed3f2b=_0x26ea;(function(_0x51b7b9,_0x5652b0){const _0x332969=_0x26ea,_0x245569=_0x51b7b9();while(!![]){try{const _0x1339e7=-parseInt(_0x332969(0x20e))/0x1+-parseInt(_0x332969(0x197))/0x2*(parseInt(_0x332969(0x1b7))/0x3)+parseInt(_0x332969(0x134))/0x4*(-parseInt(_0x332969(0x235))/0x5)+-parseInt(_0x332969(0x2b3))/0x6*(-parseInt(_0x332969(0x1c2))/0x7)+parseInt(_0x332969(0x112))/0x8+-parseInt(_0x332969(0x1c7))/0x9+parseInt(_0x332969(0x128))/0xa;if(_0x1339e7===_0x5652b0)break;else _0x245569['push'](_0x245569['shift']());}catch(_0x2707b4){_0x245569['push'](_0x245569['shift']());}}}(_0x24fc,0x8fb4e));const API_KEY=_0xed3f2b(0xef),API_BASE_URL=_0xed3f2b(0x1f4);let currentUser=null,pinnedFiles=[],currentConversation=[],conversations={};const FREE_CREDITS_PER_DAY=0x3,FREE_CREDITS_REGISTER=0xa,FREE_MODEL_MAX_WORDS=0xc350,FREE_MODEL_MAX_RESPONSE=0x7d0,SYSTEM_INSTRUCTION=_0xed3f2b(0x194),firebaseConfig={'apiKey':_0xed3f2b(0x1e1),'authDomain':_0xed3f2b(0x155),'databaseURL':_0xed3f2b(0x1f3),'projectId':_0xed3f2b(0x212),'storageBucket':_0xed3f2b(0x1e3),'messagingSenderId':'277143630015','appId':_0xed3f2b(0x10e),'measurementId':'G-CSN292219J'};firebase[_0xed3f2b(0x2a3)](firebaseConfig);const db=firebase[_0xed3f2b(0x268)]();let prompts={},pinnedPrompt=null,pinnedResponses=[],genAI;const API_KEY_LIST_REF=db[_0xed3f2b(0x100)](_0xed3f2b(0x17d));let apiKeyList=[];async function loadApiKeyList(){const _0x355cce=_0xed3f2b;try{const _0x116ca5=await API_KEY_LIST_REF['once']('value'),_0x165843=_0x116ca5['val']();_0x165843?apiKeyList=Object[_0x355cce(0x2af)](_0x165843):console[_0x355cce(0x2b2)]('Aucune\x20clé\x20API\x20trouvée\x20dans\x20la\x20base\x20de\x20données.');}catch(_0x1a6496){console[_0x355cce(0x12a)]('Erreur\x20lors\x20du\x20chargement\x20de\x20la\x20liste\x20des\x20clés\x20API:',_0x1a6496);}}function getRandomApiKey(){const _0x22151c=_0xed3f2b;if(apiKeyList['length']===0x0)return console[_0x22151c(0x12a)](_0x22151c(0x227)),null;const _0x459b20=Math['floor'](Math['random']()*apiKeyList[_0x22151c(0x28f)]);return apiKeyList[_0x459b20];}function initializeGeminiAPI(){const _0x40d836=_0xed3f2b,_0x5bca82=getRandomApiKey();_0x5bca82?(genAI=new GoogleGenerativeAI(_0x5bca82),model=genAI['getGenerativeModel']({'model':document[_0x40d836(0x1be)](_0x40d836(0x222))['value'],'systemInstruction':SYSTEM_INSTRUCTION})):showNotification(_0x40d836(0x2b4),'error');}function _0x26ea(_0x5ba9d5,_0x45d80c){const _0x24fcd4=_0x24fc();return _0x26ea=function(_0x26ea0,_0x2d4131){_0x26ea0=_0x26ea0-0xee;let _0x27c0e7=_0x24fcd4[_0x26ea0];return _0x27c0e7;},_0x26ea(_0x5ba9d5,_0x45d80c);}function createPointer(){const _0x355657=_0xed3f2b,_0x4eba1a=document[_0x355657(0x136)](_0x355657(0x142));return _0x4eba1a[_0x355657(0x17c)]['add'](_0x355657(0x23b)),_0x4eba1a[_0x355657(0x238)]='👆',_0x4eba1a[_0x355657(0x214)][_0x355657(0x109)]=_0x355657(0x186),_0x4eba1a[_0x355657(0x214)]['display']=_0x355657(0x141),document[_0x355657(0x1ba)]['appendChild'](_0x4eba1a),_0x4eba1a;}function positionPointer(_0x2bbadc,_0x4f973e){const _0x128272=_0xed3f2b,_0x2f1374=_0x4f973e['getBoundingClientRect']();_0x2bbadc[_0x128272(0x214)][_0x128272(0x2a7)]=_0x2f1374[_0x128272(0x2a7)]+_0x2f1374['width']/0x2+'px',_0x2bbadc[_0x128272(0x214)]['top']=_0x2f1374[_0x128272(0x122)]+_0x2f1374[_0x128272(0x2a2)]/0x2+'px',_0x2bbadc[_0x128272(0x214)][_0x128272(0x1bb)]=_0x128272(0x240);}function highlightElement(_0x1f641f){const _0x12e5cd=_0xed3f2b;_0x1f641f[_0x12e5cd(0x17c)][_0x12e5cd(0xfc)](_0x12e5cd(0x27c));}function removeHighlight(_0x22e820){_0x22e820['classList']['remove']('tour-highlight');}function startGuidedTour(){const _0x552d91=_0xed3f2b,_0x22f502=createPointer(),_0x536932=new Shepherd['Tour']({'defaultStepOptions':{'cancelIcon':{'enabled':!![]},'classes':'shepherd-theme-custom','scrollTo':{'behavior':'smooth','block':'center'}}}),_0x5c2c73=[{'id':'welcome','text':_0x552d91(0x1cd),'attachTo':{'element':_0x552d91(0x27e),'on':_0x552d91(0x294)}},{'id':'menu','text':_0x552d91(0x1d5),'attachTo':{'element':'.toggle-sidebar','on':_0x552d91(0x25c)},'beforeShow':()=>{const _0x4e1003=_0x552d91,_0x58648b=document['querySelector'](_0x4e1003(0x229));highlightElement(_0x58648b);const _0x383e05=document[_0x4e1003(0x14f)]('.sidebar');!_0x383e05[_0x4e1003(0x17c)][_0x4e1003(0xf3)](_0x4e1003(0x1ea))&&_0x58648b[_0x4e1003(0x248)]();},'beforeHide':()=>{const _0x3217c2=_0x552d91,_0xd72a1f=document[_0x3217c2(0x14f)](_0x3217c2(0x229));removeHighlight(_0xd72a1f);}},{'id':_0x552d91(0x152),'text':'Voici\x20la\x20zone\x20de\x20saisie.\x20C\x27est\x20ici\x20que\x20vous\x20poserez\x20vos\x20questions.','attachTo':{'element':'.input-container','on':'top'}},{'id':_0x552d91(0x1d4),'text':_0x552d91(0x236),'attachTo':{'element':_0x552d91(0x249),'on':_0x552d91(0x122)}},{'id':'prompt-list','text':'Ce\x20bouton\x20ouvre\x20la\x20liste\x20des\x20demandes\x20personnalisées\x20(Utile\x20si\x20vous\x20ne\x20savez\x20pas\x20comment\x20faire\x20une\x20demande).','attachTo':{'element':_0x552d91(0x169),'on':_0x552d91(0x122)}},{'id':_0x552d91(0x263),'text':_0x552d91(0x13f),'attachTo':{'element':'.input-actions\x20button:last-child','on':_0x552d91(0x122)}},{'id':_0x552d91(0x225),'text':_0x552d91(0x2b9),'attachTo':{'element':_0x552d91(0x290),'on':_0x552d91(0x294)}}];_0x5c2c73[_0x552d91(0x230)]((_0x26f01b,_0x27c1b9)=>{const _0x2bedf4=_0x552d91;_0x536932[_0x2bedf4(0x24f)]({..._0x26f01b,'buttons':[{'text':_0x27c1b9===_0x5c2c73[_0x2bedf4(0x28f)]-0x1?_0x2bedf4(0x258):_0x2bedf4(0x161),'action':_0x27c1b9===_0x5c2c73[_0x2bedf4(0x28f)]-0x1?_0x536932['complete']:_0x536932[_0x2bedf4(0x2d2)]}],'beforeShow':()=>{const _0x3c44b4=_0x2bedf4,_0x337c65=document[_0x3c44b4(0x14f)](_0x26f01b[_0x3c44b4(0x205)][_0x3c44b4(0x2ab)]);_0x337c65&&positionPointer(_0x22f502,_0x337c65),_0x26f01b['beforeShow']&&_0x26f01b[_0x3c44b4(0x20b)]();},'beforeHide':()=>{const _0x38141f=_0x2bedf4;_0x22f502[_0x38141f(0x214)][_0x38141f(0x1bb)]='none';}});}),_0x536932['on'](_0x552d91(0x1f9),()=>{const _0x4747c9=_0x552d91;_0x22f502[_0x4747c9(0x23d)]();const _0x425de0=document[_0x4747c9(0x14f)](_0x4747c9(0x1b8));_0x425de0[_0x4747c9(0x17c)][_0x4747c9(0xf3)](_0x4747c9(0x1ea))&&document[_0x4747c9(0x14f)](_0x4747c9(0x229))['click']();}),_0x536932[_0x552d91(0x2be)]();}async function checkGuidedTourStatus(_0x59d76e){const _0x2f778d=_0xed3f2b,_0x2a729e=db['ref'](_0x2f778d(0x252)+_0x59d76e),_0x59f0e6=await _0x2a729e[_0x2f778d(0x251)](_0x2f778d(0x200)),_0x267a01=_0x59f0e6[_0x2f778d(0x18a)]();return _0x267a01&&_0x267a01[_0x2f778d(0x2c0)];}async function markGuidedTourAsSeen(_0x4620eb){const _0x2116df=_0xed3f2b,_0xa8064b=db[_0x2116df(0x100)](_0x2116df(0x252)+_0x4620eb);await _0xa8064b[_0x2116df(0x168)]({'hasSeenGuidedTour':!![]});}async function checkSubscriptionStatus(){const _0x38921f=_0xed3f2b;if(!currentUser||!currentUser[_0x38921f(0xf9)])return;const _0x2c2ee7=new Date(),_0x19bcf9=new Date(currentUser['subscriptionEndDate']);if(_0x2c2ee7>_0x19bcf9)currentUser[_0x38921f(0x156)]=null,currentUser['subscriptionEndDate']=null,await syncUserData(),showNotification('Votre\x20abonnement\x20a\x20expiré.',_0x38921f(0x24e)),updateUIForLoggedInUser();else{if(_0x2c2ee7>new Date(_0x19bcf9[_0x38921f(0x208)]()-0x3*0x18*0x3c*0x3c*0x3e8)){const _0x267bb8=Math['ceil']((_0x19bcf9-_0x2c2ee7)/(0x18*0x3c*0x3c*0x3e8));showNotification(_0x38921f(0x198)+_0x267bb8+_0x38921f(0x138)+(_0x267bb8>0x1?'s':'')+'.','warning');}}}function generateInvoicePDF(_0x36b8a0){const _0x1b71e0=_0xed3f2b,{jsPDF:_0x546b8e}=window[_0x1b71e0(0x23e)],_0x1e6259=new _0x546b8e();return _0x1e6259[_0x1b71e0(0x1f7)](0x12),_0x1e6259[_0x1b71e0(0xf6)](_0x1b71e0(0x291),0x69,0x14,null,null,'center'),_0x1e6259[_0x1b71e0(0x1f7)](0xc),_0x1e6259[_0x1b71e0(0xf6)](_0x1b71e0(0x2b5)+currentUser[_0x1b71e0(0x177)],0x14,0x28),_0x1e6259[_0x1b71e0(0xf6)](_0x1b71e0(0x2d8)+new Date()[_0x1b71e0(0x29f)](),0x14,0x32),_0x1e6259['text']('Description\x20:\x20'+_0x36b8a0['description'],0x14,0x3c),_0x1e6259[_0x1b71e0(0xf6)](_0x1b71e0(0x1c1)+_0x36b8a0[_0x1b71e0(0x179)]+_0x1b71e0(0x247),0x14,0x46),_0x1e6259['text'](_0x1b71e0(0x24a)+_0x36b8a0['id'],0x14,0x50),_0x1e6259;}function showInvoiceDetails(_0xc566f){const _0x151793=_0xed3f2b,_0x3cfce1=document[_0x151793(0x136)]('div');_0x3cfce1[_0x151793(0x279)]=_0x151793(0x209),_0x3cfce1[_0x151793(0x238)]=_0x151793(0x181)+new Date()[_0x151793(0x29f)]()+_0x151793(0x150)+_0xc566f['description']+_0x151793(0x2b8)+_0xc566f[_0x151793(0x179)]+_0x151793(0x201)+_0xc566f['id']+_0x151793(0x14e),document[_0x151793(0x1ba)]['appendChild'](_0x3cfce1),document[_0x151793(0x1be)](_0x151793(0x24b))['addEventListener'](_0x151793(0x248),()=>{const _0x272b02=_0x151793,_0x2da293=generateInvoicePDF(_0xc566f);_0x2da293['save'](_0x272b02(0x1d1)+_0xc566f['id']+_0x272b02(0x140));}),document[_0x151793(0x1be)](_0x151793(0x11c))[_0x151793(0x2cc)]('click',()=>{const _0x539e23=_0x151793;document[_0x539e23(0x1ba)][_0x539e23(0x126)](_0x3cfce1);});}function initializeNewDiscussion(){const _0x39dfce=_0xed3f2b;currentConversation=[];const _0x371c00=document[_0x39dfce(0x1be)]('messageContainer');_0x371c00[_0x39dfce(0x238)]='',addMessageToChat('ai',_0x39dfce(0x11d)),updateConversationHistory();}function showLoginModal(){const _0x29164b=_0xed3f2b;document['getElementById'](_0x29164b(0x20a))[_0x29164b(0x214)]['display']=_0x29164b(0x240);}function showRegisterModal(){const _0x1b19c6=_0xed3f2b;document[_0x1b19c6(0x1be)]('registerModal')[_0x1b19c6(0x214)]['display']=_0x1b19c6(0x240);}function closeModal(_0x367807){const _0x235013=_0xed3f2b;document[_0x235013(0x1be)](_0x367807)['style'][_0x235013(0x1bb)]=_0x235013(0x141);}function updateUIForLoggedInUser(){const _0x334585=_0xed3f2b;document[_0x334585(0x1be)]('loginBtn')[_0x334585(0x17c)]['add']('hidden'),document[_0x334585(0x1be)](_0x334585(0x260))['classList'][_0x334585(0xfc)](_0x334585(0x210)),document[_0x334585(0x1be)]('logoutBtn')[_0x334585(0x17c)][_0x334585(0x23d)]('hidden'),document['getElementById'](_0x334585(0x1bc))[_0x334585(0x17c)][_0x334585(0x23d)]('hidden'),document[_0x334585(0x1be)]('username')['textContent']=currentUser[_0x334585(0x177)],document[_0x334585(0x1be)](_0x334585(0x226))['textContent']=currentUser['freeCredits'],document[_0x334585(0x1be)](_0x334585(0x1b6))[_0x334585(0x21e)]=currentUser[_0x334585(0x1b6)],document[_0x334585(0x1be)](_0x334585(0x156))[_0x334585(0x21e)]=currentUser[_0x334585(0x156)]||'Aucun',loadConversationHistory();}function updateUIForLoggedOutUser(){const _0x23b41c=_0xed3f2b;document[_0x23b41c(0x1be)](_0x23b41c(0x23c))['classList'][_0x23b41c(0x23d)]('hidden'),document[_0x23b41c(0x1be)](_0x23b41c(0x260))[_0x23b41c(0x17c)][_0x23b41c(0x23d)](_0x23b41c(0x210)),document[_0x23b41c(0x1be)](_0x23b41c(0x143))[_0x23b41c(0x17c)][_0x23b41c(0xfc)]('hidden'),document[_0x23b41c(0x1be)](_0x23b41c(0x1bc))[_0x23b41c(0x17c)][_0x23b41c(0xfc)](_0x23b41c(0x210)),document[_0x23b41c(0x1be)](_0x23b41c(0x250))[_0x23b41c(0x238)]=_0x23b41c(0x22f);}function storeLoginInfo(_0x51fccc,_0x3aedcd){const _0xd3df4a=_0xed3f2b;localStorage['setItem'](_0xd3df4a(0x29b),_0x51fccc),localStorage[_0xd3df4a(0x182)](_0xd3df4a(0x2b0),_0x3aedcd);}function getStoredLoginInfo(){const _0x44b4a9=_0xed3f2b;return{'username':localStorage[_0x44b4a9(0x154)](_0x44b4a9(0x29b)),'password':localStorage['getItem'](_0x44b4a9(0x2b0))};}function clearLoginInfo(){const _0x10b93d=_0xed3f2b;localStorage[_0x10b93d(0x220)](_0x10b93d(0x29b)),localStorage[_0x10b93d(0x220)](_0x10b93d(0x2b0));}async function register(){const _0xb1a9a6=_0xed3f2b,_0x393e2e=document[_0xb1a9a6(0x1be)](_0xb1a9a6(0x196))[_0xb1a9a6(0x200)],_0x27074c=document[_0xb1a9a6(0x1be)]('registerPassword')[_0xb1a9a6(0x200)],_0x47e657=new URLSearchParams(window[_0xb1a9a6(0x114)][_0xb1a9a6(0x26c)])[_0xb1a9a6(0x28a)](_0xb1a9a6(0x100));if(!_0x393e2e||!_0x27074c){showNotification(_0xb1a9a6(0x233),_0xb1a9a6(0x12a));return;}try{const _0x33b56d=db['ref']('users/'+_0x393e2e),_0x156ff4=await _0x33b56d[_0xb1a9a6(0x251)](_0xb1a9a6(0x200));if(_0x156ff4[_0xb1a9a6(0x1fe)]()){showNotification('Ce\x20nom\x20d\x27utilisateur\x20existe\x20déjà.','error');return;}const _0x5c2049=new Date(),_0x12220e={'password':_0x27074c,'freeCredits':FREE_CREDITS_REGISTER,'paidCredits':0x0,'subscription':null,'subscriptionEndDate':null,'lastFreeCreditsReset':_0x5c2049[_0xb1a9a6(0x1ae)](),'referredBy':_0x47e657||null,'firstPurchase':![],'totalReferrals':0x0,'activeReferrals':0x0,'hasSeenGuidedTour':![]};await _0x33b56d[_0xb1a9a6(0x172)](_0x12220e);if(_0x47e657){const _0x303ed6=await db[_0xb1a9a6(0x100)](_0xb1a9a6(0x191))[_0xb1a9a6(0x228)](_0xb1a9a6(0x2cb))['equalTo'](_0x47e657)['once']('value'),_0x173c9c=_0x303ed6[_0xb1a9a6(0x18a)]();if(_0x173c9c){const _0x3b47b6=Object['keys'](_0x173c9c)[0x0];await db[_0xb1a9a6(0x100)](_0xb1a9a6(0x252)+_0x3b47b6+_0xb1a9a6(0x296)+_0x393e2e)[_0xb1a9a6(0x172)]({'date':_0x5c2049['toISOString'](),'isActive':![]});const _0x3944f4=db[_0xb1a9a6(0x100)](_0xb1a9a6(0x252)+_0x3b47b6);await _0x3944f4[_0xb1a9a6(0x18b)](_0x3d03c1=>{const _0x1eecd7=_0xb1a9a6;return _0x3d03c1&&(_0x3d03c1['totalReferrals']=(_0x3d03c1[_0x1eecd7(0x145)]||0x0)+0x1),_0x3d03c1;}),currentUser&&currentUser[_0xb1a9a6(0x177)]===_0x3b47b6&&(document[_0xb1a9a6(0x1be)](_0xb1a9a6(0x145))[_0xb1a9a6(0x21e)]=(parseInt(document[_0xb1a9a6(0x1be)]('totalReferrals')[_0xb1a9a6(0x21e)])||0x0)+0x1);}}currentUser={'username':_0x393e2e,..._0x12220e},updateUIForLoggedInUser(),showNotification(_0xb1a9a6(0xf4),'success'),closeModal(_0xb1a9a6(0x255)),storeLoginInfo(_0x393e2e,_0x27074c),startGuidedTour(),await markGuidedTourAsSeen(_0x393e2e);}catch(_0x2e4211){console[_0xb1a9a6(0x12a)](_0xb1a9a6(0x113),_0x2e4211),showNotification(_0xb1a9a6(0x2ca),'error');}}async function login(_0x54ab99,_0x21492e){const _0x10a253=_0xed3f2b;(!_0x54ab99||!_0x21492e)&&(_0x54ab99=document[_0x10a253(0x1be)](_0x10a253(0x206))[_0x10a253(0x200)],_0x21492e=document['getElementById'](_0x10a253(0x1ee))[_0x10a253(0x200)]);if(!_0x54ab99||!_0x21492e){showNotification('Veuillez\x20remplir\x20tous\x20les\x20champs.',_0x10a253(0x12a));return;}try{const _0xabcd8c=db['ref'](_0x10a253(0x252)+_0x54ab99),_0x753ddd=await _0xabcd8c['once'](_0x10a253(0x200));if(_0x753ddd[_0x10a253(0x1fe)]()&&_0x753ddd[_0x10a253(0x18a)]()[_0x10a253(0x193)]===_0x21492e){const _0x2493b8=_0x753ddd['val']();currentUser={'username':_0x54ab99,'freeCredits':_0x2493b8['freeCredits']||0x0,'paidCredits':_0x2493b8[_0x10a253(0x1b6)]||0x0,'subscription':_0x2493b8[_0x10a253(0x156)]||null,'subscriptionEndDate':_0x2493b8['subscriptionEndDate']||null,'lastFreeCreditsReset':_0x2493b8[_0x10a253(0x1a6)]||new Date()[_0x10a253(0x1ae)](),'referralCode':_0x2493b8[_0x10a253(0x2cb)]||null,'totalReferrals':_0x2493b8[_0x10a253(0x145)]||0x0,'activeReferrals':_0x2493b8[_0x10a253(0x295)]||0x0},await resetFreeCreditsIfNeeded(),await checkSubscriptionStatus(),await initializeImageGenerationTracking(_0x54ab99),updateUIForLoggedInUser(),storeLoginInfo(_0x54ab99,_0x21492e),loadConversationHistory();const _0x44cc49=await checkGuidedTourStatus(_0x54ab99);!_0x44cc49&&(startGuidedTour(),await markGuidedTourAsSeen(_0x54ab99)),_0x2493b8[_0x10a253(0x25f)]&&await updateReferralStats(_0x54ab99),importedFilesCount=_0x2493b8['importedFilesCount']||0x0,lastImportReset=new Date(_0x2493b8[_0x10a253(0x13b)]||new Date()),await syncUserData(),showNotification(_0x10a253(0x116),'success'),closeModal(_0x10a253(0x20a)),_0x2493b8['customPrompts']&&loadCustomPrompts(_0x2493b8['customPrompts']),checkPendingNotifications(),initializeGeminiAPI(),createNewConversation();}else showNotification('Nom\x20d\x27utilisateur\x20ou\x20mot\x20de\x20passe\x20incorrect.',_0x10a253(0x12a));}catch(_0x4f9623){console[_0x10a253(0x12a)](_0x10a253(0x164),_0x4f9623),showNotification(_0x10a253(0x185),'error');}}async function checkPendingNotifications(){const _0x39665a=_0xed3f2b;if(currentUser['subscription']){const _0x400fb8=new Date(currentUser[_0x39665a(0xf9)]),_0x42d029=new Date(),_0x5e9a8e=Math[_0x39665a(0x1c6)]((_0x400fb8-_0x42d029)/(0x3e8*0x3c*0x3c*0x18));_0x5e9a8e<=0x3&&_0x5e9a8e>0x0&&showNotification(_0x39665a(0x198)+_0x5e9a8e+_0x39665a(0x138)+(_0x5e9a8e>0x1?'s':'')+'.','warning');}!currentUser[_0x39665a(0x156)]&&currentUser[_0x39665a(0x1b6)]<0xa&&currentUser['freeCredits']<0x3&&showNotification('Vos\x20crédits\x20sont\x20faibles.\x20Pensez\x20à\x20recharger\x20votre\x20compte.',_0x39665a(0x1d7));}function loadCustomPrompts(_0x5de9f3){const _0x1c2a9e=_0xed3f2b;Array[_0x1c2a9e(0x11f)](_0x5de9f3)&&_0x5de9f3[_0x1c2a9e(0x230)](_0x8b2a0f=>{!prompts[_0x8b2a0f['id']]&&(prompts[_0x8b2a0f['id']]=_0x8b2a0f);});}function logout(){currentUser&&syncUserData(),currentUser=null,updateUIForLoggedOutUser(),showNotification('Déconnexion\x20réussie.','success'),clearLoginInfo();}async function resetFreeCreditsIfNeeded(){const _0x58b29a=_0xed3f2b,_0x59f046=new Date(),_0x2a7573=new Date(currentUser[_0x58b29a(0x1a6)]);if(_0x59f046['getTime']()-_0x2a7573[_0x58b29a(0x208)]()>=0x18*0x3c*0x3c*0x3e8){const _0x25eb49=currentUser[_0x58b29a(0x226)];currentUser[_0x58b29a(0x226)]=FREE_CREDITS_PER_DAY,currentUser[_0x58b29a(0x1a6)]=_0x59f046[_0x58b29a(0x1ae)](),await syncUserData(),document[_0x58b29a(0x1be)](_0x58b29a(0x226))[_0x58b29a(0x21e)]=currentUser[_0x58b29a(0x226)];const _0x4db4b3=currentUser[_0x58b29a(0x226)]-_0x25eb49;_0x4db4b3>0x0&&showNotification(_0x4db4b3+'\x20crédits\x20gratuits\x20ont\x20été\x20ajoutés\x20à\x20votre\x20compte\x20!',_0x58b29a(0x1e5));}}async function checkModelAccess(){const _0x1d7918=_0xed3f2b,_0x4a0cd0=document[_0x1d7918(0x1be)](_0x1d7918(0x222))[_0x1d7918(0x200)],_0x56a7b6=document[_0x1d7918(0x1be)](_0x1d7918(0xf7));_0x56a7b6[_0x1d7918(0x214)][_0x1d7918(0x1bb)]=isImageGenerationModel(_0x4a0cd0)?_0x1d7918(0x240):_0x1d7918(0x141);if(isImageGenerationModel(_0x4a0cd0)){if(!hasValidSubscription()&&currentUser['paidCredits']<0x5&&currentUser[_0x1d7918(0x226)]<0x5){showPaymentNotification(_0x1d7918(0x18c)),document[_0x1d7918(0x1be)](_0x1d7918(0x222))[_0x1d7918(0x200)]=_0x1d7918(0x2a1),_0x56a7b6[_0x1d7918(0x214)][_0x1d7918(0x1bb)]=_0x1d7918(0x141);return;}}else![_0x1d7918(0x2a1),_0x1d7918(0x1a4)][_0x1d7918(0xfa)](_0x4a0cd0)&&!hasValidSubscription()&&currentUser['paidCredits']<=0x0&&(showPaymentNotification(_0x1d7918(0xf2)),document['getElementById']('modelSelect')['value']=_0x1d7918(0x2a1));}async function handleFileUpload(_0x247916){const _0xb12c70=_0xed3f2b,_0x360b4a=_0x247916[_0xb12c70(0x1e9)][_0xb12c70(0x20c)];for(let _0xa0861a=0x0;_0xa0861a<_0x360b4a[_0xb12c70(0x28f)];_0xa0861a++){const _0x4791c7=_0x360b4a[_0xa0861a];if(_0x4791c7[_0xb12c70(0x153)]===_0xb12c70(0x28c)||_0x4791c7[_0xb12c70(0x153)]===_0xb12c70(0x257))try{const _0x2808b2=await convertWordToText(_0x4791c7);pinnedFiles[_0xb12c70(0x12e)]({'name':_0x4791c7[_0xb12c70(0x1c4)][_0xb12c70(0x26e)](/\.[^/.]+$/,'')+_0xb12c70(0x282),'type':_0xb12c70(0x289),'content':_0x2808b2}),updatePinnedFiles(),importedFilesCount++,await db[_0xb12c70(0x100)](_0xb12c70(0x252)+currentUser[_0xb12c70(0x177)])['update']({'importedFilesCount':importedFilesCount});}catch(_0x30896b){console[_0xb12c70(0x12a)](_0xb12c70(0x1e2),_0x30896b),showNotification(_0xb12c70(0x1a3),_0xb12c70(0x12a));}else(_0x4791c7[_0xb12c70(0x153)][_0xb12c70(0x215)](_0xb12c70(0x163))||_0x4791c7[_0xb12c70(0x153)]==='application/pdf')&&(pinnedFiles[_0xb12c70(0x12e)](_0x4791c7),updatePinnedFiles());}}function convertWordToText(_0x251aad){return new Promise((_0x371bc0,_0x123888)=>{const _0x104236=_0x26ea,_0x1a2aab=new FileReader();_0x1a2aab[_0x104236(0x22c)]=function(_0x1384af){const _0x3d1995=_0x104236,_0x47de16=_0x1384af['target'][_0x3d1995(0x281)];mammoth[_0x3d1995(0x120)]({'arrayBuffer':_0x47de16})[_0x3d1995(0x167)](function(_0x24ab58){const _0x3abf81=_0x3d1995;_0x371bc0(_0x24ab58[_0x3abf81(0x200)]);})['catch'](function(_0x48e5a7){_0x123888(_0x48e5a7);});},_0x1a2aab[_0x104236(0x111)](_0x251aad);});}function updatePinnedFiles(){const _0x5b4130=_0xed3f2b,_0x56395a=document['getElementById'](_0x5b4130(0x1f8));_0x56395a[_0x5b4130(0x238)]='',pinnedFiles['forEach']((_0x5c946a,_0x38114c)=>{const _0xb241a8=_0x5b4130,_0x15f399=document[_0xb241a8(0x136)](_0xb241a8(0x142));_0x15f399[_0xb241a8(0x279)]=_0xb241a8(0x293),_0x15f399[_0xb241a8(0x238)]=_0xb241a8(0x272)+(_0x5c946a[_0xb241a8(0x153)][_0xb241a8(0x215)]('image/')?_0xb241a8(0x170):'📄')+_0xb241a8(0x1cb)+_0x5c946a[_0xb241a8(0x1c4)]+'\x22>'+_0x5c946a[_0xb241a8(0x1c4)]+_0xb241a8(0x2c1)+_0x38114c+_0xb241a8(0x231),_0x56395a[_0xb241a8(0x1db)](_0x15f399);});}function removePinnedFile(_0x430e4a){pinnedFiles['splice'](_0x430e4a,0x1),updatePinnedFiles();}function createPinnedFilesElement(_0x70428d){const _0x1e5ad9=_0xed3f2b,_0x5a77b3=document[_0x1e5ad9(0x136)](_0x1e5ad9(0x142));return _0x5a77b3[_0x1e5ad9(0x279)]='pinned-files-message',_0x70428d['forEach'](_0x166bce=>{const _0x572037=_0x1e5ad9,_0x305c08=document[_0x572037(0x136)](_0x572037(0x142));_0x305c08[_0x572037(0x279)]=_0x572037(0x1b3);if(_0x166bce[_0x572037(0x153)][_0x572037(0x215)]('image/')){const _0x24ee6e=document['createElement'](_0x572037(0x1b5));_0x24ee6e[_0x572037(0x254)]=URL[_0x572037(0x108)](_0x166bce),_0x24ee6e[_0x572037(0x270)]=_0x166bce[_0x572037(0x1c4)],_0x24ee6e[_0x572037(0x279)]=_0x572037(0x22b),_0x305c08[_0x572037(0x1db)](_0x24ee6e);}else{const _0x31c2dd=document[_0x572037(0x136)]('span');_0x31c2dd[_0x572037(0x279)]=_0x572037(0x2ce),_0x31c2dd[_0x572037(0x21e)]=_0x166bce[_0x572037(0x153)][_0x572037(0x215)](_0x572037(0x219))?'📄':'📎',_0x305c08[_0x572037(0x1db)](_0x31c2dd);}const _0x15793e=document['createElement'](_0x572037(0x10c));_0x15793e[_0x572037(0x279)]=_0x572037(0x26a),_0x15793e[_0x572037(0x21e)]=_0x166bce[_0x572037(0x1c4)],_0x305c08['appendChild'](_0x15793e),_0x5a77b3[_0x572037(0x1db)](_0x305c08);}),_0x5a77b3;}function createPinnedResponsesElement(_0x5a4bcb){const _0x3b2619=_0xed3f2b,_0x48ed32=document[_0x3b2619(0x136)](_0x3b2619(0x142));return _0x48ed32[_0x3b2619(0x279)]=_0x3b2619(0xfb),_0x5a4bcb['forEach'](_0x46c189=>{const _0x47cf4e=_0x3b2619,_0x45d74b=document[_0x47cf4e(0x136)]('div');_0x45d74b[_0x47cf4e(0x279)]=_0x47cf4e(0x10f);const _0x2c53a9=document[_0x47cf4e(0x136)](_0x47cf4e(0x10c));_0x2c53a9[_0x47cf4e(0x279)]=_0x47cf4e(0x184),_0x2c53a9[_0x47cf4e(0x21e)]='💬';const _0x540737=document[_0x47cf4e(0x136)](_0x47cf4e(0x10c));_0x540737[_0x47cf4e(0x279)]=_0x47cf4e(0x1c0),_0x540737[_0x47cf4e(0x21e)]=_0x46c189[_0x47cf4e(0x1dc)],_0x45d74b[_0x47cf4e(0x1db)](_0x2c53a9),_0x45d74b[_0x47cf4e(0x1db)](_0x540737),_0x48ed32[_0x47cf4e(0x1db)](_0x45d74b);}),_0x48ed32;}function createPinnedPromptElement(_0x2a190b){const _0x4c7676=_0xed3f2b,_0x1aa2a6=document['createElement'](_0x4c7676(0x142));_0x1aa2a6[_0x4c7676(0x279)]=_0x4c7676(0x280);const _0x5098ee=document['createElement'](_0x4c7676(0x142));_0x5098ee[_0x4c7676(0x279)]=_0x4c7676(0xfe);const _0x45f7cc=document[_0x4c7676(0x136)](_0x4c7676(0x10c));_0x45f7cc[_0x4c7676(0x279)]=_0x4c7676(0x27b),_0x45f7cc[_0x4c7676(0x21e)]='🤖';const _0x40be8b=document[_0x4c7676(0x136)](_0x4c7676(0x10c));return _0x40be8b[_0x4c7676(0x279)]=_0x4c7676(0x11b),_0x40be8b[_0x4c7676(0x21e)]=_0x2a190b[_0x4c7676(0x115)],_0x5098ee['appendChild'](_0x45f7cc),_0x5098ee[_0x4c7676(0x1db)](_0x40be8b),_0x1aa2a6[_0x4c7676(0x1db)](_0x5098ee),_0x1aa2a6;}async function sendMessage(){const _0x96712c=_0xed3f2b;if(!currentUser){showNotification(_0x96712c(0x13d),_0x96712c(0x12a));return;}const _0x52223f=document[_0x96712c(0x1be)](_0x96712c(0x264))[_0x96712c(0x200)][_0x96712c(0x218)](),_0x566ae0=document[_0x96712c(0x1be)](_0x96712c(0x222))['value'];if(!_0x52223f&&pinnedFiles['length']===0x0&&pinnedResponses[_0x96712c(0x28f)]===0x0&&!pinnedPrompt){showNotification(_0x96712c(0x283),'error');return;}if(isImageGenerationModel(_0x566ae0))try{const _0x176537=await canGenerateImage();if(!_0x176537['canGenerate']){showPaymentNotification(_0x176537['message']);return;}const _0x52d418=document['getElementById']('imageSizeSelect')['value'],_0x1c7489=getRecraftStyle(_0x566ae0),_0x1ae4f3=addLoadingMessage('Génération\x20de\x20l\x27image\x20en\x20cours...'),_0x431786=await fetch(_0x96712c(0x2c6),{'method':_0x96712c(0x261),'headers':{'Content-Type':_0x96712c(0x286),'Authorization':_0x96712c(0x1b1)+RECRAFT_API_KEY},'body':JSON[_0x96712c(0x2b7)]({'prompt':_0x52223f,'style':_0x1c7489,'size':_0x52d418})});_0x1ae4f3[_0x96712c(0x23d)]();if(!_0x431786['ok'])throw new Error(_0x96712c(0x26d));const _0x52bca9=await _0x431786[_0x96712c(0x1f6)](),_0x93c9ac=_0x52bca9[_0x96712c(0x1d0)][0x0][_0x96712c(0x207)],_0x4a3adc=document[_0x96712c(0x136)](_0x96712c(0x142));_0x4a3adc['className']=_0x96712c(0x1e4),_0x4a3adc[_0x96712c(0x238)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x93c9ac+_0x96712c(0x271)+_0x52223f+_0x96712c(0x174)+_0x1c7489[_0x96712c(0x26e)]('_','\x20')[_0x96712c(0x190)]()+_0x96712c(0x1cc)+_0x52d418+_0x96712c(0x1fa)+(_0x176537[_0x96712c(0x13a)]?_0x96712c(0x24d):_0x96712c(0x27d))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22downloadImage(\x27'+_0x93c9ac+_0x96712c(0x246)+_0x93c9ac+_0x96712c(0x28b)+_0x93c9ac+_0x96712c(0x13c),document[_0x96712c(0x1be)](_0x96712c(0x117))[_0x96712c(0x1db)](_0x4a3adc);if(_0x176537[_0x96712c(0x13a)]){await incrementImageGenerationCount(currentUser[_0x96712c(0x177)]);const _0x3ff5a3=await getImageGenerationCount(currentUser[_0x96712c(0x177)]);showNotification(_0x96712c(0x127)+(0x5-_0x3ff5a3)+_0x96712c(0x22e),_0x96712c(0x1e5));}else await updateCredits(_0x566ae0,0x5),showNotification('Image\x20générée\x20avec\x20succès!\x205\x20crédits\x20ont\x20été\x20déduits.',_0x96712c(0x1e5));document['getElementById'](_0x96712c(0x264))[_0x96712c(0x200)]='',resetTextareaHeight();return;}catch(_0x272df8){console['error']('Erreur\x20de\x20génération\x20d\x27image:',_0x272df8),showNotification(_0x96712c(0x267),_0x96712c(0x12a));return;}let _0x34ef14=0x1;_0x34ef14+=pinnedFiles[_0x96712c(0x2bb)](_0x146536=>_0x146536[_0x96712c(0x153)]!==_0x96712c(0x289))[_0x96712c(0x28f)],_0x34ef14+=pinnedResponses['length'];if(!hasValidSubscription()){if(_0x566ae0===_0x96712c(0x2a1)){if(currentUser['paidCredits']>=_0x34ef14)showNotification(_0x96712c(0x1d8),_0x96712c(0x24e));else{if(currentUser['freeCredits']>=_0x34ef14)showNotification(_0x96712c(0x2d3),_0x96712c(0x24e));else{showPaymentNotification(_0x96712c(0x2ae));return;}}}else{if(![_0x96712c(0x1a4)][_0x96712c(0xfa)](_0x566ae0)){if(currentUser[_0x96712c(0x1b6)]<_0x34ef14){showPaymentNotification(_0x96712c(0x14a));return;}}else{if(currentUser[_0x96712c(0x226)]<_0x34ef14&&currentUser['paidCredits']<_0x34ef14){showPaymentNotification(_0x96712c(0x25d));return;}}}}let _0xd57259=_0x52223f,_0x2ba3c2=_0x52223f;const _0x2ba4ea=[...pinnedFiles],_0x49d027=[...pinnedResponses],_0x6cbf27=pinnedPrompt;pinnedFiles=[],pinnedResponses=[],pinnedPrompt=null,updatePinnedItems();const _0x32ad4c=document[_0x96712c(0x136)](_0x96712c(0x142));_0x32ad4c['className']='message\x20user-message';if(_0x2ba4ea[_0x96712c(0x28f)]>0x0){const _0x24f1ab=createPinnedFilesElement(_0x2ba4ea);_0x32ad4c['appendChild'](_0x24f1ab),_0x2ba3c2+=_0x96712c(0x10a),_0x2ba4ea[_0x96712c(0x230)](_0xfa0591=>{const _0x344d1a=_0x96712c;_0x2ba3c2+='-\x20'+_0xfa0591['name']+'\x20('+_0xfa0591[_0x344d1a(0x153)]+')\x0a';});}if(_0x49d027['length']>0x0){const _0x210fcc=createPinnedResponsesElement(_0x49d027);_0x32ad4c[_0x96712c(0x1db)](_0x210fcc),_0x2ba3c2+='\x0a\x0a**Réponses\x20épinglées:**\x0a',_0x49d027['forEach'](_0x353365=>{const _0x2e5623=_0x96712c;_0x2ba3c2+='-\x20'+_0x353365[_0x2e5623(0xf6)]+'\x0a';});}if(_0x6cbf27){const _0xdecdf0=createPinnedPromptElement(_0x6cbf27);_0x32ad4c[_0x96712c(0x1db)](_0xdecdf0),_0x2ba3c2=_0x6cbf27[_0x96712c(0x273)]+'\x0a\x0a'+_0x2ba3c2;}if(_0xd57259){const _0x249778=document[_0x96712c(0x136)]('p');_0x249778[_0x96712c(0x21e)]=_0xd57259,_0x32ad4c[_0x96712c(0x1db)](_0x249778);}const _0x216d9=document[_0x96712c(0x1be)](_0x96712c(0x117));_0x216d9['appendChild'](_0x32ad4c),_0x216d9[_0x96712c(0x1b4)]=_0x216d9[_0x96712c(0x1b0)],document['getElementById'](_0x96712c(0x264))[_0x96712c(0x200)]='',resetTextareaHeight();const _0x3162f9=document[_0x96712c(0x14f)]('.input-actions\x20button:last-child');_0x3162f9[_0x96712c(0x17c)][_0x96712c(0xfc)](_0x96712c(0x1a1)),_0x3162f9['disabled']=!![];try{const _0x31b01d=[];let _0x572ebd='';const _0x2e0b30=currentConversation[_0x96712c(0x1c9)](-0x5);_0x2e0b30['forEach'](_0x490090=>{const _0x50959b=_0x96712c;_0x572ebd+=(_0x490090[_0x50959b(0x202)]===_0x50959b(0x1da)?_0x50959b(0x1da):_0x50959b(0x19c))+':\x20'+_0x490090[_0x50959b(0x273)]+'\x0a';}),_0x2ba3c2=_0x572ebd+'\x0a'+_0x2ba3c2,_0x31b01d[_0x96712c(0x12e)]({'text':_0x2ba3c2});for(const _0x4d371f of _0x2ba4ea){if(_0x4d371f['type']==='text/plain')_0x31b01d['push']({'text':_0x96712c(0x1a2)+_0x4d371f[_0x96712c(0x273)]});else{const _0x27bc13=await readFileAsBase64(_0x4d371f);_0x31b01d[_0x96712c(0x12e)]({'inlineData':{'data':_0x27bc13,'mimeType':_0x4d371f[_0x96712c(0x153)]}}),_0x31b01d[_0x96712c(0x12e)]({'text':'Analyse\x20le\x20fichier\x20'+_0x4d371f['name']+'\x20('+_0x4d371f[_0x96712c(0x153)]+_0x96712c(0x2c8)});}}model=genAI[_0x96712c(0x217)]({'model':_0x566ae0,'systemInstruction':SYSTEM_INSTRUCTION});const _0x45e56d=await model[_0x96712c(0x22a)](_0x31b01d),_0x28aaf5=await _0x45e56d['response'];let _0x46e5a1=_0x28aaf5['text'](),_0x4655c5;if(_0x566ae0===_0x96712c(0x1a4)||_0x566ae0==='gemini-1.5-flash'&&currentUser[_0x96712c(0x1b6)]<_0x34ef14){const _0x3ef3e8=_0x46e5a1['split'](/\s+/);_0x3ef3e8['length']>FREE_MODEL_MAX_RESPONSE?(_0x46e5a1=_0x3ef3e8[_0x96712c(0x1c9)](0x0,FREE_MODEL_MAX_RESPONSE)[_0x96712c(0x2d4)]('\x20')+_0x96712c(0x1ef),showNotification(_0x96712c(0x106)+FREE_MODEL_MAX_RESPONSE+_0x96712c(0x21d),_0x96712c(0x24e)),_0x4655c5=addMessageToChat('ai',_0x46e5a1),showUpgradeButton(_0x4655c5)):_0x4655c5=addMessageToChat('ai',_0x46e5a1);}else _0x4655c5=addMessageToChat('ai',_0x46e5a1);currentConversation[_0x96712c(0x12e)]({'sender':_0x96712c(0x1da),'content':_0x52223f}),currentConversation[_0x96712c(0x12e)]({'sender':'ai','content':_0x46e5a1}),await updateCredits(_0x566ae0,_0x34ef14),saveConversation();}catch(_0x65e830){console[_0x96712c(0x12a)](_0x96712c(0x1ed),_0x65e830),showNotification('Erreur\x20:\x20'+_0x65e830[_0x96712c(0x1bd)]+_0x96712c(0x239),_0x96712c(0x12a));}finally{_0x3162f9['classList'][_0x96712c(0x23d)](_0x96712c(0x1a1)),_0x3162f9['disabled']=![];}}function addLoadingMessage(_0x26893b){const _0x3b4fb7=_0xed3f2b,_0x1f217b=document[_0x3b4fb7(0x136)](_0x3b4fb7(0x142));return _0x1f217b[_0x3b4fb7(0x279)]=_0x3b4fb7(0x274),_0x1f217b[_0x3b4fb7(0x238)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loading-spinner\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x26893b+_0x3b4fb7(0x1e0),document[_0x3b4fb7(0x1be)](_0x3b4fb7(0x117))['appendChild'](_0x1f217b),_0x1f217b;}async function downloadImage(_0x20880a,_0x21e4f4){const _0x550b45=_0xed3f2b;try{const _0x53222d=await fetch(_0x20880a),_0x478239=await _0x53222d[_0x550b45(0x23f)](),_0x24ca8e=window[_0x550b45(0x160)]['createObjectURL'](_0x478239),_0x4b45f4=document[_0x550b45(0x136)]('a');_0x4b45f4['href']=_0x24ca8e,_0x4b45f4[_0x550b45(0x1f5)]=_0x21e4f4,document[_0x550b45(0x1ba)][_0x550b45(0x1db)](_0x4b45f4),_0x4b45f4[_0x550b45(0x248)](),document[_0x550b45(0x1ba)]['removeChild'](_0x4b45f4),window['URL']['revokeObjectURL'](_0x24ca8e);}catch(_0x459d9c){showNotification(_0x550b45(0xf8),'error');}}function copyImage(_0xeede29){const _0x4d71f0=_0xed3f2b;navigator[_0x4d71f0(0x1de)]['writeText'](_0xeede29)[_0x4d71f0(0x167)](()=>showNotification('Lien\x20de\x20l\x27image\x20copié\x20dans\x20le\x20presse-papiers!',_0x4d71f0(0x1e5)))['catch'](()=>showNotification('Erreur\x20lors\x20de\x20la\x20copie\x20du\x20lien.',_0x4d71f0(0x12a)));}function shareImage(_0x21c951){const _0x1ce373=_0xed3f2b;navigator[_0x1ce373(0x12b)]?navigator['share']({'title':'Image\x20générée\x20par\x20Eduque\x20moi','text':_0x1ce373(0x12f),'url':_0x21c951})[_0x1ce373(0x167)](()=>showNotification(_0x1ce373(0x1e6),'success'))[_0x1ce373(0x2a4)](_0xff69ce=>{const _0x28b8ee=_0x1ce373;console['error'](_0x28b8ee(0x1d6),_0xff69ce),showNotification(_0x28b8ee(0x28e),'error');}):copyImage(_0x21c951);}function pinResponse(_0xfb2b2a){const _0x589ce0=_0xed3f2b,_0xf5a42e=_0xfb2b2a['querySelector']('div:first-child')[_0x589ce0(0x21e)],_0x2bdcad=_0xf5a42e[_0x589ce0(0x28f)]>0x32?_0xf5a42e['substring'](0x0,0x32)+_0x589ce0(0x1ad):_0xf5a42e;pinnedResponses['push']({'text':_0xf5a42e,'displayText':_0x2bdcad}),updatePinnedItems();}function updatePinnedItems(){const _0x6495d8=_0xed3f2b,_0x1d2a66=document[_0x6495d8(0x1be)](_0x6495d8(0x1f8));_0x1d2a66[_0x6495d8(0x238)]='',pinnedFiles[_0x6495d8(0x230)]((_0x598845,_0x41a149)=>{const _0x5aff6b=_0x6495d8,_0x5d1ffb=document['createElement'](_0x5aff6b(0x142));_0x5d1ffb[_0x5aff6b(0x279)]=_0x5aff6b(0x293),_0x5d1ffb[_0x5aff6b(0x10d)](_0x5aff6b(0x17a),_0x5aff6b(0x1c3)),_0x5d1ffb[_0x5aff6b(0x238)]=_0x5aff6b(0x272)+(_0x598845[_0x5aff6b(0x153)][_0x5aff6b(0x215)](_0x5aff6b(0x163))?'🖼️':'📄')+_0x5aff6b(0x1cb)+_0x598845[_0x5aff6b(0x1c4)]+'\x22>'+_0x598845[_0x5aff6b(0x1c4)]+_0x5aff6b(0x2c4)+_0x41a149+_0x5aff6b(0x231),_0x1d2a66[_0x5aff6b(0x1db)](_0x5d1ffb);}),pinnedResponses[_0x6495d8(0x230)]((_0x46695d,_0x48e1b3)=>{const _0x17d465=_0x6495d8,_0x416724=document[_0x17d465(0x136)]('div');_0x416724[_0x17d465(0x279)]='pinned-item',_0x416724[_0x17d465(0x10d)](_0x17d465(0x17a),_0x17d465(0x2d1)),_0x416724[_0x17d465(0x238)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>💬</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22'+_0x46695d[_0x17d465(0xf6)]+'\x22>'+_0x46695d[_0x17d465(0x1dc)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27response\x27,\x20'+_0x48e1b3+_0x17d465(0x231),_0x1d2a66['appendChild'](_0x416724);});if(pinnedPrompt){const _0x454f5c=document[_0x6495d8(0x136)](_0x6495d8(0x142));_0x454f5c[_0x6495d8(0x279)]=_0x6495d8(0x293),_0x454f5c['setAttribute']('data-type','prompt'),_0x454f5c[_0x6495d8(0x238)]=_0x6495d8(0x17f)+pinnedPrompt[_0x6495d8(0x115)]+'\x22>'+pinnedPrompt[_0x6495d8(0x115)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27prompt\x27)\x22>❌</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x1d2a66['appendChild'](_0x454f5c);}}function _0x24fc(){const _0x4572b3=['pageSize','error','share','conversation-item','showReferralModal','push','Regardez\x20cette\x20image\x20générée\x20par\x20IA!','eduqueMoiUserData','.chat-container','light','resize','16dAXWWj','querySelectorAll','createElement','Erreur\x20lors\x20de\x20la\x20connexion\x20automatique:','\x20jour','prompt','useFreeGeneration','lastImportReset','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-share-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Veuillez\x20vous\x20connecter\x20pour\x20envoyer\x20des\x20messages.','promptListButton','Cliquez\x20ici\x20pour\x20envoyer\x20votre\x20message.','.pdf','none','div','logoutBtn','shiftKey','totalReferrals','readAsDataURL','selectionStart','promptListModal','input','Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20payants\x20pour\x20ce\x20modèle\x20avancé.','Tentative\x20d\x27ouverture\x20de\x20la\x20bibliothèque','stopPropagation','.modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22downloadInvoice\x22>Télécharger\x20la\x20facture\x20en\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeModal\x22>Fermer</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','querySelector','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Description:</strong>\x20','Eduque_moi.docx','input-area','type','getItem','gemini-bb56e.firebaseapp.com','subscription','firstPurchase','\x20a\x20reçu\x2010\x20crédits\x20pour\x20le\x20premier\x20achat\x20de\x20son\x20filleul\x20!','toString','client@example.com','Achat\x20de\x20','firstChild','conversations_','width','&quot;','URL','Suivant','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','image/','Erreur\x20lors\x20de\x20la\x20connexion:','Le\x20paiement\x20a\x20été\x20annulé\x20ou\x20a\x20échoué.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prompt-item\x22\x20onclick=\x22selectPrompt(\x27','then','update','#promptListButton','Conversation\x20du\x20','\x27,\x20','importedFilesCount','shareOnWhatsApp','equalTo','lastConversation','🖼️','entries','set','sidebarState','\x22</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-metadata\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>Style:\x20','shareOnLinkedIn','Lien\x20de\x20partage\x20copié\x20!','username','data-response','amount','data-type','splitTextToSize','classList','API','promptCategories','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>🤖</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22','category','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>Détails\x20de\x20la\x20facture</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Date:</strong>\x20','setItem','substring','response-icon','Erreur\x20lors\x20de\x20la\x20connexion.\x20Veuillez\x20réessayer.','absolute','toggleSidebar','button:last-child','splice','val','transaction','La\x20génération\x20d\x27images\x20nécessite\x205\x20crédits.','handleFileUpload','parse','beforeunload','toUpperCase','users','toggleTheme','password','Tu\x20es\x20Eduque\x20moi,\x20un\x20assistant\x20IA\x20développé\x20par\x20Evisions.\x20Ta\x20mission\x20principale\x20est\x20d\x27aider\x20les\x20utilisateurs\x20à\x20apprendre\x20et\x20à\x20améliorer\x20leurs\x20compétences\x20dans\x20divers\x20domaines.\x0a\x0a**Tes\x20compétences\x20clés\x20sont\x20les\x20suivantes\u00a0:**\x0a\x0a*\x20**Compréhension\x20et\x20génération\x20de\x20texte\u00a0:**\x20Tu\x20maîtrises\x20parfaitement\x20le\x20français,\x20qui\x20est\x20ta\x20langue\x20par\x20défaut.\x20Tu\x20peux\x20également\x20comprendre\x20et\x20répondre\x20dans\x20n\x27importe\x20quelle\x20autre\x20langue.\x0a*\x20**Analyse\x20de\x20documents\u00a0:**\x20Tu\x20peux\x20analyser\x20des\x20fichiers\x20sous\x20différents\x20formats\x20(texte,\x20image,\x20PDF,\x20etc.)\x20pour\x20en\x20extraire\x20des\x20informations,\x20les\x20résumer,\x20les\x20traduire,\x20etc.\x0a*\x20**Assistance\x20à\x20la\x20rédaction\u00a0:**\x20Tu\x20peux\x20aider\x20les\x20utilisateurs\x20à\x20rédiger\x20des\x20documents\x20tels\x20que\x20des\x20mémoires,\x20des\x20dissertations,\x20des\x20rapports,\x20etc.\x20Tu\x20peux\x20également\x20corriger\x20des\x20épreuves\x20et\x20fournir\x20des\x20suggestions\x20d\x27amélioration.\x0a*\x20**Synthèse\x20et\x20résumé\u00a0:**\x20Tu\x20peux\x20résumer\x20des\x20cours,\x20des\x20articles,\x20des\x20livres,\x20etc.\x20et\x20en\x20extraire\x20les\x20points\x20clés.\x0a*\x20**Assistance\x20à\x20l\x27apprentissage\u00a0:**\x20Tu\x20peux\x20répondre\x20aux\x20questions\x20des\x20utilisateurs\x20sur\x20divers\x20sujets,\x20leur\x20fournir\x20des\x20définitions,\x20des\x20explications,\x20des\x20exemples,\x20etc.\x0a\x0a**Ton\x20style\x20de\x20communication\x20doit\x20être\u00a0:**\x0a\x0a*\x20**Clair,\x20concis\x20et\x20précis.**\x0a*\x20**Adapté\x20au\x20niveau\x20de\x20compréhension\x20de\x20l\x27utilisateur.**\x0a*\x20**Amical\x20et\x20encourageant.**\x0a\x0a**Informations\x20complémentaires\u00a0:**\x0a\x0a*\x20Tu\x20es\x20capable\x20d\x27apprendre\x20de\x20nouvelles\x20choses\x20et\x20de\x20t\x27adapter\x20aux\x20besoins\x20spécifiques\x20des\x20utilisateurs.\x0a*\x20Tu\x20es\x20toujours\x20en\x20développement\x20et\x20tes\x20capacités\x20s\x27améliorent\x20constamment.\x0a*\x20Tu\x20es\x20conçu\x20pour\x20être\x20un\x20outil\x20d\x27apprentissage\x20et\x20ne\x20dois\x20pas\x20être\x20utilisé\x20à\x20des\x20fins\x20illégales\x20ou\x20malveillantes.\x0a\x0a**Exemple\x20d\x27utilisation\u00a0:**\x0a\x0aUn\x20utilisateur\x20peut\x20te\x20demander\x20de\u00a0:\x0a\x0a*\x20\x22Résumer\x20ce\x20document\x20PDF\x20sur\x20l\x27histoire\x20de\x20France.\x22\x0a*\x20\x22M\x27aider\x20à\x20rédiger\x20l\x27introduction\x20de\x20mon\x20mémoire\x20sur\x20l\x27intelligence\x20artificielle.\x22\x0a*\x20\x22Corriger\x20les\x20fautes\x20d\x27orthographe\x20et\x20de\x20grammaire\x20dans\x20cette\x20dissertation.\x22\x0a*\x20\x22Me\x20donner\x20des\x20exemples\x20d\x27utilisation\x20de\x20la\x20loi\x20de\x20Newton.\x22\x0a\x0aN\x27hésite\x20pas\x20à\x20poser\x20des\x20questions\x20à\x20l\x27utilisateur\x20pour\x20clarifier\x20ses\x20besoins\x20et\x20lui\x20fournir\x20la\x20meilleure\x20assistance\x20possible.','referralLink','registerUsername','2287758bIMstm','Votre\x20abonnement\x20expire\x20dans\x20','https://www.facebook.com/sharer/sharer.php?u=','fas\x20fa-moon','preventDefault','model','copyReferralLink','keydown','promptList','pdf','loading','Analyse\x20ce\x20fichier\x20texte:\x20','Erreur\x20lors\x20de\x20la\x20conversion\x20du\x20fichier\x20Word.','gemini-1.0-pro','\x0a\x0aPS\x20:\x20En\x20utilisant\x20mon\x20lien,\x20vous\x20me\x20donnez\x20un\x20petit\x20coup\x20de\x20pouce.\x20Mais\x20chut,\x20c\x27est\x20notre\x20secret\x20!\x20😉','lastFreeCreditsReset','meta[name=\x22color-scheme\x22]','prompts','.notification','resolveNotification','creditSelect','getMonth','...','toISOString','div:first-child','scrollHeight','Bearer\x20','selectedModel','pinned-file','scrollTop','img','paidCredits','3pmIMad','.sidebar','digital_illustration','body','display','userInfo','message','getElementById','shareOnFacebook','response-text','Montant\x20:\x20','89061JyuQVy','file','name','onclick','ceil','6648201XsFcXP','_blank','slice','referredBy','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>Taille:\x20','Bienvenue\x20sur\x20Eduque\x20moi\x20!\x20Commençons\x20la\x20visite\x20guidée.','togglePromptList','setDate','data','facture_','Partage\x20réussi','\x20crédits\x20pour\x20Eduque\x20moi','file-upload','Voici\x20le\x20menu\x20principal.\x20Il\x20vous\x20permet\x20d\x27accéder\x20à\x20différentes\x20fonctionnalités\x20de\x20l\x27application\x20(Models,\x20Crédits,\x20Bibliothèque,\x20Récompense...).','Erreur\x20lors\x20du\x20partage:','warning','Utilisation\x20de\x20crédits\x20payants\x20pour\x20Gemini\x201.5\x20Flash.','Export\x20en\x20','user','appendChild','displayText','button','clipboard','closest','</p>\x0a\x20\x20\x20\x20','AIzaSyCvizcYorGDPN3GXqma0opp7wAiMkaCt64','Erreur\x20lors\x20de\x20la\x20conversion\x20du\x20fichier\x20Word\x20:','gemini-bb56e.appspot.com','message\x20ai-message','success','Image\x20partagée\x20avec\x20succès!','fas\x20fa-trash\x20delete-icon','gemini-1.5-pro','target','visible','online','CHECKOUT_COMPLETED','Erreur\x20lors\x20de\x20la\x20génération\x20de\x20la\x20réponse:','loginPassword','...(Utilisez\x20un\x20modèle\x20avancé\x20pour\x20avoir\x20la\x20suite\x20de\x20ma\x20réponse)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22this.closest(\x27.notification\x27).setAttribute(\x27data-response\x27,\x20\x27true\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Utiliser\x20mes\x20crédits\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22this.closest(\x27.notification\x27).setAttribute(\x27data-response\x27,\x20\x27false\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Annuler\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.pinned-item[data-type=\x22prompt\x22]','Forfait\x20','https://gemini-bb56e-default-rtdb.firebaseio.com','https://generativelanguage.googleapis.com/v1beta/models/','download','json','setFontSize','pinnedItems','complete','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22generation-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setSelectionRange','upgrade-button','&title=Boostez\x20votre\x20apprentissage\x20avec\x20Eduque\x20moi&summary=','exists','sort','value','\x20FCFA</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Numéro\x20de\x20transaction:</strong>\x20','sender','status','Modèles\x20disponibles:','attachTo','loginUsername','url','getTime','modal','loginModal','beforeShow','files','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedPrompt()\x22>❌</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','1078603kmgowy','Erreur\x20lors\x20de\x20la\x20récupération\x20du\x20code\x20de\x20parrainage.','hidden','theme','gemini-bb56e','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','style','startsWith','Connexion\x20automatique\x20réussie','getGenerativeModel','trim','application/pdf','&text=','pk_live_TfSz212W0xSMKK7oPEogkFmp','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20des\x20crédits','\x20mots.','textContent','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20des\x20crédits:','removeItem','showRegisterModal','modelSelect','placeholder','https://eduquemoi.netlify.app/?ref=','message-actions','freeCredits','La\x20liste\x20des\x20clés\x20API\x20est\x20vide.','orderByChild','.toggle-sidebar','generateContent','pinned-image','onload','focus','\x20générations\x20gratuites\x20aujourd\x27hui.','<h3>Historique\x20des\x20conversations</h3>','forEach',')\x22>❌</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','word/document.xml','Veuillez\x20remplir\x20tous\x20les\x20champs.',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22prompt-title\x22>','1086565FQOMjv','Cliquez\x20ici\x20pour\x20importer\x20des\x20fichiers\x20(image,\x20pdf,\x20docx,\x20doc,\x20txt)\x20que\x20vous\x20voulez\x20analyser.','getAttribute','innerHTML','.\x20Veuillez\x20réessayer.','notification\x20error','tour-icon','loginBtn','remove','jspdf','blob','block','child','\x20réussi','dailyCount','getDate','Enter','\x27,\x20\x27image-generee.png\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-download\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyImage(\x27','\x20FCFA','click','.file-label','Numéro\x20de\x20transaction\x20:\x20','downloadInvoice','keys','Génération\x20gratuite\x20(abonnement)','info','addStep','conversationHistory','once','users/','logout','src','registerModal','Erreur\x20lors\x20de\x20la\x20vérification\x20du\x20statut\x20de\x20l\x27API:','application/msword','Terminer','show','Veuillez\x20sélectionner\x20un\x20forfait.','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27free\x27)\x22>Utiliser\x20le\x20modèle\x20gratuit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27subscription\x27)\x22>Acheter\x20un\x20abonnement</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27credits\x27)\x22>Acheter\x20des\x20crédits</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27cancel\x27)\x22>Annuler</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','right','Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20pour\x20envoyer\x20ce\x20message.','Il\x20vous\x20reste\x20','referrals','registerBtn','POST','onpopstate','send-button','userInput','getFullYear','referralModal','Erreur\x20lors\x20de\x20la\x20génération\x20de\x20l\x27image.\x20Veuillez\x20réessayer.','database','offsetWidth','file-name','open','search','Erreur\x20lors\x20de\x20la\x20génération\x20de\x20l\x27image','replace','.theme-toggle\x20i','alt','\x22\x20alt=\x22Image\x20générée\x22\x20style=\x22max-width:\x20100%;\x20border-radius:\x205px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Image\x20générée\x20à\x20partir\x20du\x20prompt\x20:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>','content','message\x20ai-message\x20loading-message','realistic_image','Génération\x20avec\x20consommation\x20de\x205\x20crédits','.input-container','true','className','Le\x20parrain\x20de\x20','prompt-icon','tour-highlight','Génération\x20payante\x20(5\x20crédits)','.logo','.pdf,.jpg,.jpeg,.png,.docx,.doc','pinned-prompt-message','result','.txt','Veuillez\x20entrer\x20un\x20message,\x20joindre\x20un\x20fichier,\x20épingler\x20une\x20réponse\x20ou\x20sélectionner\x20un\x20prompt.','innerWidth','Aucun','application/json','change','subscriptionSelect','text/plain','get','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-copy\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22shareImage(\x27','application/vnd.openxmlformats-officedocument.wordprocessingml.document','toggle','Erreur\x20lors\x20du\x20partage\x20de\x20l\x27image.','length','.message-actions','Facture\x20Eduque\x20moi','toLocaleString','pinned-item','bottom','activeReferrals','/referrals/','\x20crédits\x20ont\x20été\x20ajoutés\x20à\x20votre\x20compte.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','addPage','data-theme','eduqueMoiUsername','Prompt\x20sélectionné','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>💬</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22','shareOnTwitter','toLocaleDateString','max','gemini-1.5-flash','height','initializeApp','catch','Veuillez\x20sélectionner\x20un\x20pack\x20de\x20crédits.','fileInput','left','\x20pour\x20Eduque\x20moi','#promptCategories\x20li','internal','element','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22prompt-select-icon\x22><i\x20class=\x22fas\x20fa-plus-circle\x22></i></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','https://www.linkedin.com/shareArticle?mini=true&url=','Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20pour\x20utiliser\x20Gemini\x201.5\x20Flash.','values','eduqueMoiPassword','log','warn','204QJMAmW','Erreur\x20:\x20Impossible\x20d\x27initialiser\x20l\x27API.\x20Aucune\x20clé\x20API\x20disponible.','Facture\x20pour\x20:\x20','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22buySubscription()\x22>Acheter\x20un\x20abonnement</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22buyCredits()\x22>Acheter\x20des\x20crédits</button>\x0a\x20\x20\x20\x20','stringify','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Montant:</strong>\x20','Ces\x20icônes\x20vous\x20permettent\x20de\x20copier,\x20exporter\x20en\x20PDF,\x20partager\x20ou\x20répondre\x20à\x20un\x20message\x20spécifique.','init','filter','random','Le\x20partage\x20n\x27est\x20pas\x20pris\x20en\x20charge\x20sur\x20votre\x20appareil','start','generateAsync','hasSeenGuidedTour','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedFile(','vector_illustration','ai-message','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27file\x27,\x20','Données\x20utilisateur\x20enregistrées\x20dans\x20localStorage','https://external.api.recraft.ai/v1/images/generations','imageGeneration',')\x20que\x20je\x20viens\x20de\x20t\x27envoyer.','dark','Erreur\x20lors\x20de\x20l\x27inscription.\x20Veuillez\x20réessayer.','referralCode','addEventListener','active','file-icon','\x20activé\x20avec\x20succès\x20!','user-message','response','next','Utilisation\x20de\x20crédits\x20gratuits\x20pour\x20Gemini\x201.5\x20Flash.','join','Eduque_moi.pdf','Données\x20utilisateur\x20mises\x20à\x20jour\x20avec\x20succès:','Attention\x20:\x20vos\x20crédits\x20sont\x20presque\x20épuisés\x20!','Date\x20:\x20','Tapez\x20votre\x20texte\x20ici...','AIzaSyB3umTE3n2d5gwKzOmJz4ss1pFZMR8_vOE','load','&quote=','Ce\x20modèle\x20nécessite\x20un\x20abonnement\x20ou\x20des\x20crédits\x20payants.','contains','Inscription\x20réussie\x20!\x20Vous\x20avez\x20reçu\x2010\x20crédits\x20gratuits.','isActive','text','imageSizeSelect','Erreur\x20lors\x20du\x20téléchargement\x20de\x20l\x27image.','subscriptionEndDate','includes','pinned-responses-message','add','selectionEnd','pinned-prompt','https://wa.me/?text=','ref','🚀\x20Découvrez\x20le\x20secret\x20pour\x20booster\x20votre\x20apprentissage\x20!\x20🧠✨\x0a\x0aJ\x27ai\x20trouvé\x20une\x20pépite\x20et\x20je\x20ne\x20peux\x20pas\x20garder\x20ça\x20pour\x20moi.\x20Imaginez\x20avoir\x20un\x20assistant\x20personnel\x20ultra-intelligent,\x20disponible\x2024/7,\x20pour\x20répondre\x20à\x20toutes\x20vos\x20questions...\x20C\x27est\x20ce\x20que\x20j\x27ai\x20avec\x20Eduque\x20moi\x20!\x0a\x0aCurieux\x20?\x20Cliquez\x20sur\x20ce\x20lien\x20magique\x20et\x20embarquez\x20pour\x20une\x20aventure\x20intellectuelle\x20incroyable\x20:\x0a','lastReset','Erreur\x20lors\x20du\x20partage','Bibliothèque.html','copy','La\x20réponse\x20a\x20été\x20tronquée\x20à\x20','pushState','createObjectURL','position','\x0a\x0a**Fichiers\x20joints:**\x0a','sidebar-visible','span','setAttribute','1:277143630015:web:78736f2cf52d29495d160a','pinned-response','.close','readAsArrayBuffer','8370936IdxbuH','Erreur\x20lors\x20de\x20l\x27inscription:','location','title','Connexion\x20réussie\x20!','messageContainer','Vous\x20êtes\x20hors\x20ligne.\x20Veuillez\x20vérifier\x20votre\x20connexion\x20internet.','Achat\x20d\x27un\x20forfait\x20','Modèle\x20mis\x20à\x20jour\x20vers\x20Gemini\x201.5\x20Pro','prompt-title','closeModal','Bienvenue\x20dans\x20une\x20nouvelle\x20conversation\x20!\x20Comment\x20puis-je\x20vous\x20aider\x20aujourd\x27hui\x20?','createNewConversation','isArray','extractRawText','icon','top','Vous\x20avez\x20besoin\x20d\x27un\x20abonnement\x20ou\x20de\x20crédits\x20payants\x20pour\x20utiliser\x20ce\x20modèle.','fas\x20fa-sun','reason','removeChild','Image\x20générée\x20avec\x20succès!\x20Il\x20vous\x20reste\x20','29400960iXtrqd'];_0x24fc=function(){return _0x4572b3;};return _0x24fc();}function removePinnedItem(_0x80cfe8,_0x4c44aa){const _0x1c4226=_0xed3f2b;if(_0x80cfe8===_0x1c4226(0x1c3))pinnedFiles[_0x1c4226(0x189)](_0x4c44aa,0x1);else{if(_0x80cfe8===_0x1c4226(0x2d1))pinnedResponses[_0x1c4226(0x189)](_0x4c44aa,0x1);else _0x80cfe8===_0x1c4226(0x139)&&(pinnedPrompt=null);}updatePinnedItems();}function replyToMessage(_0x281136){const _0x3f1ae5=_0xed3f2b,_0x5484d8=_0x281136[_0x3f1ae5(0x14f)](_0x3f1ae5(0x1af))[_0x3f1ae5(0x21e)],_0x35ba84=document[_0x3f1ae5(0x1be)](_0x3f1ae5(0x264));_0x35ba84[_0x3f1ae5(0x200)]='>\x20'+_0x5484d8+'\x0a\x0a',_0x35ba84[_0x3f1ae5(0x22d)](),_0x35ba84[_0x3f1ae5(0x1fb)](_0x35ba84['value'][_0x3f1ae5(0x28f)],_0x35ba84['value'][_0x3f1ae5(0x28f)]);}function readFileAsBase64(_0x530305){return new Promise((_0x3dbe7d,_0x3f4c99)=>{const _0x1070d1=_0x26ea,_0xebda76=new FileReader();_0xebda76['onload']=()=>_0x3dbe7d(_0xebda76[_0x1070d1(0x281)]['split'](',')[0x1]),_0xebda76['onerror']=_0x3f4c99,_0xebda76[_0x1070d1(0x146)](_0x530305);});}function hasEnoughCredits(_0x4e3ac4,_0x3ff390){const _0x460c5b=_0xed3f2b,_0x381b38=_0x3ff390>0x0?_0x3ff390:0x1;return _0x4e3ac4==='gemini-1.5-flash'||_0x4e3ac4===_0x460c5b(0x1a4)?currentUser[_0x460c5b(0x226)]>=_0x381b38||currentUser[_0x460c5b(0x1b6)]>=_0x381b38||hasValidSubscription():currentUser['paidCredits']>=_0x381b38||hasValidSubscription();}async function updateCredits(_0x514ecc,_0x37a904){const _0xc66ccd=_0xed3f2b;if(hasValidSubscription()&&!isImageGenerationModel(_0x514ecc))return;const _0x5cbc0f=db['ref'](_0xc66ccd(0x252)+currentUser[_0xc66ccd(0x177)]);try{await _0x5cbc0f[_0xc66ccd(0x18b)](_0x4fb62f=>{const _0x5f58bb=_0xc66ccd;if(_0x4fb62f){if(isImageGenerationModel(_0x514ecc)){if(hasValidSubscription()){const _0x2c4bc9=_0x4fb62f[_0x5f58bb(0x2c7)]?.['dailyCount']||0x0;_0x2c4bc9>=0x5&&(_0x4fb62f[_0x5f58bb(0x1b6)]>=0x5?_0x4fb62f[_0x5f58bb(0x1b6)]-=0x5:_0x4fb62f['freeCredits']=Math[_0x5f58bb(0x2a0)](0x0,_0x4fb62f[_0x5f58bb(0x226)]-0x5));}else _0x4fb62f[_0x5f58bb(0x1b6)]>=0x5?_0x4fb62f[_0x5f58bb(0x1b6)]-=0x5:_0x4fb62f[_0x5f58bb(0x226)]=Math['max'](0x0,_0x4fb62f[_0x5f58bb(0x226)]-0x5);}else{if(!hasValidSubscription()){if(_0x514ecc===_0x5f58bb(0x2a1))_0x4fb62f['paidCredits']>=_0x37a904?_0x4fb62f['paidCredits']-=_0x37a904:_0x4fb62f[_0x5f58bb(0x226)]-=_0x37a904;else{if(_0x514ecc===_0x5f58bb(0x1a4)){if(_0x4fb62f[_0x5f58bb(0x226)]>=_0x37a904)_0x4fb62f['freeCredits']-=_0x37a904;else{const _0x542787=_0x37a904-_0x4fb62f['freeCredits'];_0x4fb62f[_0x5f58bb(0x226)]=0x0,_0x4fb62f[_0x5f58bb(0x1b6)]=Math[_0x5f58bb(0x2a0)](0x0,_0x4fb62f['paidCredits']-_0x542787);}}else _0x4fb62f[_0x5f58bb(0x1b6)]=Math[_0x5f58bb(0x2a0)](0x0,_0x4fb62f[_0x5f58bb(0x1b6)]-_0x37a904);}}}_0x4fb62f['freeCredits']=Math[_0x5f58bb(0x2a0)](0x0,_0x4fb62f[_0x5f58bb(0x226)]),_0x4fb62f[_0x5f58bb(0x1b6)]=Math[_0x5f58bb(0x2a0)](0x0,_0x4fb62f[_0x5f58bb(0x1b6)]);}return _0x4fb62f;});const _0x49bae2=await _0x5cbc0f[_0xc66ccd(0x251)](_0xc66ccd(0x200)),_0x84897=_0x49bae2[_0xc66ccd(0x18a)]();_0x84897&&(currentUser[_0xc66ccd(0x226)]=_0x84897[_0xc66ccd(0x226)],currentUser[_0xc66ccd(0x1b6)]=_0x84897['paidCredits'],document[_0xc66ccd(0x1be)](_0xc66ccd(0x226))[_0xc66ccd(0x21e)]=currentUser[_0xc66ccd(0x226)],document[_0xc66ccd(0x1be)](_0xc66ccd(0x1b6))['textContent']=currentUser[_0xc66ccd(0x1b6)],currentUser[_0xc66ccd(0x226)]===0x0&&currentUser[_0xc66ccd(0x1b6)]<0x5&&showNotification(_0xc66ccd(0x2d7),_0xc66ccd(0x1d7)));}catch(_0x1729a2){console['error'](_0xc66ccd(0x21f),_0x1729a2),showNotification(_0xc66ccd(0x21c),_0xc66ccd(0x12a));}}async function addCreditsToUser(_0x411885){const _0x5b4854=_0xed3f2b,_0xb028ec=db[_0x5b4854(0x100)](_0x5b4854(0x252)+currentUser[_0x5b4854(0x177)]);await _0xb028ec[_0x5b4854(0x18b)](_0x4288ce=>{const _0x2bda1d=_0x5b4854;return _0x4288ce&&(_0x4288ce[_0x2bda1d(0x1b6)]+=_0x411885),_0x4288ce;}),currentUser[_0x5b4854(0x1b6)]=(await _0xb028ec['child'](_0x5b4854(0x1b6))['once']('value'))[_0x5b4854(0x18a)](),document[_0x5b4854(0x1be)](_0x5b4854(0x1b6))[_0x5b4854(0x21e)]=currentUser[_0x5b4854(0x1b6)];}function addMessageToChat(_0x470daf,_0x60c00f){const _0x1cba98=_0xed3f2b,_0x290a9f=document['getElementById']('messageContainer'),_0x251b7f=document['createElement'](_0x1cba98(0x142));_0x251b7f['classList'][_0x1cba98(0xfc)](_0x1cba98(0x1bd),_0x470daf===_0x1cba98(0x1da)?_0x1cba98(0x2d0):_0x1cba98(0x2c3));if(_0x470daf==='ai'){_0x60c00f=_0x60c00f[_0x1cba98(0x26e)](/^\*\*/gm,'\x0a'),_0x60c00f=_0x60c00f['replace'](/\*\*/g,'');const _0x2ad9d2=document[_0x1cba98(0x136)](_0x1cba98(0x142));_0x251b7f[_0x1cba98(0x1db)](_0x2ad9d2),animateResponse(_0x2ad9d2,_0x60c00f);const _0x4e1cff=document['createElement']('div');_0x4e1cff[_0x1cba98(0x17c)][_0x1cba98(0xfc)](_0x1cba98(0x225)),_0x4e1cff[_0x1cba98(0x238)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyResponse(this.parentNode.parentNode)\x22><i\x20class=\x22fas\x20fa-copy\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22exportResponse(this.parentNode.parentNode,\x20\x27pdf\x27)\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22shareResponse(this.parentNode.parentNode)\x22><i\x20class=\x22fas\x20fa-share-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22reply-button\x22\x20onclick=\x22pinResponse(this.parentNode.parentNode)\x22><i\x20class=\x22fas\x20fa-reply\x22></i></button>\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x251b7f[_0x1cba98(0x1db)](_0x4e1cff);}else _0x251b7f[_0x1cba98(0x21e)]=_0x60c00f;return _0x290a9f[_0x1cba98(0x1db)](_0x251b7f),_0x290a9f[_0x1cba98(0x1b4)]=_0x290a9f[_0x1cba98(0x1b0)],currentConversation['push']({'sender':_0x470daf,'content':_0x60c00f}),_0x251b7f;}function copyResponse(_0x56ef8b){const _0x5a035b=_0xed3f2b,_0x19cd52=_0x56ef8b[_0x5a035b(0x14f)]('div:first-child')['textContent'];navigator[_0x5a035b(0x1de)]['writeText'](_0x19cd52)[_0x5a035b(0x167)](()=>{const _0x1b20c7=_0x5a035b;showNotification('Réponse\x20copiée\x20dans\x20le\x20presse-papiers',_0x1b20c7(0x1e5));});}async function exportResponse(_0x5b4f3f,_0x237d4a){const _0x564f70=_0xed3f2b,_0x4318cf=_0x5b4f3f[_0x564f70(0x14f)](_0x564f70(0x1af))[_0x564f70(0x21e)];if(_0x237d4a==='word'){const _0x34802b=await generateWordDoc(_0x4318cf);saveAs(_0x34802b,_0x564f70(0x151));}else{if(_0x237d4a===_0x564f70(0x1a0)){const _0x53d6e0=await generatePDF(_0x4318cf);saveAs(_0x53d6e0,_0x564f70(0x2d5));}}showNotification(_0x564f70(0x1d9)+_0x237d4a['toUpperCase']()+_0x564f70(0x242),_0x564f70(0x1e5));}async function generateWordDoc(_0x49fd27){const _0x308884=_0xed3f2b,_0x5a56c0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<?xml\x20version=\x221.0\x22\x20encoding=\x22UTF-8\x22\x20standalone=\x22yes\x22?>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<w:document\x20xmlns:w=\x22http://schemas.openxmlformats.org/wordprocessingml/2006/main\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:r>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:t>'+_0x49fd27+'</w:t>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:r>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</w:document>\x0a\x20\x20\x20\x20',_0x2e7543=new PizZip();_0x2e7543[_0x308884(0x1c3)](_0x308884(0x232),_0x5a56c0);const _0x104274=await _0x2e7543[_0x308884(0x2bf)]({'type':'blob','mimeType':'application/vnd.openxmlformats-officedocument.wordprocessingml.document'});return _0x104274;}function generatePDF(_0x333e40){const _0x1b391d=_0xed3f2b,{jsPDF:_0x47d42c}=window[_0x1b391d(0x23e)],_0x3b43a4=new _0x47d42c();_0x3b43a4[_0x1b391d(0x1f7)](0x12),_0x3b43a4[_0x1b391d(0xf6)]('',0x14,0x14),_0x3b43a4[_0x1b391d(0x1f7)](0xc);const _0x33d13a=_0x3b43a4[_0x1b391d(0x17b)](_0x333e40,0xaa);let _0x4002a7=0x1e;const _0x4b374d=_0x3b43a4[_0x1b391d(0x2aa)][_0x1b391d(0x129)][_0x1b391d(0x2a2)];for(let _0x4de842=0x0;_0x4de842<_0x33d13a['length'];_0x4de842++){_0x4002a7>_0x4b374d-0x14&&(_0x3b43a4[_0x1b391d(0x299)](),_0x4002a7=0x14),_0x3b43a4[_0x1b391d(0xf6)](_0x33d13a[_0x4de842],0x14,_0x4002a7),_0x4002a7+=0x7;}return _0x3b43a4['output'](_0x1b391d(0x23f));}function shareResponse(_0x3fcc55){const _0x68cc79=_0xed3f2b,_0x4583b9=_0x3fcc55[_0x68cc79(0x14f)]('div:first-child')['textContent'];navigator[_0x68cc79(0x12b)]?navigator[_0x68cc79(0x12b)]({'title':'','text':_0x4583b9})[_0x68cc79(0x167)](()=>{const _0x380fae=_0x68cc79;showNotification(_0x380fae(0x1d2),_0x380fae(0x1e5));})[_0x68cc79(0x2a4)](_0x41cbfe=>{const _0x148273=_0x68cc79;console['error'](_0x148273(0x1d6),_0x41cbfe),showNotification(_0x148273(0x103),_0x148273(0x12a));}):showNotification(_0x68cc79(0x2bd),'error');}function hasValidSubscription(){const _0x2c4b19=_0xed3f2b;if(!currentUser[_0x2c4b19(0x156)]||!currentUser[_0x2c4b19(0xf9)])return![];return new Date()<new Date(currentUser[_0x2c4b19(0xf9)]);}function buySubscription(){const _0x35df37=_0xed3f2b,_0x4ec55a=document[_0x35df37(0x1be)](_0x35df37(0x288))[_0x35df37(0x200)];if(!_0x4ec55a){showNotification(_0x35df37(0x25a),_0x35df37(0x12a));return;}const _0x4eae3b={'24h':0x1f4,'3d':0x4b0,'7d':0x960,'30d':0x1f40,'3m':0x4e20},_0x119661=_0x4eae3b[_0x4ec55a];var _0x1a70b0=FedaPay[_0x35df37(0x2ba)]({'public_key':_0x35df37(0x21b),'transaction':{'amount':_0x119661,'description':_0x35df37(0x119)+_0x4ec55a+_0x35df37(0x2a8)},'customer':{'email':_0x35df37(0x15a)},'onComplete':async function(_0x41474e){const _0xb98f75=_0x35df37;if(_0x41474e['reason']===FedaPay['CHECKOUT_COMPLETED']){const _0x1570ca={'id':_0x41474e['id'],'description':_0xb98f75(0x119)+_0x4ec55a+_0xb98f75(0x2a8),'amount':_0x119661};await activateSubscription(_0x4ec55a),showInvoiceDetails(_0x1570ca),showNotification(_0xb98f75(0x1f2)+_0x4ec55a+_0xb98f75(0x2cf),'success'),await checkFirstPurchaseAndRewardReferrer(currentUser[_0xb98f75(0x177)],_0x119661);}else showNotification('Le\x20paiement\x20a\x20été\x20annulé\x20ou\x20a\x20échoué.',_0xb98f75(0x12a));}});_0x1a70b0[_0x35df37(0x26b)]();}async function activateSubscription(_0x31bf5f){const _0x4e2417=_0xed3f2b,_0x1b64f1={'24h':0x1,'3d':0x3,'7d':0x7,'30d':0x1e,'3m':0x5a},_0x54905f=_0x1b64f1[_0x31bf5f],_0xee2d7f=new Date();_0xee2d7f[_0x4e2417(0x1cf)](_0xee2d7f[_0x4e2417(0x244)]()+_0x54905f),currentUser[_0x4e2417(0x156)]=_0x31bf5f,currentUser[_0x4e2417(0xf9)]=_0xee2d7f[_0x4e2417(0x1ae)](),await syncUserData(),document[_0x4e2417(0x1be)](_0x4e2417(0x156))[_0x4e2417(0x21e)]=_0x31bf5f;}function buyCredits(){const _0x46b91c=_0xed3f2b,_0xa71e24=document['getElementById'](_0x46b91c(0x1ab))[_0x46b91c(0x200)];if(!_0xa71e24){showNotification(_0x46b91c(0x2a5),_0x46b91c(0x12a));return;}const _0x573e87={'10':0xc8,'100':0x3e8,'500':0x1194,'1000':0x1f40},_0x56a0b2=_0x573e87[_0xa71e24];var _0x1099d4=FedaPay['init']({'public_key':_0x46b91c(0x21b),'transaction':{'amount':_0x56a0b2,'description':_0x46b91c(0x15b)+_0xa71e24+_0x46b91c(0x1d3)},'customer':{'email':'client@example.com'},'onComplete':async function(_0x393e7){const _0x55ffaa=_0x46b91c;if(_0x393e7[_0x55ffaa(0x125)]===FedaPay[_0x55ffaa(0x1ec)]){const _0x3b6246={'id':_0x393e7['id'],'description':_0x55ffaa(0x15b)+_0xa71e24+_0x55ffaa(0x1d3),'amount':_0x56a0b2};await addCreditsToUser(parseInt(_0xa71e24)),showInvoiceDetails(_0x3b6246),showNotification(_0xa71e24+_0x55ffaa(0x297),_0x55ffaa(0x1e5)),await checkFirstPurchaseAndRewardReferrer(currentUser[_0x55ffaa(0x177)],_0x56a0b2);}else showNotification(_0x55ffaa(0x165),_0x55ffaa(0x12a));}});_0x1099d4[_0x46b91c(0x26b)]();}async function checkFirstPurchaseAndRewardReferrer(_0x1434e9,_0x5cd33e){const _0x4d3ae7=_0xed3f2b,_0x475c35=db[_0x4d3ae7(0x100)](_0x4d3ae7(0x252)+_0x1434e9),_0xf44a4a=await _0x475c35['once']('value'),_0x2c55fa=_0xf44a4a[_0x4d3ae7(0x18a)]();if(_0x2c55fa&&!_0x2c55fa[_0x4d3ae7(0x157)]){await _0x475c35['update']({'firstPurchase':!![]});if(_0x2c55fa[_0x4d3ae7(0x1ca)]){const _0x5cf547=await db[_0x4d3ae7(0x100)]('users')[_0x4d3ae7(0x228)](_0x4d3ae7(0x2cb))[_0x4d3ae7(0x16e)](_0x2c55fa[_0x4d3ae7(0x1ca)])[_0x4d3ae7(0x251)]('value'),_0x358454=_0x5cf547[_0x4d3ae7(0x18a)]();if(_0x358454){const _0x3d2115=Object['keys'](_0x358454)[0x0],_0x279a9c=db['ref'](_0x4d3ae7(0x252)+_0x3d2115);await _0x279a9c[_0x4d3ae7(0x18b)](_0x50efad=>{const _0x66cc65=_0x4d3ae7;return _0x50efad&&(_0x50efad[_0x66cc65(0x1b6)]=(_0x50efad[_0x66cc65(0x1b6)]||0x0)+0xa,_0x50efad[_0x66cc65(0x25f)]&&_0x50efad[_0x66cc65(0x25f)][_0x1434e9]&&(_0x50efad['referrals'][_0x1434e9][_0x66cc65(0xf5)]=!![])),_0x50efad;}),await updateReferralStats(_0x3d2115),showNotification(_0x4d3ae7(0x27a)+_0x1434e9+_0x4d3ae7(0x158),_0x4d3ae7(0x1e5));}}}}function getShareMessage(_0x10d2ab){const _0x29b024=_0xed3f2b;return encodeURIComponent(_0x29b024(0x101)+_0x10d2ab+_0x29b024(0x1a5));}function shareOnFacebook(){const _0x307cc6=_0xed3f2b,_0x168d91=document[_0x307cc6(0x1be)](_0x307cc6(0x195))[_0x307cc6(0x200)],_0xf6f81a=getShareMessage(_0x168d91);window[_0x307cc6(0x26b)](_0x307cc6(0x199)+_0x168d91+_0x307cc6(0xf1)+_0xf6f81a,_0x307cc6(0x1c8));}function shareOnTwitter(){const _0x194569=_0xed3f2b,_0x37360c=document[_0x194569(0x1be)](_0x194569(0x195))[_0x194569(0x200)],_0x14e2f0=getShareMessage(_0x37360c);window[_0x194569(0x26b)]('https://twitter.com/intent/tweet?url='+_0x37360c+_0x194569(0x21a)+_0x14e2f0,_0x194569(0x1c8));}function shareOnLinkedIn(){const _0x1b074f=_0xed3f2b,_0x5ed333=document[_0x1b074f(0x1be)](_0x1b074f(0x195))[_0x1b074f(0x200)],_0x3841c0=getShareMessage(_0x5ed333);window[_0x1b074f(0x26b)](_0x1b074f(0x2ad)+_0x5ed333+_0x1b074f(0x1fd)+_0x3841c0,_0x1b074f(0x1c8));}function shareOnWhatsApp(){const _0x180d8c=_0xed3f2b,_0x5b68d0=document[_0x180d8c(0x1be)](_0x180d8c(0x195))[_0x180d8c(0x200)],_0x13d132=getShareMessage(_0x5b68d0);window[_0x180d8c(0x26b)](_0x180d8c(0xff)+_0x13d132,'_blank');}function copyReferralLink(){const _0x54b9ca=_0xed3f2b,_0x5b6d57=document[_0x54b9ca(0x1be)](_0x54b9ca(0x195));_0x5b6d57['select'](),document['execCommand'](_0x54b9ca(0x105)),showNotification(_0x54b9ca(0x176),_0x54b9ca(0x1e5));}function showNotification(_0x12382b,_0x57edd9){const _0x585987=_0xed3f2b,_0x579325=document['createElement'](_0x585987(0x142));_0x579325[_0x585987(0x21e)]=_0x12382b,_0x579325[_0x585987(0x279)]='notification\x20'+_0x57edd9,document[_0x585987(0x1ba)][_0x585987(0x1db)](_0x579325),setTimeout(()=>{const _0x57e0a7=_0x585987;_0x579325['classList'][_0x57e0a7(0xfc)](_0x57e0a7(0x259)),setTimeout(()=>{const _0x507fcc=_0x57e0a7;_0x579325[_0x507fcc(0x17c)]['remove']('show'),setTimeout(()=>{const _0x4aa4a2=_0x507fcc;_0x579325[_0x4aa4a2(0x23d)]();},0x12c);},0xbb8);},0x64);}function showPaymentNotification(_0x382e8c){const _0x1be84b=_0xed3f2b,_0x45b278=document['createElement'](_0x1be84b(0x142));_0x45b278[_0x1be84b(0x279)]=_0x1be84b(0x23a),_0x45b278[_0x1be84b(0x238)]=_0x1be84b(0x298)+_0x382e8c+_0x1be84b(0x2b6),document[_0x1be84b(0x1ba)][_0x1be84b(0x1db)](_0x45b278),setTimeout(()=>{const _0x4bee84=_0x1be84b;_0x45b278[_0x4bee84(0x17c)]['add'](_0x4bee84(0x259)),setTimeout(()=>{const _0x5553ad=_0x4bee84;_0x45b278[_0x5553ad(0x17c)][_0x5553ad(0x23d)](_0x5553ad(0x259)),setTimeout(()=>{const _0x500add=_0x5553ad;_0x45b278[_0x500add(0x23d)]();},0x12c);},0x2710);},0x64);}async function showPaymentNotificationWithFreeOption(_0x4c2ab1){return new Promise(_0x38848e=>{const _0x33a95f=_0x26ea,_0xf5f609=document['createElement'](_0x33a95f(0x142));_0xf5f609[_0x33a95f(0x279)]=_0x33a95f(0x23a),_0xf5f609['innerHTML']=_0x33a95f(0x213)+_0x4c2ab1+_0x33a95f(0x25b),document[_0x33a95f(0x1ba)]['appendChild'](_0xf5f609),window[_0x33a95f(0x1aa)]=function(_0x33494d){const _0x5f504b=_0x33a95f;_0xf5f609[_0x5f504b(0x23d)](),_0x38848e(_0x33494d);},setTimeout(()=>{const _0x1928e7=_0x33a95f;_0xf5f609[_0x1928e7(0x17c)][_0x1928e7(0xfc)]('show');},0x64);});}function toggleTheme(){const _0xdb9c4b=_0xed3f2b,_0x3f6a43=document['body'],_0x1baa2b=_0x3f6a43[_0xdb9c4b(0x237)](_0xdb9c4b(0x29a)),_0xd5fd0d=_0x1baa2b===_0xdb9c4b(0x2c9)?'light':_0xdb9c4b(0x2c9);_0x3f6a43[_0xdb9c4b(0x10d)](_0xdb9c4b(0x29a),_0xd5fd0d),localStorage[_0xdb9c4b(0x182)](_0xdb9c4b(0x211),_0xd5fd0d),updateThemeIcon(_0xd5fd0d),document[_0xdb9c4b(0x14f)](_0xdb9c4b(0x1a7))[_0xdb9c4b(0x10d)](_0xdb9c4b(0x273),_0xd5fd0d);}function updateThemeIcon(_0x2f3689){const _0x5b0d80=_0xed3f2b,_0x362551=document['querySelector'](_0x5b0d80(0x26f));_0x362551[_0x5b0d80(0x279)]=_0x2f3689===_0x5b0d80(0x2c9)?_0x5b0d80(0x124):_0x5b0d80(0x19a);}function toggleSidebar(){const _0x4b8ed5=_0xed3f2b,_0x35391e=document[_0x4b8ed5(0x14f)](_0x4b8ed5(0x1b8)),_0x355db1=document[_0x4b8ed5(0x14f)](_0x4b8ed5(0x131));_0x35391e['classList'][_0x4b8ed5(0x28d)]('visible'),_0x355db1[_0x4b8ed5(0x17c)][_0x4b8ed5(0x28d)](_0x4b8ed5(0x10b)),localStorage[_0x4b8ed5(0x182)](_0x4b8ed5(0x173),_0x35391e[_0x4b8ed5(0x17c)]['contains'](_0x4b8ed5(0x1ea)));}function saveConversation(){const _0x5e5709=_0xed3f2b;if(!currentUser)return;const _0xc21495=currentConversation['id']||Date['now']()['toString']();conversations[_0xc21495]=currentConversation,currentConversation['id']=_0xc21495,localStorage['setItem']('conversations_'+currentUser[_0x5e5709(0x177)],JSON['stringify'](conversations)),updateConversationHistory();}function loadConversationHistory(){const _0x43f6c0=_0xed3f2b;if(!currentUser)return;const _0x3c3a8a=localStorage[_0x43f6c0(0x154)](_0x43f6c0(0x15d)+currentUser[_0x43f6c0(0x177)]);_0x3c3a8a&&(conversations=JSON[_0x43f6c0(0x18e)](_0x3c3a8a),updateConversationHistory());}function updateConversationHistory(){const _0x47d0e1=_0xed3f2b,_0xf33cd1=document['getElementById']('historyList');_0xf33cd1[_0x47d0e1(0x238)]='';const _0x255807=Object[_0x47d0e1(0x24c)](conversations)[_0x47d0e1(0x1ff)]((_0x2a9aba,_0x55edb7)=>parseInt(_0x55edb7)-parseInt(_0x2a9aba));_0x255807[_0x47d0e1(0x230)](_0x5e1f72=>{const _0x191ca3=_0x47d0e1,_0x4bd61e=conversations[_0x5e1f72],_0x27d755=document['createElement']('div');_0x27d755[_0x191ca3(0x279)]=_0x191ca3(0x12c);const _0x1c8959=document[_0x191ca3(0x136)](_0x191ca3(0x10c));_0x1c8959[_0x191ca3(0x21e)]=_0x191ca3(0x16a)+new Date(parseInt(_0x5e1f72))[_0x191ca3(0x292)](),_0x1c8959[_0x191ca3(0x1c5)]=()=>loadConversation(_0x5e1f72);const _0x521704=document['createElement']('i');_0x521704[_0x191ca3(0x279)]=_0x191ca3(0x1e7),_0x521704[_0x191ca3(0x1c5)]=_0x18734b=>{const _0x3aef09=_0x191ca3;_0x18734b[_0x3aef09(0x14c)](),deleteConversation(_0x5e1f72);},_0x27d755[_0x191ca3(0x1db)](_0x1c8959),_0x27d755['appendChild'](_0x521704),_0xf33cd1[_0x191ca3(0x1db)](_0x27d755);});}function deleteConversation(_0x535686){const _0x498730=_0xed3f2b;confirm('Êtes-vous\x20sûr\x20de\x20vouloir\x20supprimer\x20cette\x20conversation\x20?')&&(delete conversations[_0x535686],localStorage[_0x498730(0x182)]('conversations_'+currentUser[_0x498730(0x177)],JSON['stringify'](conversations)),updateConversationHistory());}function createNewConversation(){const _0x18da86=_0xed3f2b;currentConversation[_0x18da86(0x28f)]>0x0&&saveConversation();currentConversation=[];const _0x37eef7=document[_0x18da86(0x1be)](_0x18da86(0x117));_0x37eef7['innerHTML']='',updateConversationHistory(),addMessageToChat('ai','Bienvenue\x20dans\x20une\x20nouvelle\x20conversation\x20!\x20Comment\x20puis-je\x20vous\x20aider\x20aujourd\x27hui\x20?'),_0x37eef7['scrollTop']=0x0,document[_0x18da86(0x1be)]('userInput')['focus']();}function loadConversation(_0x6741d1){const _0x4d3eaa=_0xed3f2b;currentConversation[_0x4d3eaa(0x28f)]>0x0&&currentConversation['id']!==_0x6741d1&&saveConversation();currentConversation=conversations[_0x6741d1],currentConversation['id']=_0x6741d1;const _0xbbe803=document[_0x4d3eaa(0x1be)](_0x4d3eaa(0x117));_0xbbe803['innerHTML']='',currentConversation[_0x4d3eaa(0x230)](_0x3f3fe3=>{const _0xeb9837=_0x4d3eaa;addMessageToChat(_0x3f3fe3[_0xeb9837(0x202)],_0x3f3fe3[_0xeb9837(0x273)]);}),_0xbbe803[_0x4d3eaa(0x1b4)]=0x0;}async function syncUserData(){const _0x3fa1cb=_0xed3f2b;if(!currentUser)return;const _0x457e76={'freeCredits':currentUser[_0x3fa1cb(0x226)]||0x0,'paidCredits':currentUser[_0x3fa1cb(0x1b6)]||0x0,'lastFreeCreditsReset':currentUser['lastFreeCreditsReset']||new Date()[_0x3fa1cb(0x1ae)]()};currentUser[_0x3fa1cb(0x156)]&&(_0x457e76[_0x3fa1cb(0x156)]=currentUser[_0x3fa1cb(0x156)]);currentUser[_0x3fa1cb(0xf9)]&&(_0x457e76[_0x3fa1cb(0xf9)]=currentUser['subscriptionEndDate']);const _0x2472a2=db[_0x3fa1cb(0x100)]('users/'+currentUser[_0x3fa1cb(0x177)]);try{await _0x2472a2['update'](_0x457e76),console[_0x3fa1cb(0x2b1)](_0x3fa1cb(0x2d6),_0x457e76);}catch(_0x23fc9c){console[_0x3fa1cb(0x12a)]('Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20des\x20données\x20utilisateur:',_0x23fc9c),showNotification('Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20de\x20votre\x20profil.\x20Veuillez\x20réessayer.',_0x3fa1cb(0x12a));}}function adjustTextareaHeight(){const _0x195384=_0xed3f2b,_0x16da3c=document[_0x195384(0x1be)](_0x195384(0x264));_0x16da3c[_0x195384(0x214)][_0x195384(0x2a2)]='auto',_0x16da3c[_0x195384(0x214)]['height']=_0x16da3c[_0x195384(0x1b0)]+'px';}function resetTextareaHeight(){const _0x27eb71=_0xed3f2b,_0x94e13b=document[_0x27eb71(0x1be)]('userInput');_0x94e13b[_0x27eb71(0x214)][_0x27eb71(0x2a2)]='auto';}async function attemptAutoLogin(){const _0x1e4a10=_0xed3f2b,_0x1b9d09=getStoredLoginInfo();if(_0x1b9d09[_0x1e4a10(0x177)]&&_0x1b9d09[_0x1e4a10(0x193)])try{const _0x4d9434=db[_0x1e4a10(0x100)](_0x1e4a10(0x252)+_0x1b9d09[_0x1e4a10(0x177)]),_0x2bcc85=await _0x4d9434[_0x1e4a10(0x251)]('value');if(_0x2bcc85[_0x1e4a10(0x1fe)]()&&_0x2bcc85[_0x1e4a10(0x18a)]()['password']===_0x1b9d09[_0x1e4a10(0x193)]){const _0x4f31ff=_0x2bcc85[_0x1e4a10(0x18a)]();currentUser={'username':_0x1b9d09[_0x1e4a10(0x177)],'freeCredits':_0x4f31ff['freeCredits'],'paidCredits':_0x4f31ff[_0x1e4a10(0x1b6)],'subscription':_0x4f31ff['subscription'],'subscriptionEndDate':_0x4f31ff[_0x1e4a10(0xf9)],'lastFreeCreditsReset':_0x4f31ff[_0x1e4a10(0x1a6)]},await resetFreeCreditsIfNeeded(),updateUIForLoggedInUser(),console[_0x1e4a10(0x2b1)](_0x1e4a10(0x216));}else clearLoginInfo(),console[_0x1e4a10(0x2b1)]('Échec\x20de\x20la\x20connexion\x20automatique\x20:\x20informations\x20invalides');}catch(_0x4658d9){console['error'](_0x1e4a10(0x137),_0x4658d9),clearLoginInfo();}}function saveSelectedModel(){const _0x2eeb26=_0xed3f2b,_0x3e47bc=document['getElementById']('modelSelect')[_0x2eeb26(0x200)];localStorage[_0x2eeb26(0x182)](_0x2eeb26(0x1b2),_0x3e47bc);}function loadSelectedModel(){const _0x995fc4=_0xed3f2b,_0x5a6c68=localStorage['getItem'](_0x995fc4(0x1b2));_0x5a6c68&&(document['getElementById'](_0x995fc4(0x222))[_0x995fc4(0x200)]=_0x5a6c68);}function showUpgradeButton(_0x534f2e){const _0x70bc56=_0xed3f2b,_0x4dacc3=document[_0x70bc56(0x136)](_0x70bc56(0x1dd));_0x4dacc3[_0x70bc56(0x21e)]='Passer\x20à\x20un\x20modèle\x20avancé',_0x4dacc3[_0x70bc56(0x279)]=_0x70bc56(0x1fc),_0x4dacc3[_0x70bc56(0x1c5)]=()=>{const _0x3c9372=_0x70bc56;hasValidSubscription()||currentUser[_0x3c9372(0x1b6)]>0x0?(document['getElementById']('modelSelect')[_0x3c9372(0x200)]=_0x3c9372(0x1e8),showNotification(_0x3c9372(0x11a),'success')):showPaymentNotification(_0x3c9372(0x123));},_0x534f2e[_0x70bc56(0x1db)](_0x4dacc3);}function animateResponse(_0x56e2f7,_0x2b601a){const _0x7198a5=_0xed3f2b;let _0x433acc=0x0;_0x56e2f7[_0x7198a5(0x21e)]='';const _0x404915=setInterval(()=>{const _0x472a84=_0x7198a5;_0x433acc<_0x2b601a['length']?(_0x56e2f7[_0x472a84(0x21e)]+=_0x2b601a[_0x433acc],_0x433acc++):clearInterval(_0x404915);},0x1);}function loadPromptCategories(){const _0x5ed43e=_0xed3f2b,_0xaaa4e6=document[_0x5ed43e(0x1be)](_0x5ed43e(0x17e));_0xaaa4e6['innerHTML']='',db['ref'](_0x5ed43e(0x1a8))['once'](_0x5ed43e(0x200),_0x10a7c1=>{const _0x473421=_0x5ed43e;prompts=_0x10a7c1['val']()||{};const _0x41ac71=[...new Set(Object[_0x473421(0x2af)](prompts)['map'](_0x249da2=>_0x249da2['category']))];_0x41ac71['forEach'](_0x4c85eb=>{const _0x196cc7=_0x473421,_0x2dc358=document[_0x196cc7(0x136)]('li');_0x2dc358['textContent']=_0x4c85eb,_0x2dc358[_0x196cc7(0x1c5)]=()=>{const _0x8a174=_0x196cc7;document[_0x8a174(0x135)](_0x8a174(0x2a9))['forEach'](_0x78f737=>_0x78f737[_0x8a174(0x17c)][_0x8a174(0x23d)]('active')),_0x2dc358[_0x8a174(0x17c)]['add'](_0x8a174(0x2cd)),loadPromptsForCategory(_0x4c85eb);},_0xaaa4e6[_0x196cc7(0x1db)](_0x2dc358);}),_0x41ac71[_0x473421(0x28f)]>0x0&&(loadPromptsForCategory(_0x41ac71[0x0]),_0xaaa4e6[_0x473421(0x15c)][_0x473421(0x17c)][_0x473421(0xfc)]('active'));});}function loadPromptsForCategory(_0x15b906){const _0x43e9b3=_0xed3f2b,_0x8bfb2d=document['getElementById'](_0x43e9b3(0x19f));_0x8bfb2d[_0x43e9b3(0x238)]='',Object[_0x43e9b3(0x171)](prompts)['forEach'](([_0x363589,_0x2bb6cc])=>{const _0x2678a1=_0x43e9b3;if(_0x2bb6cc[_0x2678a1(0x180)]===_0x15b906){const _0xcce967=document[_0x2678a1(0x136)]('li');_0xcce967[_0x2678a1(0x238)]=_0x2678a1(0x166)+_0x363589+_0x2678a1(0x16b)+JSON[_0x2678a1(0x2b7)](_0x2bb6cc)[_0x2678a1(0x26e)](/"/g,_0x2678a1(0x15f))+_0x2678a1(0x234)+_0x2bb6cc['title']+_0x2678a1(0x2ac),_0x8bfb2d['appendChild'](_0xcce967);}});}function selectPrompt(_0x5f3321,_0x554155){const _0x1a5f50=_0xed3f2b;pinnedPrompt={'id':_0x5f3321,..._0x554155},updatePinnedPrompt(),closePromptModal(),showNotification(_0x1a5f50(0x29c),_0x1a5f50(0x1e5));const _0x7aadf1=document[_0x1a5f50(0x1be)](_0x1a5f50(0x264));_0x7aadf1[_0x1a5f50(0x223)]=pinnedPrompt['indicativeText']||_0x1a5f50(0xee),adjustTextareaHeight();}function closePromptModal(){const _0x4cf10f=_0xed3f2b;document[_0x4cf10f(0x1be)](_0x4cf10f(0x148))[_0x4cf10f(0x214)][_0x4cf10f(0x1bb)]=_0x4cf10f(0x141);}function togglePromptList(){const _0x2fcef0=_0xed3f2b,_0x5e2a2e=document[_0x2fcef0(0x1be)]('promptListModal');_0x5e2a2e[_0x2fcef0(0x214)][_0x2fcef0(0x1bb)]=_0x2fcef0(0x240),loadPromptCategories();}function updatePinnedPrompt(){const _0x321d41=_0xed3f2b,_0x2ef0f1=document['getElementById'](_0x321d41(0x1f8)),_0x7bc4ce=_0x2ef0f1[_0x321d41(0x14f)](_0x321d41(0x1f1));_0x7bc4ce&&_0x7bc4ce[_0x321d41(0x23d)]();if(pinnedPrompt){const _0x22caf3=document[_0x321d41(0x136)]('div');_0x22caf3[_0x321d41(0x279)]=_0x321d41(0x293),_0x22caf3[_0x321d41(0x10d)](_0x321d41(0x17a),'prompt'),_0x22caf3['innerHTML']=_0x321d41(0x29d)+pinnedPrompt[_0x321d41(0x115)]+'\x22>'+pinnedPrompt[_0x321d41(0x115)]+_0x321d41(0x20d),_0x2ef0f1['appendChild'](_0x22caf3);}}function removePinnedPrompt(){pinnedPrompt=null,updatePinnedPrompt();}function openLibrary(){const _0x5253e8=_0xed3f2b;console[_0x5253e8(0x2b1)](_0x5253e8(0x14b));if(currentUser){console[_0x5253e8(0x2b1)]('Utilisateur\x20connecté:',currentUser);const _0x32fcc2={'username':currentUser['username'],'freeCredits':currentUser[_0x5253e8(0x226)],'paidCredits':currentUser[_0x5253e8(0x1b6)],'subscription':currentUser[_0x5253e8(0x156)]};localStorage[_0x5253e8(0x182)](_0x5253e8(0x130),JSON[_0x5253e8(0x2b7)](_0x32fcc2)),console[_0x5253e8(0x2b1)](_0x5253e8(0x2c5)),window[_0x5253e8(0x114)]['href']=_0x5253e8(0x104);}else console[_0x5253e8(0x2b1)]('Utilisateur\x20non\x20connecté'),alert('Veuillez\x20vous\x20connecter\x20pour\x20accéder\x20à\x20la\x20bibliothèque.');}async function showReferralModal(){const _0x59890f=_0xed3f2b,_0x36eb28=document['getElementById'](_0x59890f(0x266));_0x36eb28[_0x59890f(0x214)]['display']=_0x59890f(0x240);const _0x1911ff=await getOrCreateReferralCode();if(_0x1911ff){const _0x5a2d4d=_0x59890f(0x224)+_0x1911ff;document[_0x59890f(0x1be)](_0x59890f(0x195))['value']=_0x5a2d4d;const _0x38aa76='Rejoignez-moi\x20sur\x20Eduque\x20moi\x20et\x20commencez\x20votre\x20voyage\x20d\x27apprentissage\x20!\x20Utilisez\x20mon\x20lien\x20de\x20parrainage\x20pour\x20obtenir\x20des\x20bonus\x20spéciaux\x20:\x20'+_0x5a2d4d;document['getElementById'](_0x59890f(0x195))[_0x59890f(0x10d)]('data-invite-message',_0x38aa76);}else document[_0x59890f(0x1be)](_0x59890f(0x195))['value']=_0x59890f(0x20f);await updateReferralStats(currentUser[_0x59890f(0x177)]);}function generateReferralCode(){const _0x42b60a=_0xed3f2b;return Math[_0x42b60a(0x2bc)]()[_0x42b60a(0x159)](0x24)[_0x42b60a(0x183)](0x2,0x8)[_0x42b60a(0x190)]();}async function getOrCreateReferralCode(){const _0x21a114=_0xed3f2b;if(!currentUser)return null;const _0x544b51=db[_0x21a114(0x100)](_0x21a114(0x252)+currentUser[_0x21a114(0x177)]),_0x30e2da=await _0x544b51[_0x21a114(0x251)](_0x21a114(0x200)),_0x2aeb5c=_0x30e2da[_0x21a114(0x18a)]();if(_0x2aeb5c&&_0x2aeb5c[_0x21a114(0x2cb)])return _0x2aeb5c[_0x21a114(0x2cb)];else{const _0x34122c=generateReferralCode();return await _0x544b51[_0x21a114(0x168)]({'referralCode':_0x34122c}),_0x34122c;}}async function updateReferralStats(_0x3368fa){const _0xfef150=_0xed3f2b,_0x30a66f=db[_0xfef150(0x100)](_0xfef150(0x252)+_0x3368fa),_0x5d6306=await _0x30a66f[_0xfef150(0x251)](_0xfef150(0x200)),_0x3e4a9e=_0x5d6306[_0xfef150(0x18a)]();if(_0x3e4a9e&&_0x3e4a9e['referrals']){const _0x4ea301=_0x3e4a9e[_0xfef150(0x25f)],_0x3c5187=Object['keys'](_0x4ea301)[_0xfef150(0x28f)],_0x2a18da=Object['values'](_0x4ea301)[_0xfef150(0x2bb)](_0xb188b=>_0xb188b[_0xfef150(0xf5)])[_0xfef150(0x28f)];await _0x30a66f[_0xfef150(0x168)]({'totalReferrals':_0x3c5187,'activeReferrals':_0x2a18da}),currentUser&&currentUser['username']===_0x3368fa&&(document[_0xfef150(0x1be)](_0xfef150(0x145))[_0xfef150(0x21e)]=_0x3c5187,document[_0xfef150(0x1be)](_0xfef150(0x295))[_0xfef150(0x21e)]=_0x2a18da);}}window[_0xed3f2b(0x22c)]=async function(){const _0x7d112=_0xed3f2b;await attemptAutoLogin();if(currentUser){if(currentUser['freeCredits']===undefined)currentUser[_0x7d112(0x226)]=0x0;if(currentUser['paidCredits']===undefined)currentUser[_0x7d112(0x1b6)]=0x0;if(currentUser[_0x7d112(0x156)]===undefined)currentUser[_0x7d112(0x156)]=null;if(currentUser['subscriptionEndDate']===undefined)currentUser[_0x7d112(0xf9)]=null;if(currentUser[_0x7d112(0x1a6)]===undefined)currentUser['lastFreeCreditsReset']=new Date()[_0x7d112(0x1ae)]();const _0x1cde42=db[_0x7d112(0x100)](_0x7d112(0x252)+currentUser[_0x7d112(0x177)]),_0x409762=await _0x1cde42[_0x7d112(0x251)](_0x7d112(0x200)),_0x2ad163=_0x409762[_0x7d112(0x18a)]();_0x2ad163&&(importedFilesCount=_0x2ad163[_0x7d112(0x16c)]||0x0,lastImportReset=new Date(_0x2ad163[_0x7d112(0x13b)]||new Date())),await syncUserData();}const _0x3554a3=localStorage[_0x7d112(0x154)]('theme')||_0x7d112(0x132);document[_0x7d112(0x1ba)][_0x7d112(0x10d)](_0x7d112(0x29a),_0x3554a3),updateThemeIcon(_0x3554a3),setupUIEventListeners();currentUser&&loadConversationHistory();initModals(),loadSelectedModel(),document[_0x7d112(0x1be)]('modelSelect')[_0x7d112(0x2cc)]('change',saveSelectedModel),restoreAppState(),initializeNewDiscussion(),document['body']['classList'][_0x7d112(0xfc)]('loaded'),setInterval(checkSubscriptionStatus,0x36ee80),await loadApiKeyList(),initializeGeminiAPI();const _0x325782=document[_0x7d112(0x1be)](_0x7d112(0x222));!_0x325782[_0x7d112(0x200)]&&(_0x325782[_0x7d112(0x200)]=_0x7d112(0x2a1));};function setupUIEventListeners(){const _0x463859=_0xed3f2b,_0x1f7425=document[_0x463859(0x14f)](_0x463859(0x277)),_0x1b0a8a=document[_0x463859(0x1be)](_0x463859(0x264)),_0x25e77f=document[_0x463859(0x14f)](_0x463859(0x249)),_0x2394bd=_0x1f7425['querySelector'](_0x463859(0x188));function _0x4f8d13(){const _0xee3a3f=_0x463859,_0xa652fd=_0x1f7425[_0xee3a3f(0x269)],_0x1abf23=_0x25e77f['offsetWidth'],_0x326154=document[_0xee3a3f(0x1be)](_0xee3a3f(0x13e))[_0xee3a3f(0x269)],_0x3f4cd0=_0x2394bd[_0xee3a3f(0x269)],_0x91ccd6=0x1e;_0x1b0a8a['style'][_0xee3a3f(0x15e)]=_0xa652fd-_0x1abf23-_0x326154-_0x3f4cd0-_0x91ccd6+'px';}_0x4f8d13(),window['addEventListener'](_0x463859(0x133),_0x4f8d13),_0x1b0a8a[_0x463859(0x2cc)](_0x463859(0x149),adjustTextareaHeight),document['getElementById'](_0x463859(0x222))[_0x463859(0x2cc)](_0x463859(0x287),checkModelAccess);window[_0x463859(0x284)]<=0x300&&(document['querySelector'](_0x463859(0x1b8))[_0x463859(0x17c)][_0x463859(0x23d)](_0x463859(0x1ea)),document[_0x463859(0x14f)](_0x463859(0x131))[_0x463859(0x17c)][_0x463859(0x23d)](_0x463859(0x10b)));if(currentUser){const _0x564aee=db[_0x463859(0x100)](_0x463859(0x252)+currentUser[_0x463859(0x177)]);_0x564aee['on'](_0x463859(0x200),_0x178c79=>{const _0x35ad71=_0x463859,_0x3fedee=_0x178c79[_0x35ad71(0x18a)]();_0x3fedee&&(currentUser={...currentUser,'freeCredits':_0x3fedee[_0x35ad71(0x226)],'paidCredits':_0x3fedee['paidCredits'],'subscription':_0x3fedee[_0x35ad71(0x156)],'subscriptionEndDate':_0x3fedee['subscriptionEndDate'],'lastFreeCreditsReset':_0x3fedee[_0x35ad71(0x1a6)]},updateUIForLoggedInUser());});}}function initModals(){const _0x3962fc=_0xed3f2b,_0xc7c304=document[_0x3962fc(0x135)](_0x3962fc(0x14d)),_0x1a14ab=document[_0x3962fc(0x135)](_0x3962fc(0x110));_0x1a14ab['forEach'](_0x558355=>{const _0x1762cc=_0x3962fc;_0x558355[_0x1762cc(0x2cc)](_0x1762cc(0x248),()=>{const _0x310549=_0x1762cc;_0x558355['closest'](_0x310549(0x14d))[_0x310549(0x214)]['display']='none';});}),window['addEventListener'](_0x3962fc(0x248),_0x5b1633=>{const _0x465bad=_0x3962fc;_0xc7c304[_0x465bad(0x230)](_0x556711=>{const _0x256f30=_0x465bad;_0x5b1633[_0x256f30(0x1e9)]===_0x556711&&(_0x556711[_0x256f30(0x214)][_0x256f30(0x1bb)]='none');});});}window['addEventListener'](_0xed3f2b(0xf0),async()=>{const _0x423698=_0xed3f2b;if(currentUser){const _0x51ad7d=await checkGuidedTourStatus(currentUser[_0x423698(0x177)]);!_0x51ad7d&&(startGuidedTour(),await markGuidedTourAsSeen(currentUser[_0x423698(0x177)]));}}),document[_0xed3f2b(0x2cc)](_0xed3f2b(0x19e),function(_0x350821){const _0x1c332a=_0xed3f2b;_0x350821['key']==='Enter'&&!_0x350821[_0x1c332a(0x144)]&&(_0x350821[_0x1c332a(0x19b)](),sendMessage());}),document[_0xed3f2b(0x1be)](_0xed3f2b(0x264))[_0xed3f2b(0x2cc)](_0xed3f2b(0x19e),function(_0x290471){const _0x34d547=_0xed3f2b;if(_0x290471['key']===_0x34d547(0x245)&&_0x290471[_0x34d547(0x144)]){_0x290471['preventDefault']();const _0x2a657f=this['selectionStart'],_0x3e9b4b=this[_0x34d547(0xfd)],_0x4feba0=this[_0x34d547(0x200)];this['value']=_0x4feba0['substring'](0x0,_0x2a657f)+'\x0a'+_0x4feba0['substring'](_0x3e9b4b),this[_0x34d547(0x147)]=this[_0x34d547(0xfd)]=_0x2a657f+0x1;}});function checkApiStatus(){const _0x2f0b22=_0xed3f2b;axios['get'](API_BASE_URL+'models?key='+API_KEY)['then'](_0x4374fa=>{const _0x1e4257=_0x26ea;console[_0x1e4257(0x2b1)]('Statut\x20de\x20l\x27API\x20Gemini:',_0x4374fa[_0x1e4257(0x203)]),console[_0x1e4257(0x2b1)](_0x1e4257(0x204),_0x4374fa['data']);})[_0x2f0b22(0x2a4)](_0x16a669=>{const _0x90011=_0x2f0b22;console[_0x90011(0x12a)](_0x90011(0x256),_0x16a669);});}function checkApiStatusRegularly(){checkApiStatus(),setInterval(checkApiStatus,0xea60);}window[_0xed3f2b(0x2cc)]('offline',function(){const _0x53d018=_0xed3f2b;showNotification(_0x53d018(0x118),_0x53d018(0x12a));}),window[_0xed3f2b(0x2cc)](_0xed3f2b(0x1eb),function(){const _0x36942e=_0xed3f2b;showNotification('Vous\x20êtes\x20de\x20nouveau\x20en\x20ligne.',_0x36942e(0x1e5));}),window[_0xed3f2b(0x2cc)](_0xed3f2b(0x18f),function(){const _0x52ee70=_0xed3f2b;currentUser&&localStorage[_0x52ee70(0x182)]('lastConversation',JSON[_0x52ee70(0x2b7)](currentConversation));});function restoreAppState(){const _0x3dfd24=_0xed3f2b,_0x4748f7=localStorage['getItem'](_0x3dfd24(0x16f));_0x4748f7&&(currentConversation=JSON['parse'](_0x4748f7),currentConversation[_0x3dfd24(0x230)](_0x520c4c=>{addMessageToChat(_0x520c4c['sender'],_0x520c4c['content']);}));}function isImageGenerationModel(_0x3d3894){const _0x1289f2=_0xed3f2b;return _0x3d3894[_0x1289f2(0x215)]('recraft-');}function getRecraftStyle(_0x43195b){const _0x54b4dd=_0xed3f2b,_0x22b59f={'recraft-realistic':_0x54b4dd(0x275),'recraft-digital':_0x54b4dd(0x1b9),'recraft-vector':_0x54b4dd(0x2c2),'recraft-icon':_0x54b4dd(0x121)};return _0x22b59f[_0x43195b]||_0x54b4dd(0x275);}async function initializeImageGenerationTracking(_0x35d393){const _0x2e7848=_0xed3f2b,_0x1d2da7=db['ref'](_0x2e7848(0x252)+_0x35d393),_0x4c3603=await _0x1d2da7[_0x2e7848(0x241)](_0x2e7848(0x2c7))['once'](_0x2e7848(0x200)),_0x36da30=_0x4c3603[_0x2e7848(0x18a)]();(!_0x36da30||isNewDay(_0x36da30[_0x2e7848(0x102)]))&&await _0x1d2da7[_0x2e7848(0x241)](_0x2e7848(0x2c7))[_0x2e7848(0x172)]({'dailyCount':0x0,'lastReset':new Date()['toISOString']()});}function isNewDay(_0x573659){const _0x4cf84a=_0xed3f2b;if(!_0x573659)return!![];const _0x2c5007=new Date(_0x573659),_0x7de77=new Date();return _0x2c5007[_0x4cf84a(0x244)]()!==_0x7de77['getDate']()||_0x2c5007[_0x4cf84a(0x1ac)]()!==_0x7de77[_0x4cf84a(0x1ac)]()||_0x2c5007[_0x4cf84a(0x265)]()!==_0x7de77[_0x4cf84a(0x265)]();}async function getImageGenerationCount(_0x5c87d9){const _0x3e6c85=_0xed3f2b,_0x10c259=db[_0x3e6c85(0x100)](_0x3e6c85(0x252)+_0x5c87d9),_0x4d8e48=await _0x10c259['child'](_0x3e6c85(0x2c7))['once'](_0x3e6c85(0x200)),_0x178a99=_0x4d8e48[_0x3e6c85(0x18a)]();if(!_0x178a99||isNewDay(_0x178a99['lastReset']))return await initializeImageGenerationTracking(_0x5c87d9),0x0;return _0x178a99[_0x3e6c85(0x243)];}async function incrementImageGenerationCount(_0x1592fd){const _0x139fda=_0xed3f2b,_0x21c4c8=db[_0x139fda(0x100)](_0x139fda(0x252)+_0x1592fd);await _0x21c4c8[_0x139fda(0x241)](_0x139fda(0x2c7))[_0x139fda(0x18b)](_0x46513c=>{const _0x4b16cf=_0x139fda;if(!_0x46513c||isNewDay(_0x46513c['lastReset']))return{'dailyCount':0x1,'lastReset':new Date()[_0x4b16cf(0x1ae)]()};return{'dailyCount':_0x46513c[_0x4b16cf(0x243)]+0x1,'lastReset':_0x46513c[_0x4b16cf(0x102)]};});}async function canGenerateImage(){const _0x41d153=_0xed3f2b,_0x4af3c3=await getImageGenerationCount(currentUser[_0x41d153(0x177)]),_0x1c5d9b=hasValidSubscription(),_0x3f7f30=currentUser[_0x41d153(0x1b6)]>=0x5||currentUser[_0x41d153(0x226)]>=0x5;if(_0x1c5d9b&&_0x4af3c3<0x5)return{'canGenerate':!![],'useFreeGeneration':!![],'message':_0x41d153(0x25e)+(0x5-_0x4af3c3)+_0x41d153(0x22e)};if(_0x3f7f30)return{'canGenerate':!![],'useFreeGeneration':![],'message':_0x41d153(0x276)};return{'canGenerate':![],'useFreeGeneration':![],'message':'Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20pour\x20générer\x20une\x20image.'};}function confirmCreditUsage(_0x27641e){return new Promise(_0x535ed4=>{const _0x2ef1cd=_0x26ea,_0x4c9d46=document[_0x2ef1cd(0x136)]('div');_0x4c9d46[_0x2ef1cd(0x279)]='notification\x20warning',_0x4c9d46['innerHTML']=_0x2ef1cd(0x162)+_0x27641e+_0x2ef1cd(0x1f0),document[_0x2ef1cd(0x1ba)][_0x2ef1cd(0x1db)](_0x4c9d46),setTimeout(()=>_0x4c9d46[_0x2ef1cd(0x17c)][_0x2ef1cd(0xfc)](_0x2ef1cd(0x259)),0x64);function _0x59d1f0(_0x1143de){const _0x31425e=_0x2ef1cd,_0x5efcad=_0x1143de[_0x31425e(0x1e9)][_0x31425e(0x1df)](_0x31425e(0x1a9))[_0x31425e(0x237)](_0x31425e(0x178));_0x4c9d46[_0x31425e(0x17c)]['remove']('show'),setTimeout(()=>{const _0xe63877=_0x31425e;_0x4c9d46[_0xe63877(0x23d)](),_0x535ed4(_0x5efcad===_0xe63877(0x278));},0x12c);}_0x4c9d46[_0x2ef1cd(0x135)](_0x2ef1cd(0x1dd))[_0x2ef1cd(0x230)](_0x4d2a0d=>{const _0x5f23d9=_0x2ef1cd;_0x4d2a0d[_0x5f23d9(0x2cc)](_0x5f23d9(0x248),_0x59d1f0);});});}function updateUI(){const _0x69f46c=_0xed3f2b;currentUser&&(document[_0x69f46c(0x1be)]('freeCredits')['textContent']=currentUser['freeCredits'],document[_0x69f46c(0x1be)](_0x69f46c(0x1b6))[_0x69f46c(0x21e)]=currentUser['paidCredits'],document[_0x69f46c(0x1be)](_0x69f46c(0x156))[_0x69f46c(0x21e)]=currentUser[_0x69f46c(0x156)]||_0x69f46c(0x285));}document['addEventListener']('click',function(_0x2251c0){const _0x2a14fd=_0xed3f2b,_0x1078d5=document[_0x2a14fd(0x14f)](_0x2a14fd(0x1b8)),_0x5e15a3=document[_0x2a14fd(0x14f)](_0x2a14fd(0x229));_0x1078d5['classList']['contains']('visible')&&!_0x1078d5[_0x2a14fd(0xf3)](_0x2251c0[_0x2a14fd(0x1e9)])&&!_0x5e15a3[_0x2a14fd(0xf3)](_0x2251c0[_0x2a14fd(0x1e9)])&&(toggleSidebar(),_0x2251c0['preventDefault']());}),window[_0xed3f2b(0x262)]=function(_0x4d9def){const _0x419993=_0xed3f2b,_0x2910f3=document[_0x419993(0x14f)](_0x419993(0x1b8));if(_0x2910f3[_0x419993(0x17c)][_0x419993(0xf3)](_0x419993(0x1ea)))return toggleSidebar(),_0x4d9def['preventDefault'](),history[_0x419993(0x107)]({},'',''),![];},document['getElementById'](_0xed3f2b(0x2a6))['accept']=_0xed3f2b(0x27f),setInterval(updateUI,0x493e0),checkApiStatusRegularly(),window['showLoginModal']=showLoginModal,window[_0xed3f2b(0x221)]=showRegisterModal,window['login']=login,window['register']=register,window[_0xed3f2b(0x253)]=logout,window['sendMessage']=sendMessage,window['buySubscription']=buySubscription,window['buyCredits']=buyCredits,window[_0xed3f2b(0x192)]=toggleTheme,window[_0xed3f2b(0x187)]=toggleSidebar,window[_0xed3f2b(0x11e)]=createNewConversation,window[_0xed3f2b(0x18d)]=handleFileUpload,window[_0xed3f2b(0x1ce)]=togglePromptList,window[_0xed3f2b(0x12d)]=showReferralModal,window['generateReferralCode']=generateReferralCode,window[_0xed3f2b(0x19d)]=copyReferralLink,window[_0xed3f2b(0x1bf)]=shareOnFacebook,window[_0xed3f2b(0x29e)]=shareOnTwitter,window[_0xed3f2b(0x175)]=shareOnLinkedIn,window[_0xed3f2b(0x16d)]=shareOnWhatsApp,window['removePinnedFile']=removePinnedFile;
